"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9139],{79139:function(n,e,t){t.r(e);var r=t(34051),u=t.n(r),o=t(85893),i=t(41464),c=t(96720),s=t(66639);function a(n,e,t,r,u,o,i){try{var c=n[o](i),s=c.value}catch(a){return void t(a)}c.done?e(s):Promise.resolve(s).then(r,u)}function f(n){return function(){var e=this,t=arguments;return new Promise((function(r,u){var o=n.apply(e,t);function i(n){a(o,r,u,i,c,"next",n)}function c(n){a(o,r,u,i,c,"throw",n)}i(void 0)}))}}e.default=function(){var n=(0,s.lJ)(),e=n.mutate,t=n.isLoading,r=(0,c.X9)().data,a=(0,c.SO)().closeModal;function l(){return(l=f(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({user_id:r}),a();case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,o.jsx)(i.Z,{onCancel:a,onDelete:function(){return l.apply(this,arguments)},deleteBtnText:"text-yes",title:"text-make-admin",description:"text-description-make-admin",deleteBtnLoading:t})}},59338:function(n,e,t){t.d(e,{B:function(){return a}});var r=t(17785),u=t(14141);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(){return i=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},i.apply(this,arguments)}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){o(n,e,t[e])}))}return n}function s(n,e){if(null==n)return{};var t,r,u=function(n,e){if(null==n)return{};var t,r,u={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(u[t]=n[t]);return u}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(u[t]=n[t])}return u}var a={me:function(){return u.eN.get(r.P.ME)},login:function(n){return u.eN.post(r.P.TOKEN,n)},logout:function(){return u.eN.post(r.P.LOGOUT,{})},register:function(n){return u.eN.post(r.P.REGISTER,n)},update:function(n){var e=n.id,t=n.input;return u.eN.put("".concat(r.P.USERS,"/").concat(e),t)},changePassword:function(n){return u.eN.post(r.P.CHANGE_PASSWORD,n)},forgetPassword:function(n){return u.eN.post(r.P.FORGET_PASSWORD,n)},verifyForgetPasswordToken:function(n){return u.eN.post(r.P.VERIFY_FORGET_PASSWORD_TOKEN,n)},resetPassword:function(n){return u.eN.post(r.P.RESET_PASSWORD,n)},makeAdmin:function(n){return u.eN.post(r.P.MAKE_ADMIN,n)},block:function(n){return u.eN.post(r.P.BLOCK_USER,n)},unblock:function(n){return u.eN.post(r.P.UNBLOCK_USER,n)},addWalletPoints:function(n){return u.eN.post(r.P.ADD_WALLET_POINTS,n)},fetchUsers:function(n){var e=n.name,t=s(n,["name"]);return u.eN.get(r.P.USERS,c({searchJoin:"and",with:"wallet"},t,{search:u.eN.formatSearchParams({name:e})}))},fetchAdmins:function(n){var e=i({},n);return u.eN.get(r.P.ADMIN_LIST,c({searchJoin:"and"},e))},fetchUser:function(n){var e=n.id;return u.eN.get("".concat(r.P.USERS,"/").concat(e))}}},66639:function(n,e,t){t.d(e,{UE:function(){return S},f0:function(){return v},_y:function(){return P},l4:function(){return p},kD:function(){return m},$h:function(){return y},xy:function(){return g},AV:function(){return E},gL:function(){return O},lJ:function(){return h},q3:function(){return b},xE:function(){return N},h3:function(){return A},bT:function(){return R},xY:function(){return w},Jc:function(){return k}});var r=t(13135),u=t(90551),o=t(31955),i=t(70300),c=t(11163),s=t(88767),a=t(40782),f=t(17785),l=t(59338),d=t(66889),S=function(){return(0,s.useQuery)([f.P.ME],l.B.me)};function v(){return(0,s.useMutation)(l.B.login)}var P=function(){var n=(0,c.useRouter)(),e=(0,i.$G)().t;return(0,s.useMutation)(l.B.logout,{onSuccess:function(){o.Z.remove(r.E$),n.replace(u.Z.login),a.Am.success(e("common:successfully-logout"))}})},p=function(){var n=(0,s.useQueryClient)(),e=(0,i.$G)().t;return(0,s.useMutation)(l.B.register,{onSuccess:function(){a.Am.success(e("common:successfully-register"))},onSettled:function(){n.invalidateQueries(f.P.REGISTER)}})},m=function(){var n=(0,i.$G)().t,e=(0,s.useQueryClient)();return(0,s.useMutation)(l.B.update,{onSuccess:function(){a.Am.success(n("common:successfully-updated"))},onSettled:function(){e.invalidateQueries(f.P.ME),e.invalidateQueries(f.P.USERS)}})},y=function(){return(0,s.useMutation)(l.B.changePassword)},g=function(){return(0,s.useMutation)(l.B.forgetPassword)},E=function(){return(0,s.useMutation)(l.B.verifyForgetPasswordToken)},O=function(){return(0,s.useMutation)(l.B.resetPassword)},h=function(){var n=(0,s.useQueryClient)(),e=(0,i.$G)().t;return(0,s.useMutation)(l.B.makeAdmin,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(f.P.USERS)}})},b=function(){var n=(0,s.useQueryClient)(),e=(0,i.$G)().t;return(0,s.useMutation)(l.B.block,{onSuccess:function(){a.Am.success(e("common:successfully-block"))},onSettled:function(){n.invalidateQueries(f.P.USERS),n.invalidateQueries(f.P.STAFFS)}})},N=function(){var n=(0,s.useQueryClient)(),e=(0,i.$G)().t;return(0,s.useMutation)(l.B.unblock,{onSuccess:function(){a.Am.success(e("common:successfully-unblock"))},onSettled:function(){n.invalidateQueries(f.P.USERS),n.invalidateQueries(f.P.STAFFS)}})},A=function(){var n=(0,i.$G)().t,e=(0,s.useQueryClient)();return(0,s.useMutation)(l.B.addWalletPoints,{onSuccess:function(){a.Am.success(n("common:successfully-updated"))},onSettled:function(){e.invalidateQueries(f.P.USERS)}})},R=function(n){var e=n.id;return(0,s.useQuery)([f.P.USERS,e],(function(){return l.B.fetchUser({id:e})}),{enabled:Boolean(e)})},w=function(n){var e,t=(0,s.useQuery)([f.P.USERS,n],(function(){return l.B.fetchUsers(n)}),{keepPreviousData:!0}),r=t.data,u=t.isLoading,o=t.error;return{users:null!==(e=null===r||void 0===r?void 0:r.data)&&void 0!==e?e:[],paginatorInfo:(0,d.Q)(r),loading:u,error:o}},k=function(n){var e,t=(0,s.useQuery)([f.P.ADMIN_LIST,n],(function(){return l.B.fetchAdmins(n)}),{keepPreviousData:!0}),r=t.data,u=t.isLoading,o=t.error;return{admins:null!==(e=null===r||void 0===r?void 0:r.data)&&void 0!==e?e:[],paginatorInfo:(0,d.Q)(r),loading:u,error:o}}}}]);