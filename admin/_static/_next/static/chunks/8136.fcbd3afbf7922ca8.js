"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8136],{48136:function(e,t,n){n.r(t);var r=n(85893),u=n(41464),o=n(96720),c=n(85332),i=n(11163);t.default=function(){var e=(0,i.useRouter)(),t=(0,c.Bs)(),n=t.mutate,s=t.isLoading,a=(0,o.X9)().data,l=(0,o.SO)().closeModal;return(0,r.jsx)(u.Z,{title:"text-decline",description:"text-decline-report-modal-description",onCancel:l,deleteBtnText:"text-decline",onDelete:function(){n(a),l(),e.push("/reviews")},deleteBtnLoading:s})}},85332:function(e,t,n){n.d(t,{Cw:function(){return O},Bs:function(){return g},hI:function(){return E},$B:function(){return S},_s:function(){return m}});var r=n(88767),u=n(40782),o=n(70300),c=n(66889),i=n(17785),s=n(96720),a=n(14511),l=n(14141);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n,r,u={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(u[n]=e[n]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}var b=d({},(0,a.h)(i.P.REVIEWS),{reportAbuse:function(e){return l.eN.post(i.P.ABUSIVE_REPORTS,e)},decline:function(e){return l.eN.post(i.P.ABUSIVE_REPORTS_DECLINE,e)},get:function(e){var t=e.id;return l.eN.get("".concat(i.P.REVIEWS,"/").concat(t),{with:"abusive_reports.user;product;user"})},paginated:function(e){var t=e.type,n=e.shop_id,r=p(e,["type","shop_id"]);return l.eN.get(i.P.REVIEWS,d({searchJoin:"and",with:"product;user"},r,{search:l.eN.formatSearchParams({type:t,shop_id:n})}))}});function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}var O=function(){var e=(0,r.useQueryClient)(),t=(0,o.$G)("common").t,n=(0,s.SO)().closeModal;return(0,r.useMutation)(b.reportAbuse,{onSuccess:function(){u.Am.success(t("text-abuse-report-submitted"))},onSettled:function(){e.refetchQueries(i.P.REVIEWS),n()}})},g=function(){var e=(0,r.useQueryClient)(),t=(0,o.$G)("common").t;return(0,r.useMutation)(b.decline,{onSuccess:function(){u.Am.success(t("successfully-decline"))},onSettled:function(){e.refetchQueries(i.P.REVIEWS)}})},E=function(){var e=(0,r.useQueryClient)(),t=(0,o.$G)().t;return(0,r.useMutation)(b.delete,{onSuccess:function(){u.Am.success(t("common:successfully-deleted"))},onSettled:function(){e.invalidateQueries(i.P.REVIEWS)}})},S=function(e){return(0,r.useQuery)([i.P.REVIEWS,e],(function(){return b.get({id:e})}))},m=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=(0,r.useQuery)([i.P.REVIEWS,e],(function(e){var t=e.queryKey,n=e.pageParam;return b.paginated(Object.assign({},t[1],n))}),v({keepPreviousData:!0},n)),o=u.data,s=u.error,a=u.isLoading;return{reviews:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:[],paginatorInfo:(0,c.Q)(o),error:s,loading:a}}}}]);