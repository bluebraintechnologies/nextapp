"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8597],{15914:function(e,t,n){var r=n(85893),o=n(67294),l=n(19662),u=n(3620),a=n(11163),s=n(70300),i=n(80182),c=n(90551),p=n(23375);t.Z=function(e){var t,n=e.attributes,d=e.onSort,f=e.onOrder,v=(0,s.$G)().t,m=(0,a.useRouter)(),y="ar"===m.locale||"he"===m.locale?"right":"left",b="ar"===m.locale||"he"===m.locale?"left":"right",P=(0,o.useState)({sort:u.As.Desc,column:null}),g=P[0],S=P[1],E=[{title:v("table:table-item-id"),dataIndex:"id",key:"id",align:"center",width:60},{title:(0,r.jsx)(i.Z,{title:v("table:table-item-title"),ascending:g.sort===u.As.Asc&&"name"===g.column,isActive:"name"===g.column}),className:"cursor-pointer",dataIndex:"name",key:"name",align:y,onHeaderCell:function(){return e="name",{onClick:function(){d((function(e){return e===u.As.Desc?u.As.Asc:u.As.Desc})),f(e),S({sort:g.sort===u.As.Desc?u.As.Asc:u.As.Desc,column:e})}};var e},render:function(e){return(0,r.jsx)("span",{className:"whitespace-nowrap",children:e})}},{title:v("table:table-item-shop"),dataIndex:"shop",key:"shop",width:180,align:"center",ellipsis:!0,render:function(e){return(0,r.jsx)("span",{className:"truncate whitespace-nowrap",children:null===e||void 0===e?void 0:e.name})}},{title:v("table:table-item-values"),dataIndex:"values",key:"values",align:y,render:function(e){return(0,r.jsx)("span",{className:"whitespace-nowrap",children:null===e||void 0===e?void 0:e.map((function(e,t){return t>0?", ".concat(e.value):"".concat(e.value)}))})}},{title:v("table:table-item-actions"),dataIndex:"slug",key:"actions",align:b,render:function(e,t){return(0,r.jsx)(p.Z,{slug:e,record:t,deleteModalView:"DELETE_ATTRIBUTE",routes:null===c.Z||void 0===c.Z?void 0:c.Z.attribute})}}];return(null===m||void 0===m||null===(t=m.query)||void 0===t?void 0:t.shop)&&(E=null===E||void 0===E?void 0:E.filter((function(e){return"shop"!==(null===e||void 0===e?void 0:e.key)}))),(0,r.jsx)("div",{className:"mb-8 overflow-hidden rounded shadow",children:(0,r.jsx)(l.i,{columns:E,emptyText:v("table:empty-table-data"),data:n,rowKey:"id",scroll:{x:380}})})}},18110:function(e,t,n){n.d(t,{I1:function(){return E},OO:function(){return h},gL:function(){return P},Oi:function(){return S},uT:function(){return g}});var r=n(11163),o=n(88767),l=n(40782),u=n(70300),a=n(90551),s=n(17785),i=n(14511),c=n(14141);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=d({},(0,i.h)(s.P.ATTRIBUTES),{paginated:function(e){var t=e.type,n=e.name,r=e.shop_id,o=f(e,["type","name","shop_id"]);return c.eN.get(s.P.ATTRIBUTES,d({searchJoin:"and"},o,{search:c.eN.formatSearchParams({type:t,name:n,shop_id:r})}))},all:function(e){var t=e.type,n=e.name,r=e.shop_id,o=f(e,["type","name","shop_id"]);return c.eN.get(s.P.ATTRIBUTES,d({searchJoin:"and"},o,{search:c.eN.formatSearchParams({type:t,name:n,shop_id:r})}))}}),m=n(33206);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}var P=function(){var e=(0,o.useQueryClient)(),t=(0,u.$G)().t;return(0,o.useMutation)(v.create,{onSuccess:function(){r.default.push(a.Z.attribute.list,void 0,{locale:m.D.defaultLanguage}),l.Am.success(t("common:successfully-created"))},onSettled:function(){e.invalidateQueries(s.P.ATTRIBUTES)}})},g=function(){var e=(0,u.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(v.update,{onSuccess:function(){l.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(s.P.ATTRIBUTES)}})},S=function(){var e=(0,o.useQueryClient)(),t=(0,u.$G)().t;return(0,o.useMutation)(v.delete,{onSuccess:function(){l.Am.success(t("common:successfully-deleted"))},onSettled:function(){e.invalidateQueries(s.P.ATTRIBUTES)}})},E=function(e){var t=e.slug,n=e.language;return(0,o.useQuery)([s.P.ATTRIBUTES,{slug:t,language:n}],(function(){return v.get({slug:t,language:n})}))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.useQuery)([s.P.ATTRIBUTES,e],(function(e){var t=e.queryKey,n=e.pageParam;return v.all(Object.assign({},t[1],n))}),b({keepPreviousData:!0},t)),r=n.data,l=n.error,u=n.isLoading;return{attributes:null!==r&&void 0!==r?r:[],error:l,loading:u}}},6512:function(e,t,n){n.d(t,{p:function(){return D}});var r,o,l=n(67294),u=n(32984),a=n(12351),s=n(23784),i=n(19946),c=n(61363),p=n(64103),d=n(16567),f=n(14157),v=n(15466),m=n(73781),y=((o=y||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o),b=((r=b||{})[r.ToggleDisclosure=0]="ToggleDisclosure",r[r.CloseDisclosure=1]="CloseDisclosure",r[r.SetButtonId=2]="SetButtonId",r[r.SetPanelId=3]="SetPanelId",r[r.LinkPanel=4]="LinkPanel",r[r.UnlinkPanel=5]="UnlinkPanel",r);let P={0:e=>({...e,disclosureState:(0,u.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},g=(0,l.createContext)(null);function S(e){let t=(0,l.useContext)(g);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,S),t}return t}g.displayName="DisclosureContext";let E=(0,l.createContext)(null);function h(e){let t=(0,l.useContext)(E);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,h),t}return t}E.displayName="DisclosureAPIContext";let I=(0,l.createContext)(null);function T(e,t){return(0,u.E)(t.type,P,e,t)}I.displayName="DisclosurePanelContext";let O=l.Fragment,w=(0,a.yV)((function(e,t){let{defaultOpen:n=!1,...r}=e,o=(0,l.useRef)(null),i=(0,s.T)(t,(0,s.h)((e=>{o.current=e}),void 0===e.as||e.as===l.Fragment)),c=(0,l.useRef)(null),p=(0,l.useRef)(null),f=(0,l.useReducer)(T,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:p,panelRef:c,buttonId:null,panelId:null}),[{disclosureState:y,buttonId:b},P]=f,S=(0,m.z)((e=>{P({type:1});let t=(0,v.r)(o);if(!t||!b)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(b):t.getElementById(b);null==n||n.focus()})),h=(0,l.useMemo)((()=>({close:S})),[S]),I=(0,l.useMemo)((()=>({open:0===y,close:S})),[y,S]),w={ref:i};return l.createElement(g.Provider,{value:f},l.createElement(E.Provider,{value:h},l.createElement(d.up,{value:(0,u.E)(y,{0:d.ZM.Open,1:d.ZM.Closed})},(0,a.sY)({ourProps:w,theirProps:r,slot:I,defaultTag:O,name:"Disclosure"}))))})),k=(0,a.yV)((function(e,t){let n=(0,i.M)(),{id:r=`headlessui-disclosure-button-${n}`,...o}=e,[u,d]=S("Disclosure.Button"),v=(0,l.useContext)(I),y=null!==v&&v===u.panelId,b=(0,l.useRef)(null),P=(0,s.T)(b,t,y?null:u.buttonRef);(0,l.useEffect)((()=>{if(!y)return d({type:2,buttonId:r}),()=>{d({type:2,buttonId:null})}}),[r,d,y]);let g=(0,m.z)((e=>{var t;if(y){if(1===u.disclosureState)return;switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),d({type:0}),null==(t=u.buttonRef.current)||t.focus()}}else switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),d({type:0})}})),E=(0,m.z)((e=>{if(e.key===c.R.Space)e.preventDefault()})),h=(0,m.z)((t=>{var n;(0,p.P)(t.currentTarget)||e.disabled||(y?(d({type:0}),null==(n=u.buttonRef.current)||n.focus()):d({type:0}))})),T=(0,l.useMemo)((()=>({open:0===u.disclosureState})),[u]),O=(0,f.f)(e,b),w=y?{ref:P,type:O,onKeyDown:g,onClick:h}:{ref:P,id:r,type:O,"aria-expanded":e.disabled?void 0:0===u.disclosureState,"aria-controls":u.linkedPanel?u.panelId:void 0,onKeyDown:g,onKeyUp:E,onClick:h};return(0,a.sY)({ourProps:w,theirProps:o,slot:T,defaultTag:"button",name:"Disclosure.Button"})})),x=a.AN.RenderStrategy|a.AN.Static,C=(0,a.yV)((function(e,t){let n=(0,i.M)(),{id:r=`headlessui-disclosure-panel-${n}`,...o}=e,[u,c]=S("Disclosure.Panel"),{close:p}=h("Disclosure.Panel"),f=(0,s.T)(t,u.panelRef,(e=>{c({type:e?4:5})}));(0,l.useEffect)((()=>(c({type:3,panelId:r}),()=>{c({type:3,panelId:null})})),[r,c]);let v=(0,d.oJ)(),m=null!==v?v===d.ZM.Open:0===u.disclosureState,y=(0,l.useMemo)((()=>({open:0===u.disclosureState,close:p})),[u,p]),b={ref:f,id:r};return l.createElement(I.Provider,{value:u.panelId},(0,a.sY)({ourProps:b,theirProps:o,slot:y,defaultTag:"div",features:x,visible:m,name:"Disclosure.Panel"}))})),D=Object.assign(w,{Button:k,Panel:C})},86215:function(e,t,n){n.d(t,{J:function(){return _}});var r,o,l=n(67294),u=n(32984),a=n(12351),s=n(23784),i=n(19946),c=n(61363),p=n(64103),d=n(84575),f=n(16567),v=n(14157),m=n(39650),y=n(15466),b=n(51074),P=n(14007),g=n(46045),S=n(73781),E=n(70638),h=n(3855),I=((o=I||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o),T=((r=T||{})[r.TogglePopover=0]="TogglePopover",r[r.ClosePopover=1]="ClosePopover",r[r.SetButton=2]="SetButton",r[r.SetButtonId=3]="SetButtonId",r[r.SetPanel=4]="SetPanel",r[r.SetPanelId=5]="SetPanelId",r);let O={0:e=>({...e,popoverState:(0,u.E)(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},w=(0,l.createContext)(null);function k(e){let t=(0,l.useContext)(w);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,k),t}return t}w.displayName="PopoverContext";let x=(0,l.createContext)(null);function C(e){let t=(0,l.useContext)(x);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,C),t}return t}x.displayName="PopoverAPIContext";let D=(0,l.createContext)(null);function R(){return(0,l.useContext)(D)}D.displayName="PopoverGroupContext";let A=(0,l.createContext)(null);function M(e,t){return(0,u.E)(t.type,O,e,t)}A.displayName="PopoverPanelContext";let B=(0,a.yV)((function(e,t){var n;let r=(0,l.useRef)(null),o=(0,s.T)(t,(0,s.h)((e=>{r.current=e}))),i=(0,l.useReducer)(M,{popoverState:1,buttons:[],button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,l.createRef)(),afterPanelSentinel:(0,l.createRef)()}),[{popoverState:c,button:p,buttonId:v,panel:y,panelId:g,beforePanelSentinel:E,afterPanelSentinel:I},T]=i,O=(0,b.i)(null!=(n=r.current)?n:p),k=(0,l.useMemo)((()=>{if(!p||!y)return!1;for(let u of document.querySelectorAll("body > *"))if(Number(null==u?void 0:u.contains(p))^Number(null==u?void 0:u.contains(y)))return!0;let e=(0,d.GO)(),t=e.indexOf(p),n=(t+e.length-1)%e.length,r=(t+1)%e.length,o=e[n],l=e[r];return!y.contains(o)&&!y.contains(l)}),[p,y]),C=(0,h.E)(v),D=(0,h.E)(g),A=(0,l.useMemo)((()=>({buttonId:C,panelId:D,close:()=>T({type:1})})),[C,D,T]),B=R(),N=null==B?void 0:B.registerPopover,j=(0,S.z)((()=>{var e;return null!=(e=null==B?void 0:B.isFocusWithinPopoverGroup())?e:(null==O?void 0:O.activeElement)&&((null==p?void 0:p.contains(O.activeElement))||(null==y?void 0:y.contains(O.activeElement)))}));(0,l.useEffect)((()=>null==N?void 0:N(A)),[N,A]),(0,P.O)(null==O?void 0:O.defaultView,"focus",(e=>{var t,n,r,o;0===c&&(j()||!p||!y||e.target!==window&&(null!=(n=null==(t=E.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(r=I.current)?void 0:r.contains)&&o.call(r,e.target)||T({type:1})))}),!0),(0,m.O)([p,y],((e,t)=>{T({type:1}),(0,d.sP)(t,d.tJ.Loose)||(e.preventDefault(),null==p||p.focus())}),0===c);let z=(0,S.z)((e=>{T({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:p:p;null==t||t.focus()})),F=(0,l.useMemo)((()=>({close:z,isPortalled:k})),[z,k]),$=(0,l.useMemo)((()=>({open:0===c,close:z})),[c,z]),Z=e,_={ref:o};return l.createElement(w.Provider,{value:i},l.createElement(x.Provider,{value:F},l.createElement(f.up,{value:(0,u.E)(c,{0:f.ZM.Open,1:f.ZM.Closed})},(0,a.sY)({ourProps:_,theirProps:Z,slot:$,defaultTag:"div",name:"Popover"}))))})),N=(0,a.yV)((function(e,t){let n=(0,i.M)(),{id:r=`headlessui-popover-button-${n}`,...o}=e,[f,m]=k("Popover.Button"),{isPortalled:y}=C("Popover.Button"),P=(0,l.useRef)(null),h=`headlessui-focus-sentinel-${(0,i.M)()}`,I=R(),T=null==I?void 0:I.closeOthers,O=(0,l.useContext)(A),w=null!==O&&O===f.panelId;(0,l.useEffect)((()=>{if(!w)return m({type:3,buttonId:r}),()=>{m({type:3,buttonId:null})}}),[r,m]);let x=(0,s.T)(P,t,w?null:e=>{if(e)f.buttons.push(r);else{let e=f.buttons.indexOf(r);-1!==e&&f.buttons.splice(e,1)}f.buttons.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&m({type:2,button:e})}),D=(0,s.T)(P,t),M=(0,b.i)(P),B=(0,S.z)((e=>{var t,n,r;if(w){if(1===f.popoverState)return;switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),m({type:1}),null==(r=f.button)||r.focus()}}else switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),1===f.popoverState&&(null==T||T(f.buttonId)),m({type:0});break;case c.R.Escape:if(0!==f.popoverState)return null==T?void 0:T(f.buttonId);if(!P.current||(null==M?void 0:M.activeElement)&&!P.current.contains(M.activeElement))return;e.preventDefault(),e.stopPropagation(),m({type:1})}})),N=(0,S.z)((e=>{w||e.key===c.R.Space&&e.preventDefault()})),j=(0,S.z)((t=>{var n,r;(0,p.P)(t.currentTarget)||e.disabled||(w?(m({type:1}),null==(n=f.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===f.popoverState&&(null==T||T(f.buttonId)),m({type:0}),null==(r=f.button)||r.focus()))})),z=(0,S.z)((e=>{e.preventDefault(),e.stopPropagation()})),F=0===f.popoverState,$=(0,l.useMemo)((()=>({open:F})),[F]),Z=(0,v.f)(e,P),_=w?{ref:D,type:Z,onKeyDown:B,onClick:j}:{ref:x,id:f.buttonId,type:Z,"aria-expanded":e.disabled?void 0:0===f.popoverState,"aria-controls":f.panel?f.panelId:void 0,onKeyDown:B,onKeyUp:N,onClick:j,onMouseDown:z},L=(0,E.l)(),U=(0,S.z)((()=>{let e=f.panel;e&&(0,u.E)(L.current,{[E.N.Forwards]:()=>(0,d.jA)(e,d.TO.First),[E.N.Backwards]:()=>(0,d.jA)(e,d.TO.Last)})}));return l.createElement(l.Fragment,null,(0,a.sY)({ourProps:_,theirProps:o,slot:$,defaultTag:"button",name:"Popover.Button"}),F&&!w&&y&&l.createElement(g._,{id:h,features:g.A.Focusable,as:"button",type:"button",onFocus:U}))})),j=a.AN.RenderStrategy|a.AN.Static,z=(0,a.yV)((function(e,t){let n=(0,i.M)(),{id:r=`headlessui-popover-overlay-${n}`,...o}=e,[{popoverState:u},c]=k("Popover.Overlay"),d=(0,s.T)(t),v=(0,f.oJ)(),m=null!==v?v===f.ZM.Open:0===u,y=(0,S.z)((e=>{if((0,p.P)(e.currentTarget))return e.preventDefault();c({type:1})})),b=(0,l.useMemo)((()=>({open:0===u})),[u]);return(0,a.sY)({ourProps:{ref:d,id:r,"aria-hidden":!0,onClick:y},theirProps:o,slot:b,defaultTag:"div",features:j,visible:m,name:"Popover.Overlay"})})),F=a.AN.RenderStrategy|a.AN.Static,$=(0,a.yV)((function(e,t){let n=(0,i.M)(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,...p}=e,[v,m]=k("Popover.Panel"),{close:y,isPortalled:P}=C("Popover.Panel"),h=`headlessui-focus-sentinel-before-${(0,i.M)()}`,I=`headlessui-focus-sentinel-after-${(0,i.M)()}`,T=(0,l.useRef)(null),O=(0,s.T)(T,t,(e=>{m({type:4,panel:e})})),w=(0,b.i)(T);(0,l.useEffect)((()=>(m({type:5,panelId:r}),()=>{m({type:5,panelId:null})})),[r,m]);let x=(0,f.oJ)(),D=null!==x?x===f.ZM.Open:0===v.popoverState,R=(0,S.z)((e=>{var t;if(e.key===c.R.Escape){if(0!==v.popoverState||!T.current||(null==w?void 0:w.activeElement)&&!T.current.contains(w.activeElement))return;e.preventDefault(),e.stopPropagation(),m({type:1}),null==(t=v.button)||t.focus()}}));(0,l.useEffect)((()=>{var t;e.static||1===v.popoverState&&(null==(t=e.unmount)||t)&&m({type:4,panel:null})}),[v.popoverState,e.unmount,e.static,m]),(0,l.useEffect)((()=>{if(!o||0!==v.popoverState||!T.current)return;let e=null==w?void 0:w.activeElement;T.current.contains(e)||(0,d.jA)(T.current,d.TO.First)}),[o,T,v.popoverState]);let M=(0,l.useMemo)((()=>({open:0===v.popoverState,close:y})),[v,y]),B={ref:O,id:v.panelId,onKeyDown:R,onBlur:o&&0===v.popoverState?e=>{var t,n,r,o,l;let u=e.relatedTarget;!u||!T.current||null!=(t=T.current)&&t.contains(u)||(m({type:1}),((null==(r=null==(n=v.beforePanelSentinel.current)?void 0:n.contains)?void 0:r.call(n,u))||(null==(l=null==(o=v.afterPanelSentinel.current)?void 0:o.contains)?void 0:l.call(o,u)))&&u.focus({preventScroll:!0}))}:void 0,tabIndex:-1},N=(0,E.l)(),j=(0,S.z)((()=>{let e=T.current;e&&(0,u.E)(N.current,{[E.N.Forwards]:()=>{(0,d.jA)(e,d.TO.First)},[E.N.Backwards]:()=>{var e;null==(e=v.button)||e.focus({preventScroll:!0})}})})),z=(0,S.z)((()=>{let e=T.current;e&&(0,u.E)(N.current,{[E.N.Forwards]:()=>{var e,t,n;if(!v.button)return;let r=(0,d.GO)(),o=r.indexOf(v.button),l=r.slice(0,o+1),u=[...r.slice(o+1),...l];for(let a of u.slice())if((null==(t=null==(e=null==a?void 0:a.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=v.panel)?void 0:n.contains(a))){let e=u.indexOf(a);-1!==e&&u.splice(e,1)}(0,d.jA)(u,d.TO.First,{sorted:!1})},[E.N.Backwards]:()=>(0,d.jA)(e,d.TO.Last)})}));return l.createElement(A.Provider,{value:v.panelId},D&&P&&l.createElement(g._,{id:h,ref:v.beforePanelSentinel,features:g.A.Focusable,as:"button",type:"button",onFocus:j}),(0,a.sY)({ourProps:B,theirProps:p,slot:M,defaultTag:"div",features:F,visible:D,name:"Popover.Panel"}),D&&P&&l.createElement(g._,{id:I,ref:v.afterPanelSentinel,features:g.A.Focusable,as:"button",type:"button",onFocus:z}))})),Z=(0,a.yV)((function(e,t){let n=(0,l.useRef)(null),r=(0,s.T)(n,t),[o,u]=(0,l.useState)([]),i=(0,S.z)((e=>{u((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),c=(0,S.z)((e=>(u((t=>[...t,e])),()=>i(e)))),p=(0,S.z)((()=>{var e;let t=(0,y.r)(n);if(!t)return!1;let r=t.activeElement;return!(null==(e=n.current)||!e.contains(r))||o.some((e=>{var n,o;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(r))||(null==(o=t.getElementById(e.panelId.current))?void 0:o.contains(r))}))})),d=(0,S.z)((e=>{for(let t of o)t.buttonId.current!==e&&t.close()})),f=(0,l.useMemo)((()=>({registerPopover:c,unregisterPopover:i,isFocusWithinPopoverGroup:p,closeOthers:d})),[c,i,p,d]),v=(0,l.useMemo)((()=>({})),[]),m=e,b={ref:r};return l.createElement(D.Provider,{value:f},(0,a.sY)({ourProps:b,theirProps:m,slot:v,defaultTag:"div",name:"Popover.Group"}))})),_=Object.assign(B,{Button:N,Overlay:z,Panel:$,Group:Z})}}]);