(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4748],{41609:function(e,t,n){var r=n(280),i=n(64160),s=n(35694),c=n(1469),o=n(98612),l=n(44144),a=n(25726),u=n(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(c(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||s(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(a(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},95376:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reviews/[reviewId]",function(){return n(84010)}])},70048:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var r=n(85893);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 13"},e,{children:(0,r.jsx)("g",{"data-name":"Group 36431",fill:"currentColor",children:(0,r.jsx)("path",{"data-name":"Path 22671",d:"M6.5,0A6.5,6.5,0,1,0,13,6.5,6.508,6.508,0,0,0,6.5,0Zm3.633,4.789L5.979,8.911a.639.639,0,0,1-.9.016l-2.2-2a.661.661,0,0,1-.049-.912.644.644,0,0,1,.912-.033l1.743,1.6L9.2,3.861a.657.657,0,0,1,.929.929Z"})})}))}},86155:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(85893);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25.056 24"},e,{children:(0,r.jsx)("g",{"data-name":"Group 36413",fill:"currentColor",children:(0,r.jsx)("path",{id:"Path_22667","data-name":"Path 22667",d:"M19.474,34.679l-6.946-4.346L5.583,34.679a.734.734,0,0,1-1.1-.8L6.469,25.93.263,20.668a.735.735,0,0,1,.421-1.3l8.1-.566,3.064-7.6a.765.765,0,0,1,1.362,0l3.064,7.6,8.1.566a.735.735,0,0,1,.421,1.3L18.588,25.93l1.987,7.949a.734.734,0,0,1-1.1.8Z",transform:"translate(0 -10.792)"})})}))}},21956:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(41626),s=n(67294),c=n(40133),o=n(46619),l=n(70300),a=n(35279),u=n(11163);t.default=function(e){var t=e.children,n=(0,l.$G)().t,d=(0,u.useRouter)().locale,f="ar"===d||"he"===d?"rtl":"ltr",m=function(){return(0,r.jsx)(s.Fragment,{children:o.U.sidebarLinks.admin.map((function(e){var t=e.href,i=e.label,s=e.icon;return(0,r.jsx)(a.Z,{href:t,label:n(i),icon:s},t)}))})};return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-100 transition-colors duration-150",dir:f,children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(m,{})}),(0,r.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,r.jsx)("aside",{className:"xl:w-76 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto fixed bottom-0 hidden h-full w-72 overflow-y-auto bg-white px-4 pt-22 shadow lg:block",children:(0,r.jsx)("div",{className:"flex flex-col space-y-6 py-3",children:(0,r.jsx)(m,{})})}),(0,r.jsx)("main",{className:"ltr:lg:pl-72 ltr:xl:pl-76 rtl:lg:pr-72 rtl:xl:pr-76 rtl:lg:pl-0 w-full",children:(0,r.jsx)("div",{className:"h-full p-5 md:p-8",children:t})})]})]})}},19662:function(e,t,n){"use strict";n.d(t,{i:function(){return r.ZP}});n(63629);var r=n(6442)},85332:function(e,t,n){"use strict";n.d(t,{Cw:function(){return v},Bs:function(){return b},hI:function(){return g},$B:function(){return y},_s:function(){return j}});var r=n(88767),i=n(40782),s=n(70300),c=n(66889),o=n(17785),l=n(96720),a=n(14511),u=n(14141);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=f({},(0,a.h)(o.P.REVIEWS),{reportAbuse:function(e){return u.eN.post(o.P.ABUSIVE_REPORTS,e)},decline:function(e){return u.eN.post(o.P.ABUSIVE_REPORTS_DECLINE,e)},get:function(e){var t=e.id;return u.eN.get("".concat(o.P.REVIEWS,"/").concat(t),{with:"abusive_reports.user;product;user"})},paginated:function(e){var t=e.type,n=e.shop_id,r=m(e,["type","shop_id"]);return u.eN.get(o.P.REVIEWS,f({searchJoin:"and",with:"product;user"},r,{search:u.eN.formatSearchParams({type:t,shop_id:n})}))}});function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}var v=function(){var e=(0,r.useQueryClient)(),t=(0,s.$G)("common").t,n=(0,l.SO)().closeModal;return(0,r.useMutation)(p.reportAbuse,{onSuccess:function(){i.Am.success(t("text-abuse-report-submitted"))},onSettled:function(){e.refetchQueries(o.P.REVIEWS),n()}})},b=function(){var e=(0,r.useQueryClient)(),t=(0,s.$G)("common").t;return(0,r.useMutation)(p.decline,{onSuccess:function(){i.Am.success(t("successfully-decline"))},onSettled:function(){e.refetchQueries(o.P.REVIEWS)}})},g=function(){var e=(0,r.useQueryClient)(),t=(0,s.$G)().t;return(0,r.useMutation)(p.delete,{onSuccess:function(){i.Am.success(t("common:successfully-deleted"))},onSettled:function(){e.invalidateQueries(o.P.REVIEWS)}})},y=function(e){return(0,r.useQuery)([o.P.REVIEWS,e],(function(){return p.get({id:e})}))},j=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,r.useQuery)([o.P.REVIEWS,e],(function(e){var t=e.queryKey,n=e.pageParam;return p.paginated(Object.assign({},t[1],n))}),h({keepPreviousData:!0},n)),s=i.data,l=i.error,a=i.isLoading;return{reviews:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:[],paginatorInfo:(0,c.Q)(s),error:l,loading:a}}},84010:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return D},default:function(){return T}});var r=n(85893),i=n(21956),s=n(11163),c=n(37018),o=n(35109),l=n(70300),a=n(85332),u=n(66595),d=n(25675),f=n(19662),m=n(14685),p=n(46619),x=n(89439),h=n(51379),v=n(96720),b=n(27484),g=n.n(b),y=n(84110),j=n.n(y),E=n(70178),P=n.n(E),N=n(29387),w=n.n(N),O=n(3620),_=n(96872),S=n(86155),A=n(70048),I=n(40487),L=n(63963),R=n(41609),C=n.n(R),k=function(e){var t,n,i=e.review,s=null!==i&&void 0!==i?i:{},c=s.product,o=s.id,a=s.abusive_reports,b=s.comment,y=s.negative_feedbacks_count,E=s.positive_feedbacks_count,N=s.photos,R=s.rating,k=s.user,D=null!==c&&void 0!==c?c:{},T=D.slug,Z=D.name,V=D.image,G=D.product_type,M=D.price,F=D.max_price,U=D.min_price,Y=D.sale_price,W=D.ratings,B=(0,l.$G)().t,Q=(0,h.S)().alignLeft,$=(0,v.SO)().openModal,H=(0,x.ZP)({amount:Y||M,baseAmount:null!==M&&void 0!==M?M:0}),z=H.price,X=H.basePrice,q=(0,x.ZP)({amount:null!==U&&void 0!==U?U:0}).price,J=(0,x.ZP)({amount:null!==F&&void 0!==F?F:0}).price,K=[{title:B("table:table-item-message"),key:"message",align:Q,width:650,render:function(e){return(0,r.jsx)("span",{children:null===e||void 0===e?void 0:e.message})}},{title:B("table:table-item-customer-details"),key:"user",align:Q,width:200,render:function(e){var t,n;return(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{className:"font-semibold text-heading",children:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name}),(0,r.jsx)("span",{className:"text-xs font-semibold text-heading",children:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.email})]})}},{title:B("table:table-item-created-at"),dataIndex:"created_at",key:"created_at",align:"center",width:120,render:function(e){return g().extend(j()),g().extend(P()),g().extend(w()),(0,r.jsx)("span",{className:"whitespace-nowrap",children:g().utc(e).tz(g().tz.guess()).fromNow()})}}];return(0,r.jsxs)(u.Z,{className:"md:px-10 xl:px-20",children:[(0,r.jsx)("h3",{className:"mb-8 text-center text-3xl font-semibold text-heading",children:B("common:text-abuse-report")}),(0,r.jsxs)("div",{className:"mb-10 flex w-full items-start space-x-4 rtl:space-x-reverse md:space-x-5",children:[(0,r.jsx)("div",{className:"relative h-20 w-20 shrink-0 border border-gray-200",children:(0,r.jsx)(d.default,{src:null!==(t=null===V||void 0===V?void 0:V.thumbnail)&&void 0!==t?t:p.U.product.placeholder,alt:Z,layout:"responsive",width:75,height:75,className:"overflow-hidden rounded"})}),(0,r.jsxs)("div",{className:"pe-4 md:pe-5 flex flex-col space-y-1.5",children:[(0,r.jsx)(_.Z,{href:"http://localhost:3003/products/"+T,className:"text-lg font-semibold text-heading transition-colors hover:text-accent hover:no-underline focus:text-accent-700 focus:no-underline",children:Z}),G===O.kv.Variable?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-heading md:text-base",children:q}),(0,r.jsx)("span",{children:" - "}),(0,r.jsx)("span",{className:"text-sm font-semibold text-heading md:text-base",children:J})]}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-heading md:text-base",children:z}),X&&(0,r.jsx)("del",{className:"ms-2 text-xs text-muted md:text-sm",children:X})]})]}),(0,r.jsxs)("div",{className:"!ml-auto inline-flex shrink-0 items-center rounded-full border border-accent px-3 py-0.5 text-base text-accent",children:[W,(0,r.jsx)(S.r,{className:"ms-1 h-3 w-3"})]})]}),(0,r.jsxs)("div",{className:"mb-8 block",children:[(0,r.jsxs)("div",{className:"mb-5 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"inline-flex shrink-0 items-center rounded-full border border-accent px-3 py-0.5 text-base text-accent",children:[R,(0,r.jsx)(S.r,{className:"ms-1 h-3 w-3"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 rtl:space-x-reverse md:space-x-5",children:[(0,r.jsx)(m.Z,{size:"small",variant:"outline",className:"!border-accent text-accent",onClick:function(){$("ACCEPT_ABUSE_REPORT",o)},children:B("common:text-accept")}),(0,r.jsx)(m.Z,{size:"small",variant:"outline",className:"!border-red-500 text-red-500 hover:border-red-500 hover:bg-red-500",onClick:function(){var e;$("DECLINE_ABUSE_REPORT",{model_id:o,model_type:null===a||void 0===a||null===(e=a[0])||void 0===e?void 0:e.model_type})},children:B("common:text-decline")})]})]}),(0,r.jsxs)("div",{className:"mb-3 flex items-center text-xs text-gray-500",children:[B("common:text-by")," ",(0,r.jsx)("span",{className:"font-semibold capitalize text-heading ltr:ml-1 rtl:mr-1",children:null===k||void 0===k?void 0:k.name}),(null===k||void 0===k?void 0:k.is_active)&&(0,r.jsx)(A.Y,{className:"h-[13px] w-[13px] text-gray-700 ltr:ml-1 rtl:mr-1"})]}),(0,r.jsx)("p",{className:"text-sm leading-6 text-heading",children:b}),N&&!C()(N)&&(0,r.jsxs)("div",{className:"space-s-2 flex items-start pt-3",children:[null===N||void 0===N?void 0:N.map((function(e,t){var s;return(0,r.jsx)("div",{className:"mb-1",children:(0,r.jsx)(d.default,{src:null!==(n=null===e||void 0===e?void 0:e.original)&&void 0!==n?n:"/product-placeholder-borderless.svg",width:32,height:32,className:"inline-flex rounded-md bg-gray-200",alt:null===i||void 0===i||null===(s=i.product)||void 0===s?void 0:s.name})},t)})),(0,r.jsx)("button",{className:"my-1.5 text-sm font-semibold text-heading underline transition-colors hover:text-accent",onClick:function(){$("REVIEW_IMAGE_POPOVER",{images:N})},children:B("common:text-view-images")})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center space-x-4 rtl:space-x-reverse",children:[(0,r.jsxs)("span",{className:"flex items-center text-xs tracking-wider text-gray-400 transition",children:[(0,r.jsx)(I.l,{className:"me-1.5 h-4 w-4"}),E]}),(0,r.jsxs)("span",{className:"flex items-center text-xs tracking-wider text-gray-400 transition",children:[(0,r.jsx)(L.R,{className:"me-1.5 h-4 w-4"}),y]})]})]}),(0,r.jsx)(f.i,{columns:K,emptyText:B("table:empty-table-data"),data:a,rowKey:"id",scroll:{x:700}})]})},D=!0;function T(){var e=(0,l.$G)().t,t=(0,s.useRouter)().query,n=(0,a.$B)(t.reviewId),i=n.data,u=n.isLoading,d=n.error;return u?(0,r.jsx)(o.Z,{text:e("common:text-loading")}):d?(0,r.jsx)(c.Z,{message:d.message}):(0,r.jsx)(k,{review:i})}T.Layout=i.default},3620:function(e,t,n){"use strict";var r,i,s,c,o,l,a,u,d,f,m,p,x;n.d(t,{As:function(){return r},$i:function(){return i},kv:function(){return s},tO:function(){return c},Zx:function(){return o},HY:function(){return l},Pt:function(){return a},sA:function(){return d},DL:function(){return f},iF:function(){return m},bG:function(){return p},y3:function(){return x}}),function(e){e.Asc="asc",e.Desc="desc"}(r||(r={})),function(e){e.FIXED="fixed",e.PERCENTAGE="percentage",e.FREE_SHIPPING="free_shipping"}(i||(i={})),function(e){e.Simple="simple",e.Variable="variable"}(s||(s={})),function(e){e.High="high",e.Medium="medium",e.Low="low"}(c||(c={})),function(e){e.all_vendor="all_vendor",e.specific_vendor="specific_vendor",e.all_shop="all_shop",e.specific_shop="specific_shop"}(o||(o={})),function(e){e.STRIPE="STRIPE",e.COD="CASH_ON_DELIVERY",e.CASH="CASH",e.FULL_WALLET_PAYMENT="FULL_WALLET_PAYMENT",e.PAYPAL="PAYPAL",e.MOLLIE="MOLLIE",e.RAZORPAY="RAZORPAY"}(l||(l={})),function(e){e.Publish="publish",e.Draft="draft"}(a||(a={})),function(e){e.Approved="APPROVED",e.Pending="PENDING",e.OnHold="ON_HOLD",e.Rejected="REJECTED",e.Processing="PROCESSING"}(u||(u={})),function(e){e.Fixed="fixed",e.Percentage="percentage",e.Free="free_shipping"}(d||(d={})),function(e){e.Billing="billing",e.Shipping="shipping"}(f||(f={})),function(e){e.PENDING="order-pending",e.PROCESSING="order-processing",e.COMPLETED="order-completed",e.CANCELLED="order-cancelled",e.REFUNDED="order-refunded",e.FAILED="order-failed",e.AT_LOCAL_FACILITY="order-at-local-facility",e.OUT_FOR_DELIVERY="order-out-for-delivery"}(m||(m={})),function(e){e.PENDING="payment-pending",e.PROCESSING="payment-processing",e.SUCCESS="payment-success",e.FAILED="payment-failed",e.REVERSAL="payment-reversal",e.COD="payment-cash-on-delivery"}(p||(p={})),function(e){e.SuperAdmin="super_admin",e.StoreOwner="store_owner",e.Staff="staff",e.Customer="customer"}(x||(x={}))},89439:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o}});var r=n(67294),i=n(46619),s=n(30464);function c(e){var t=e.amount,n=e.currencyCode,r=e.locale;return new Intl.NumberFormat(r,{style:"currency",currency:n}).format(t)}function o(e){var t=(0,s.rV)().currency,n=null!==e&&void 0!==e?e:{},o=n.amount,l=n.baseAmount,a=n.currencyCode,u=void 0===a?t:a,d=i.U.defaultLanguage,f=(0,r.useMemo)((function(){return"number"===typeof o&&u?l?function(e){var t=e.amount,n=e.baseAmount,r=e.currencyCode,i=e.locale,s=n<t,o=new Intl.NumberFormat(i,{style:"percent"}),l=s?o.format((t-n)/t):null;return{price:c({amount:t,currencyCode:r,locale:i}),basePrice:s?c({amount:n,currencyCode:r,locale:i}):null,discount:l}}({amount:o,baseAmount:l,currencyCode:u,locale:d}):c({amount:o,currencyCode:u,locale:d}):""}),[o,l,u]);return"string"===typeof f?{price:f,basePrice:null,discount:null}:f}}},function(e){e.O(0,[6351,3506,4798,6682,7273,1379,5842,2493,8123,9688,9774,2888,179],(function(){return t=95376,e(e.s=t);var t}));var t=e.O();_N_E=t}]);