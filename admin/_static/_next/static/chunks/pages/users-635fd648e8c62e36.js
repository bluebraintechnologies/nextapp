(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892,1956],{31876:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return r(50134)}])},66595:function(e,t,r){"use strict";var n=r(85893),o=r(94184),a=r.n(o);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.Z=function(e){var t=e.className,r=i(e,["className"]);return(0,n.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({className:a()("p-5 md:p-8 bg-light shadow rounded",t)},r))}},35637:function(e,t,r){"use strict";var n=r(85893),o=r(43031),a=r(32453),l=r(94184),i=r.n(l),c=r(67294),s=r(87536),u=r(70300);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var m="ps-10 pe-4 h-12 flex items-center w-full rounded appearance-none transition duration-300 ease-in-out text-heading text-sm focus:outline-none focus:ring-0",h="bg-gray-100 border border-border-base focus:shadow focus:bg-light focus:border-accent",p="bg-gray-100 border border-border-100 focus:bg-light focus:border-accent",v="border border-border-base focus:border-accent",x="focus:shadow";t.Z=function(e){var t,r=e.className,l=e.onSearch,g=e.variant,y=void 0===g?"outline":g,j=e.shadow,w=void 0!==j&&j,O=e.inputClassName,P=b(e,["className","onSearch","variant","shadow","inputClassName"]),N=(0,s.cI)({defaultValues:{searchText:""}}),S=N.register,k=N.handleSubmit,_=N.watch,E=N.reset,Z=N.formState.errors,A=_("searchText"),C=(0,u.$G)().t;(0,c.useEffect)((function(){A||l({searchText:""})}),[A]);var I=i()(m,(f(t={},h,"normal"===y),f(t,p,"solid"===y),f(t,v,"outline"===y),t),f({},x,w),O);return(0,n.jsxs)("form",{noValidate:!0,role:"search",className:i()("relative flex w-full items-center",r),onSubmit:k(l),children:[(0,n.jsx)("label",{htmlFor:"search",className:"sr-only",children:C("form:input-label-search")}),(0,n.jsx)("button",{className:"start-1 absolute p-2 text-body outline-none focus:outline-none active:outline-none",children:(0,n.jsx)(a.W,{className:"h-5 w-5"})}),(0,n.jsx)("input",d({type:"text",id:"search"},S("searchText"),{className:I,placeholder:C("form:input-placeholder-search"),"aria-label":"Search",autoComplete:"off"},P)),Z.searchText&&(0,n.jsx)("p",{children:Z.searchText.message}),!!A&&(0,n.jsx)("button",{type:"button",onClick:function(){E(),l({searchText:""})},className:"end-1 absolute p-2 text-body outline-none focus:outline-none active:outline-none",children:(0,n.jsx)(o.T,{className:"h-5 w-5"})})]})}},32453:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var n=r(85893);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e,{children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}))}},21956:function(e,t,r){"use strict";r.r(t);var n=r(85893),o=r(41626),a=r(67294),l=r(40133),i=r(46619),c=r(70300),s=r(35279),u=r(11163);t.default=function(e){var t=e.children,r=(0,c.$G)().t,f=(0,u.useRouter)().locale,d="ar"===f||"he"===f?"rtl":"ltr",b=function(){return(0,n.jsx)(a.Fragment,{children:i.U.sidebarLinks.admin.map((function(e){var t=e.href,o=e.label,a=e.icon;return(0,n.jsx)(s.Z,{href:t,label:r(o),icon:a},t)}))})};return(0,n.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-100 transition-colors duration-150",dir:d,children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(b,{})}),(0,n.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,n.jsx)("aside",{className:"xl:w-76 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto fixed bottom-0 hidden h-full w-72 overflow-y-auto bg-white px-4 pt-22 shadow lg:block",children:(0,n.jsx)("div",{className:"flex flex-col space-y-6 py-3",children:(0,n.jsx)(b,{})})}),(0,n.jsx)("main",{className:"ltr:lg:pl-72 ltr:xl:pl-76 rtl:lg:pr-72 rtl:xl:pr-76 rtl:lg:pl-0 w-full",children:(0,n.jsx)("div",{className:"h-full p-5 md:p-8",children:t})})]})]})}},35279:function(e,t,r){"use strict";var n=r(85893),o=r(96872),a=r(58079),l=r(48123),i=r(78126);t.Z=function(e){var t=e.href,r=e.icon,c=e.label,s=(0,i.l8)().closeSidebar;return(0,n.jsxs)(o.Z,{href:t,className:"text-start flex w-full items-center text-base text-body-dark focus:text-accent",children:[(0,a.q)({iconList:l,iconName:r,className:"w-5 h-5 me-4"}),(0,n.jsx)("span",{onClick:function(){return s()},children:c})]})}},21873:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(85893),o=r(55891);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var i=function(e){var t=l({},e);return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20"},t,{children:(0,n.jsx)("path",{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z",fill:"currentColor",stroke:"currentColor"})}))};function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}var u=function(e){var t=s({},e);return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20"},t,{children:(0,n.jsx)("path",{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z",fill:"currentColor",stroke:"currentColor"})}))};r(89830);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return(0,n.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}({nextIcon:(0,n.jsx)(i,{}),prevIcon:(0,n.jsx)(u,{})},e))}},80182:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(85893),o=r(94184),a=r.n(o);r(67294);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 123.959 123.958"},e,{children:(0,n.jsx)("path",{d:"M117.979 28.017h-112c-5.3 0-8 6.4-4.2 10.2l56 56c2.3 2.3 6.1 2.3 8.401 0l56-56c3.799-3.8 1.099-10.2-4.201-10.2z",fill:"currentColor"})}))};function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 123.959 123.959"},e,{children:(0,n.jsx)("path",{d:"M66.18 29.742c-2.301-2.3-6.101-2.3-8.401 0l-56 56c-3.8 3.801-1.1 10.2 4.2 10.2h112c5.3 0 8-6.399 4.2-10.2l-55.999-56z",fill:"currentColor"})}))},u=function(e){var t=e.title,r=e.ascending,o=e.isActive,l=void 0===o||o;return(0,n.jsxs)("span",{className:"inline-flex items-center",children:[(0,n.jsx)("span",{children:t}),r?(0,n.jsx)(s,{width:"9",className:a()("ms-1.5 flex-shrink-0 text-gray-300",{"!text-heading":l})}):(0,n.jsx)(i,{width:"9",className:a()("ms-1.5 flex-shrink-0 text-gray-300",{"!text-heading":l})})]})}},50134:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return P},default:function(){return N}});var n=r(85893),o=r(66595),a=r(21956),l=r(35637),i=r(21873),c=r(25675),s=r(19662),u=r(54311),f=r(46619),d=r(3620),b=r(66639),m=r(70300),h=r(51379),p=r(67294),v=r(80182),x=function(e){var t,r=e.customers,o=e.paginatorInfo,a=e.onPagination,l=e.onSort,x=e.onOrder,g=(0,m.$G)().t,y=(0,h.S)().alignLeft,j=(0,p.useState)({sort:d.As.Desc,column:null}),w=j[0],O=j[1],P=[{title:g("table:table-item-avatar"),dataIndex:"profile",key:"profile",align:"center",width:74,render:function(e,r){var o;return(0,n.jsx)(c.default,{src:null!==(t=null===e||void 0===e||null===(o=e.avatar)||void 0===o?void 0:o.thumbnail)&&void 0!==t?t:f.U.avatar.placeholder,alt:null===r||void 0===r?void 0:r.name,layout:"fixed",width:42,height:42,className:"overflow-hidden rounded"})}},{title:g("table:table-item-title"),dataIndex:"name",key:"name",align:y},{title:g("table:table-item-email"),dataIndex:"email",key:"email",align:y},{title:g("table:table-item-permissions"),dataIndex:"permissions",key:"permissions",align:"center",render:function(e,t){return(0,n.jsx)("div",{children:null===e||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")})}},{title:g("table:table-item-available_wallet_points"),dataIndex:["wallet","available_points"],key:"available_wallet_points",align:"center"},{title:(0,n.jsx)(v.Z,{title:g("table:table-item-status"),ascending:w.sort===d.As.Asc&&"is_active"===w.column,isActive:"is_active"===w.column}),className:"cursor-pointer",dataIndex:"is_active",key:"is_active",align:"center",onHeaderCell:function(){return e="is_active",{onClick:function(){l((function(e){return e===d.As.Desc?d.As.Asc:d.As.Desc})),x(e),O({sort:w.sort===d.As.Desc?d.As.Asc:d.As.Desc,column:e})}};var e},render:function(e){return e?"Active":"Inactive"}},{title:g("table:table-item-actions"),dataIndex:"id",key:"actions",align:"right",render:function(e,t){var r=t.is_active,o=(0,b.UE)().data;return(0,n.jsx)(n.Fragment,{children:(null===o||void 0===o?void 0:o.id)!=e&&(0,n.jsx)(u.Z,{id:e,userStatus:!0,isUserActive:r,showAddWalletPoints:!0,showMakeAdminButton:!0})})}}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-6 overflow-hidden rounded shadow",children:(0,n.jsx)(s.i,{columns:P,emptyText:g("table:empty-table-data"),data:r,rowKey:"id",scroll:{x:800}})}),!!(null===o||void 0===o?void 0:o.total)&&(0,n.jsx)("div",{className:"flex items-center justify-end",children:(0,n.jsx)(i.Z,{total:o.total,current:o.currentPage,pageSize:o.perPage,onChange:a})})]})},g=r(75937),y=r(37018),j=r(35109),w=r(90551),O=r(6943),P=!0;function N(){var e=(0,p.useState)(""),t=e[0],r=e[1],a=(0,p.useState)(1),i=a[0],c=a[1],s=(0,m.$G)().t,u=(0,p.useState)("created_at"),f=u[0],h=u[1],v=(0,p.useState)(d.As.Desc),O=v[0],P=v[1],N=(0,b.xY)({limit:20,page:i,name:t,orderBy:f,sortedBy:O}),S=N.users,k=N.paginatorInfo,_=N.loading,E=N.error;return _?(0,n.jsx)(j.Z,{text:s("common:text-loading")}):E?(0,n.jsx)(y.Z,{message:E.message}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Z,{className:"mb-8 flex flex-col items-center md:flex-row",children:[(0,n.jsx)("div",{className:"mb-4 md:mb-0 md:w-1/4",children:(0,n.jsx)("h1",{className:"text-lg font-semibold text-heading",children:s("form:input-label-customers")})}),(0,n.jsxs)("div",{className:"ms-auto flex w-full items-center md:w-3/4",children:[(0,n.jsx)(l.Z,{onSearch:function(e){var t=e.searchText;r(t),c(1)}}),(0,n.jsx)(g.Z,{href:"".concat(w.Z.user.create),className:"ms-4 md:ms-6 h-12",children:(0,n.jsxs)("span",{children:["+ ",s("form:button-label-add-customer")]})})]})]}),_?null:(0,n.jsx)(x,{customers:S,paginatorInfo:k,onPagination:function(e){c(e)},onOrder:h,onSort:P})]})}N.authenticate={permissions:O.M$},N.Layout=a.default},58079:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(85893);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=function(e){var t=e.iconList,r=e.iconName,l=a(e,["iconList","iconName"]),i=t[r];return i?(0,n.jsx)(i,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},l)):(0,n.jsxs)("p",{className:"text-sm text-red-500",children:[r," is not a valid icon"]})}}},function(e){e.O(0,[6351,3506,4798,7536,7273,20,1379,5842,2493,8123,7740,9774,2888,179],(function(){return t=31876,e(e.s=t);var t}));var t=e.O();_N_E=t}]);