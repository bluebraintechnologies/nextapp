(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9258],{25260:function(e,l,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manufacturers/create",function(){return r(16793)}])},21956:function(e,l,r){"use strict";r.r(l);var i=r(85893),n=r(41626),a=r(67294),t=r(40133),o=r(46619),s=r(70300),u=r(35279),d=r(11163);l.default=function(e){var l=e.children,r=(0,s.$G)().t,c=(0,d.useRouter)().locale,m="ar"===c||"he"===c?"rtl":"ltr",f=function(){return(0,i.jsx)(a.Fragment,{children:o.U.sidebarLinks.admin.map((function(e){var l=e.href,n=e.label,a=e.icon;return(0,i.jsx)(u.Z,{href:l,label:r(n),icon:a},l)}))})};return(0,i.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-100 transition-colors duration-150",dir:m,children:[(0,i.jsx)(n.Z,{}),(0,i.jsx)(t.Z,{children:(0,i.jsx)(f,{})}),(0,i.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,i.jsx)("aside",{className:"xl:w-76 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto fixed bottom-0 hidden h-full w-72 overflow-y-auto bg-white px-4 pt-22 shadow lg:block",children:(0,i.jsx)("div",{className:"flex flex-col space-y-6 py-3",children:(0,i.jsx)(f,{})})}),(0,i.jsx)("main",{className:"ltr:lg:pl-72 ltr:xl:pl-76 rtl:lg:pr-72 rtl:xl:pr-76 rtl:lg:pl-0 w-full",children:(0,i.jsx)("div",{className:"h-full p-5 md:p-8",children:l})})]})]})}},68376:function(e,l,r){"use strict";r.d(l,{Z:function(){return P}});var i=r(34051),n=r.n(i),a=r(85893),t=r(50381),o=r(87536),s=r(14685),u=r(57818),d=r(38039),c=r(8009),m=r(27856),f=r(66595),v=r(11163),p=r(70300),b=r(13480),x=r(95496),h=r(74231),g=h.Ry().shape({name:h.Z_().required("form:error-manufacturer-name-required"),type:h.Ry().nullable().required("form:error-type-required")}),j=r(58079),w=r(79544),y=r(13229),N=r(67138),Z=r(72950),_=r(14983);function k(e,l,r,i,n,a,t){try{var o=e[a](t),s=o.value}catch(u){return void r(u)}o.done?l(s):Promise.resolve(s).then(i,n)}function O(e,l,r){return l in e?Object.defineProperty(e,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[l]=r,e}function q(e){for(var l=1;l<arguments.length;l++){var r=null!=arguments[l]?arguments[l]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(l){O(e,l,r[l])}))}return e}var E=[{value:"FacebookIcon",label:"Facebook"},{value:"InstagramIcon",label:"Instagram"},{value:"TwitterIcon",label:"Twitter"},{value:"YouTubeIcon",label:"Youtube"}].map((function(e){return e.label=(0,a.jsxs)("div",{className:"flex items-center text-body space-s-4",children:[(0,a.jsx)("span",{className:"flex h-4 w-4 items-center justify-center",children:(0,j.q)({iconList:y,iconName:e.value,className:"w-4 h-4"})}),(0,a.jsx)("span",{children:e.label})]}),e}));function P(e){var l,r,i,h,j=e.initialValues,y=(0,v.useRouter)(),O=(0,p.$G)().t,P=y.query.shop,I=(0,Z.DZ)({slug:P},{enabled:!!y.query.shop}).data,S=null===I||void 0===I?void 0:I.id,C="translate"===(null===y||void 0===y||null===(l=y.query)||void 0===l?void 0:l.action),L=(0,o.cI)(q({shouldUnregister:!0,resolver:(0,x.X)(g)},Boolean(j)&&{defaultValues:q({},j,{socials:(null===j||void 0===j?void 0:j.socials)?null===j||void 0===j?void 0:j.socials.map((function(e){return{icon:null===E||void 0===E?void 0:E.find((function(l){return(null===l||void 0===l?void 0:l.value)===(null===e||void 0===e?void 0:e.icon)})),url:null===e||void 0===e?void 0:e.url}})):[]},C&&{type:null})})),T=L.register,F=L.handleSubmit,G=L.control,R=L.setError,V=L.formState.errors,$=(0,_.M5)(),D=$.mutate,X=$.isLoading,M=(0,_.pN)(),U=M.mutate,Y=M.isLoading,B=(0,o.Dq)({control:G,name:"socials"}),z=B.fields,A=B.append,H=B.remove,J=function(){var e,l=(e=n().mark((function e(l){var r,i,a,t,o,s,u,d,m,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.name,i=l.description,a=l.is_approved,t=l.website,o=l.type,s=l.socials,u=l.image,d=l.cover_image,m={language:y.locale,name:r,description:i,is_approved:a,website:t,socials:s?null===s||void 0===s?void 0:s.map((function(e){var l;return{icon:null===e||void 0===e||null===(l=e.icon)||void 0===l?void 0:l.value,url:null===e||void 0===e?void 0:e.url}})):[],image:{thumbnail:null===u||void 0===u?void 0:u.thumbnail,original:null===u||void 0===u?void 0:u.original,id:null===u||void 0===u?void 0:u.id},cover_image:{thumbnail:null===d||void 0===d?void 0:d.thumbnail,original:null===d||void 0===d?void 0:d.original,id:null===d||void 0===d?void 0:d.id},type_id:null===o||void 0===o?void 0:o.id};try{j&&j.translated_languages.includes(y.locale)?U(q({},m,{id:j.id,shop_id:S})):D(q({},m,{shop_id:S},(null===j||void 0===j?void 0:j.slug)&&{slug:j.slug}))}catch(n){f=(0,c.e)(n),Object.keys(null===f||void 0===f?void 0:f.validation).forEach((function(e){R(e.split(".")[1],{type:"manual",message:null===f||void 0===f?void 0:f.validation[e][0]})}))}case 3:case"end":return e.stop()}}),e)})),function(){var l=this,r=arguments;return new Promise((function(i,n){var a=e.apply(l,r);function t(e){k(a,i,n,t,o,"next",e)}function o(e){k(a,i,n,t,o,"throw",e)}t(void 0)}))});return function(e){return l.apply(this,arguments)}}();return(0,a.jsxs)("form",{onSubmit:F(J),children:[(0,a.jsxs)("div",{className:"my-5 flex flex-wrap border-b border-dashed border-border-base pb-8 sm:my-8",children:[(0,a.jsx)(m.Z,{title:O("form:input-label-logo"),details:O("form:manufacturer-image-helper-text"),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5"}),(0,a.jsx)(f.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:(0,a.jsx)(b.Z,{name:"image",control:G,multiple:!1})})]}),(0,a.jsxs)("div",{className:"my-5 flex flex-wrap border-b border-dashed border-border-base pb-8 sm:my-8",children:[(0,a.jsx)(m.Z,{title:O("form:input-label-cover-image"),details:O("form:manufacturer-cover-image-helper-text"),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5"}),(0,a.jsx)(f.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:(0,a.jsx)(b.Z,{name:"cover_image",control:G,multiple:!1})})]}),(0,a.jsxs)("div",{className:"my-5 flex flex-wrap sm:my-8",children:[(0,a.jsx)(m.Z,{title:O("form:input-label-description"),details:"".concat(O(j?"form:item-description-edit":"form:item-description-add")," ").concat(O("form:manufacturer-form-description-details")),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5 "}),(0,a.jsxs)(f.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:[(0,a.jsx)(t.Z,q({label:O("form:input-label-name")},T("name"),{error:O(null===(r=V.name)||void 0===r?void 0:r.message),variant:"outline",className:"mb-5"})),(0,a.jsx)(t.Z,q({label:O("form:input-label-website")},T("website"),{error:O(null===(i=V.website)||void 0===i?void 0:i.message),variant:"outline",className:"mb-5"})),(0,a.jsx)(u.Z,q({label:O("form:input-label-description")},T("description"),{variant:"outline",className:"mb-5"})),(0,a.jsx)(N.Z,{control:G,error:O(null===V||void 0===V||null===(h=V.type)||void 0===h?void 0:h.message)}),(0,a.jsx)("div",{children:z.map((function(e,l){return(0,a.jsx)("div",{className:"border-b border-dashed border-border-200 py-5 first:mt-5 first:border-t last:border-b-0 md:py-8 md:first:mt-10",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-5",children:[(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)(d.Z,{children:O("form:input-label-select-platform")}),(0,a.jsx)(w.Z,{name:"socials.".concat(l,".icon"),control:G,options:E,isClearable:!0,defaultValue:null===e||void 0===e?void 0:e.icon})]}),(0,a.jsx)(t.Z,q({className:"sm:col-span-2",label:O("form:input-label-social-url"),variant:"outline"},T("socials.".concat(l,".url")),{defaultValue:e.url})),(0,a.jsx)("button",{onClick:function(){H(l)},type:"button",className:"text-sm text-red-500 transition-colors duration-200 hover:text-red-700 focus:outline-none sm:col-span-1 sm:mt-4",children:O("form:button-label-remove")})]})},e.id)}))}),(0,a.jsx)(s.Z,{type:"button",onClick:function(){return A({icon:"",url:""})},className:"w-full sm:w-auto",children:O("form:button-label-add-social")})]})]}),(0,a.jsxs)("div",{className:"mb-4 text-end",children:[j&&(0,a.jsx)(s.Z,{variant:"outline",onClick:y.back,className:"me-4",type:"button",children:O("form:button-label-back")}),(0,a.jsx)(s.Z,{loading:Y||X,children:O(j?"form:button-label-update-manufacturer-publication":"form:button-label-add-manufacturer-publication")})]})]})}},16793:function(e,l,r){"use strict";r.r(l),r.d(l,{__N_SSG:function(){return s},default:function(){return u}});var i=r(85893),n=r(21956),a=r(68376),t=r(70300),o=r(6943),s=!0;function u(){var e=(0,t.$G)().t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flex border-b border-dashed border-border-base py-5 sm:py-8",children:(0,i.jsx)("h1",{className:"text-lg font-semibold text-heading",children:e("form:form-title-create-manufacturer")})}),(0,i.jsx)(a.Z,{})]})}u.authenticate={permissions:o.M$},u.Layout=n.default}},function(e){e.O(0,[6351,3506,4798,7536,6682,571,7487,3978,7502,2512,1379,5842,2493,8123,6369,4940,9071,9774,2888,179],(function(){return l=25260,e(e.s=l);var l}));var l=e.O();_N_E=l}]);