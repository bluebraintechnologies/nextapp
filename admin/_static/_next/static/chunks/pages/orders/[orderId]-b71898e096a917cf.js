(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4349],{38275:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders/[orderId]",function(){return r(53194)}])},21956:function(e,t,r){"use strict";r.r(t);var n=r(85893),s=r(41626),l=r(67294),i=r(40133),a=r(46619),o=r(70300),d=r(35279),c=r(11163);t.default=function(e){var t=e.children,r=(0,o.$G)().t,u=(0,c.useRouter)().locale,m="ar"===u||"he"===u?"rtl":"ltr",x=function(){return(0,n.jsx)(l.Fragment,{children:a.U.sidebarLinks.admin.map((function(e){var t=e.href,s=e.label,l=e.icon;return(0,n.jsx)(d.Z,{href:t,label:r(s),icon:l},t)}))})};return(0,n.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-100 transition-colors duration-150",dir:m,children:[(0,n.jsx)(s.Z,{}),(0,n.jsx)(i.Z,{children:(0,n.jsx)(x,{})}),(0,n.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,n.jsx)("aside",{className:"xl:w-76 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto fixed bottom-0 hidden h-full w-72 overflow-y-auto bg-white px-4 pt-22 shadow lg:block",children:(0,n.jsx)("div",{className:"flex flex-col space-y-6 py-3",children:(0,n.jsx)(x,{})})}),(0,n.jsx)("main",{className:"ltr:lg:pl-72 ltr:xl:pl-76 rtl:lg:pr-72 rtl:xl:pr-76 rtl:lg:pl-0 w-full",children:(0,n.jsx)("div",{className:"h-full p-5 md:p-8",children:t})})]})]})}},53194:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return F},default:function(){return D}});var n=r(34051),s=r.n(n),l=r(85893),i=r(66595),a=r(21956),o=r(25675),d=r(19662),c=r(11163),u=r(87536),m=r(14685),x=r(37018),f=r(46619),h=r(89439),v=r(71192),p=r(35109),b=r(99868),j=r(3620),g=r(33712),y=r(70300),w=r(79544),N=r(51379),_=r(81789),Z=r(39624),k=r(67294),S=r(91131),E=r(88378),I=r(82573),L=r(18961),P=r(2605);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r,n,s,l,i){try{var a=e[l](i),o=a.value}catch(d){return void r(d)}a.done?t(o):Promise.resolve(o).then(n,s)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var l=e.apply(t,r);function i(e){O(l,n,s,i,a,"next",e)}function a(e){O(l,n,s,i,a,"throw",e)}i(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(o){a=!0,s=o}finally{try{i||null==r.return||r.return()}finally{if(a)throw s}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=!0;function D(){var e,t=(0,y.$G)().t,r=(0,c.useRouter)(),n=r.query,a=r.locale,A=(0,N.S)(),O=A.alignLeft,F=A.alignRight,D=A.isRTL,R=(0,Z.jD)().resetCart,q=C((0,S.KO)(E.y9),2)[1];(0,k.useEffect)((function(){R(),q()}),[R,q]);var U,$,G,K=(0,g.Oc)(),V=K.mutate,X=K.isLoading,z=(0,g.OT)({id:n.orderId,language:a}),M=z.order,B=z.isLoading,H=z.error,J=(0,g.qD)({order_id:n.orderId,isRTL:D,language:a},{enabled:!1}).refetch,Q=(0,u.cI)({defaultValues:{order_status:null!==(U=null===M||void 0===M?void 0:M.order_status)&&void 0!==U?U:""}}),W=Q.handleSubmit,Y=Q.control,ee=Q.formState.errors,te=(0,h.ZP)(M&&{amount:null===M||void 0===M?void 0:M.amount}).price,re=(0,h.ZP)(M&&{amount:null===M||void 0===M?void 0:M.paid_total}).price,ne=(0,h.ZP)(M&&{amount:null!==($=null===M||void 0===M?void 0:M.discount)&&void 0!==$?$:0}).price,se=(0,h.ZP)(M&&{amount:null===M||void 0===M?void 0:M.delivery_fee}).price,le=(0,h.ZP)(M&&{amount:null===M||void 0===M?void 0:M.sales_tax}).price;if(B)return(0,l.jsx)(p.Z,{text:t("common:text-loading")});if(H)return(0,l.jsx)(x.Z,{message:H.message});function ie(){return(ie=T(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:(t=e.sent.data)&&((r=document.createElement("a")).href=t,r.setAttribute("download","order-invoice"),r.click());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=[{dataIndex:"image",key:"image",width:70,render:function(e){return(0,l.jsx)(o.default,{src:null!==(G=null===e||void 0===e?void 0:e.thumbnail)&&void 0!==G?G:f.U.product.placeholder,alt:"alt text",layout:"fixed",width:50,height:50})}},{title:t("table:table-item-products"),dataIndex:"name",key:"name",align:O,render:function(e,t){return(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("span",{className:"mx-2",children:"x"}),(0,l.jsx)("span",{className:"font-semibold text-heading",children:t.pivot.order_quantity})]})}},{title:t("table:table-item-total"),dataIndex:"price",key:"price",align:F,render:function(e,t){var r=(0,h.ZP)({amount:parseFloat(t.pivot.subtotal)}).price;return(0,l.jsx)("span",{children:r})}}];return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.Z,{className:"relative overflow-hidden",children:[(0,l.jsx)("div",{className:"mb-6 -mt-5 -ml-5 -mr-5 md:-mr-8 md:-ml-8 md:-mt-8",children:(0,l.jsx)(L.Z,{order:M,wrapperClassName:"px-8 py-4"})}),(0,l.jsx)("div",{className:"flex w-full",children:(0,l.jsxs)(m.Z,{onClick:function(){return ie.apply(this,arguments)},className:"mb-5 bg-blue-500 ltr:ml-auto rtl:mr-auto",children:[(0,l.jsx)(_._,{className:"w-4 h-4 me-3"}),t("common:text-download")," ",t("common:text-invoice")]})}),(0,l.jsxs)("div",{className:"flex flex-col items-center lg:flex-row",children:[(0,l.jsxs)("h3",{className:"w-full mb-8 text-2xl font-semibold text-center whitespace-nowrap text-heading lg:mb-0 lg:w-1/3 lg:text-start",children:[t("form:input-label-order-id")," - ",null===M||void 0===M?void 0:M.tracking_number]}),(null===M||void 0===M?void 0:M.order_status)!==j.iF.FAILED&&(null===M||void 0===M?void 0:M.order_status)!==j.iF.CANCELLED&&(0,l.jsxs)("form",{onSubmit:W((function(e){var t=e.order_status;V({id:null===M||void 0===M?void 0:M.id,order_status:null===t||void 0===t?void 0:t.status})})),className:"flex items-start w-full ms-auto lg:w-2/4",children:[(0,l.jsxs)("div",{className:"z-20 w-full me-5",children:[(0,l.jsx)(w.Z,{name:"order_status",control:Y,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.status},options:I.D.slice(0,6),placeholder:t("form:input-placeholder-order-status")}),(0,l.jsx)(b.Z,{message:t(null===ee||void 0===ee||null===(e=ee.order_status)||void 0===e?void 0:e.message)})]}),(0,l.jsxs)(m.Z,{loading:X,children:[(0,l.jsx)("span",{className:"hidden sm:block",children:t("form:button-label-change-status")}),(0,l.jsx)("span",{className:"block sm:hidden",children:t("form:form:button-label-change")})]})]})]}),(0,l.jsx)("div",{className:"flex items-center justify-center my-5 lg:my-10",children:(0,l.jsx)(P.Z,{orderStatus:null===M||void 0===M?void 0:M.order_status,paymentStatus:null===M||void 0===M?void 0:M.payment_status})}),(0,l.jsxs)("div",{className:"mb-10",children:[M?(0,l.jsx)(d.i,{columns:ae,emptyText:t("table:empty-table-data"),data:null===M||void 0===M?void 0:M.products,rowKey:"id",scroll:{x:300}}):(0,l.jsx)("span",{children:t("common:no-order-found")}),(0,l.jsxs)("div",{className:"flex flex-col w-full px-4 py-4 space-y-2 border-t-4 border-double border-border-200 ms-auto sm:w-1/2 md:w-1/3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,l.jsx)("span",{children:t("common:order-sub-total")}),(0,l.jsx)("span",{children:te})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,l.jsx)("span",{children:t("common:order-tax")}),(0,l.jsx)("span",{children:le})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,l.jsx)("span",{children:t("common:order-delivery-fee")}),(0,l.jsx)("span",{children:se})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,l.jsx)("span",{children:t("common:order-discount")}),(0,l.jsx)("span",{children:ne})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-base font-semibold text-heading",children:[(0,l.jsx)("span",{children:t("common:order-total")}),(0,l.jsx)("span",{children:re})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:[(0,l.jsxs)("div",{className:"w-full mb-10 sm:mb-0 sm:w-1/2 sm:pe-8",children:[(0,l.jsx)("h3",{className:"pb-2 mb-3 font-semibold border-b border-border-200 text-heading",children:t("common:billing-address")}),(0,l.jsxs)("div",{className:"flex flex-col items-start space-y-1 text-sm text-body",children:[(0,l.jsx)("span",{children:null===M||void 0===M?void 0:M.customer_name}),(null===M||void 0===M?void 0:M.billing_address)&&(0,l.jsx)("span",{children:(0,v.T)(M.billing_address)}),(null===M||void 0===M?void 0:M.customer_contact)&&(0,l.jsx)("span",{children:null===M||void 0===M?void 0:M.customer_contact})]})]}),(0,l.jsxs)("div",{className:"w-full sm:w-1/2 sm:ps-8",children:[(0,l.jsx)("h3",{className:"pb-2 mb-3 font-semibold border-b border-border-200 text-heading text-start sm:text-end",children:t("common:shipping-address")}),(0,l.jsxs)("div",{className:"flex flex-col items-start space-y-1 text-sm text-body text-start sm:items-end sm:text-end",children:[(0,l.jsx)("span",{children:null===M||void 0===M?void 0:M.customer_name}),(null===M||void 0===M?void 0:M.shipping_address)&&(0,l.jsx)("span",{children:(0,v.T)(M.shipping_address)}),(null===M||void 0===M?void 0:M.customer_contact)&&(0,l.jsx)("span",{children:null===M||void 0===M?void 0:M.customer_contact})]})]})]})]})})}D.Layout=a.default}},function(e){e.O(0,[6351,3506,4798,7536,7273,7502,1379,5842,2493,8123,9253,9774,2888,179],(function(){return t=38275,e(e.s=t);var t}));var t=e.O();_N_E=t}]);