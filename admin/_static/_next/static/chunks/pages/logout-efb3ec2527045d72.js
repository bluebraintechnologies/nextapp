(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{84803:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logout",function(){return e(80249)}])},59338:function(n,t,e){"use strict";e.d(t,{B:function(){return a}});var u=e(17785),r=e(14141);function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i(){return i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(n[u]=e[u])}return n},i.apply(this,arguments)}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},u=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),u.forEach((function(t){o(n,t,e[t])}))}return n}function s(n,t){if(null==n)return{};var e,u,r=function(n,t){if(null==n)return{};var e,u,r={},o=Object.keys(n);for(u=0;u<o.length;u++)e=o[u],t.indexOf(e)>=0||(r[e]=n[e]);return r}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(u=0;u<o.length;u++)e=o[u],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}var a={me:function(){return r.eN.get(u.P.ME)},login:function(n){return r.eN.post(u.P.TOKEN,n)},logout:function(){return r.eN.post(u.P.LOGOUT,{})},register:function(n){return r.eN.post(u.P.REGISTER,n)},update:function(n){var t=n.id,e=n.input;return r.eN.put("".concat(u.P.USERS,"/").concat(t),e)},changePassword:function(n){return r.eN.post(u.P.CHANGE_PASSWORD,n)},forgetPassword:function(n){return r.eN.post(u.P.FORGET_PASSWORD,n)},verifyForgetPasswordToken:function(n){return r.eN.post(u.P.VERIFY_FORGET_PASSWORD_TOKEN,n)},resetPassword:function(n){return r.eN.post(u.P.RESET_PASSWORD,n)},makeAdmin:function(n){return r.eN.post(u.P.MAKE_ADMIN,n)},block:function(n){return r.eN.post(u.P.BLOCK_USER,n)},unblock:function(n){return r.eN.post(u.P.UNBLOCK_USER,n)},addWalletPoints:function(n){return r.eN.post(u.P.ADD_WALLET_POINTS,n)},fetchUsers:function(n){var t=n.name,e=s(n,["name"]);return r.eN.get(u.P.USERS,c({searchJoin:"and",with:"wallet"},e,{search:r.eN.formatSearchParams({name:t})}))},fetchAdmins:function(n){var t=i({},n);return r.eN.get(u.P.ADMIN_LIST,c({searchJoin:"and"},t))},fetchUser:function(n){var t=n.id;return r.eN.get("".concat(u.P.USERS,"/").concat(t))}}},66639:function(n,t,e){"use strict";e.d(t,{UE:function(){return S},f0:function(){return P},_y:function(){return v},l4:function(){return m},kD:function(){return p},$h:function(){return g},xy:function(){return y},AV:function(){return E},gL:function(){return O},lJ:function(){return N},q3:function(){return b},xE:function(){return _},h3:function(){return h},bT:function(){return A},xY:function(){return R},Jc:function(){return w}});var u=e(13135),r=e(90551),o=e(31955),i=e(70300),c=e(11163),s=e(88767),a=e(40782),f=e(17785),l=e(59338),d=e(66889),S=function(){return(0,s.useQuery)([f.P.ME],l.B.me)};function P(){return(0,s.useMutation)(l.B.login)}var v=function(){var n=(0,c.useRouter)(),t=(0,i.$G)().t;return(0,s.useMutation)(l.B.logout,{onSuccess:function(){o.Z.remove(u.E$),n.replace(r.Z.login),a.Am.success(t("common:successfully-logout"))}})},m=function(){var n=(0,s.useQueryClient)(),t=(0,i.$G)().t;return(0,s.useMutation)(l.B.register,{onSuccess:function(){a.Am.success(t("common:successfully-register"))},onSettled:function(){n.invalidateQueries(f.P.REGISTER)}})},p=function(){var n=(0,i.$G)().t,t=(0,s.useQueryClient)();return(0,s.useMutation)(l.B.update,{onSuccess:function(){a.Am.success(n("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(f.P.ME),t.invalidateQueries(f.P.USERS)}})},g=function(){return(0,s.useMutation)(l.B.changePassword)},y=function(){return(0,s.useMutation)(l.B.forgetPassword)},E=function(){return(0,s.useMutation)(l.B.verifyForgetPasswordToken)},O=function(){return(0,s.useMutation)(l.B.resetPassword)},N=function(){var n=(0,s.useQueryClient)(),t=(0,i.$G)().t;return(0,s.useMutation)(l.B.makeAdmin,{onSuccess:function(){a.Am.success(t("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(f.P.USERS)}})},b=function(){var n=(0,s.useQueryClient)(),t=(0,i.$G)().t;return(0,s.useMutation)(l.B.block,{onSuccess:function(){a.Am.success(t("common:successfully-block"))},onSettled:function(){n.invalidateQueries(f.P.USERS),n.invalidateQueries(f.P.STAFFS)}})},_=function(){var n=(0,s.useQueryClient)(),t=(0,i.$G)().t;return(0,s.useMutation)(l.B.unblock,{onSuccess:function(){a.Am.success(t("common:successfully-unblock"))},onSettled:function(){n.invalidateQueries(f.P.USERS),n.invalidateQueries(f.P.STAFFS)}})},h=function(){var n=(0,i.$G)().t,t=(0,s.useQueryClient)();return(0,s.useMutation)(l.B.addWalletPoints,{onSuccess:function(){a.Am.success(n("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(f.P.USERS)}})},A=function(n){var t=n.id;return(0,s.useQuery)([f.P.USERS,t],(function(){return l.B.fetchUser({id:t})}),{enabled:Boolean(t)})},R=function(n){var t,e=(0,s.useQuery)([f.P.USERS,n],(function(){return l.B.fetchUsers(n)}),{keepPreviousData:!0}),u=e.data,r=e.isLoading,o=e.error;return{users:null!==(t=null===u||void 0===u?void 0:u.data)&&void 0!==t?t:[],paginatorInfo:(0,d.Q)(u),loading:r,error:o}},w=function(n){var t,e=(0,s.useQuery)([f.P.ADMIN_LIST,n],(function(){return l.B.fetchAdmins(n)}),{keepPreviousData:!0}),u=e.data,r=e.isLoading,o=e.error;return{admins:null!==(t=null===u||void 0===u?void 0:u.data)&&void 0!==t?t:[],paginatorInfo:(0,d.Q)(u),loading:r,error:o}}},80249:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSG:function(){return s}});var u=e(85893),r=e(67294),o=e(35109),i=e(66639),c=e(70300);var s=!0;t.default=function(){var n=(0,c.$G)().t,t=(0,i._y)().mutate;return(0,r.useEffect)((function(){t()}),[]),(0,u.jsx)(o.Z,{text:n("common:signing-out-text")})}}},function(n){n.O(0,[9774,2888,179],(function(){return t=84803,n(n.s=t);var t}));var t=n.O();_N_E=t}]);