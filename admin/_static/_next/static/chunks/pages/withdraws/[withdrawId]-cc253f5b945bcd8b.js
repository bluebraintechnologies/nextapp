(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2603,1956],{89154:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/withdraws/[withdrawId]",function(){return n(17007)}])},66595:function(e,t,n){"use strict";var r=n(85893),o=n(94184),i=n.n(o);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.Z=function(e){var t=e.className,n=a(e,["className"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({className:i()("p-5 md:p-8 bg-light shadow rounded",t)},n))}},21956:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(41626),i=n(67294),l=n(40133),a=n(46619),s=n(70300),c=n(35279),u=n(11163);t.default=function(e){var t=e.children,n=(0,s.$G)().t,d=(0,u.useRouter)().locale,f="ar"===d||"he"===d?"rtl":"ltr",m=function(){return(0,r.jsx)(i.Fragment,{children:a.U.sidebarLinks.admin.map((function(e){var t=e.href,o=e.label,i=e.icon;return(0,r.jsx)(c.Z,{href:t,label:n(o),icon:i},t)}))})};return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-100 transition-colors duration-150",dir:f,children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(m,{})}),(0,r.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,r.jsx)("aside",{className:"xl:w-76 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto fixed bottom-0 hidden h-full w-72 overflow-y-auto bg-white px-4 pt-22 shadow lg:block",children:(0,r.jsx)("div",{className:"flex flex-col space-y-6 py-3",children:(0,r.jsx)(m,{})})}),(0,r.jsx)("main",{className:"ltr:lg:pl-72 ltr:xl:pl-76 rtl:lg:pr-72 rtl:xl:pr-76 rtl:lg:pl-0 w-full",children:(0,r.jsx)("div",{className:"h-full p-5 md:p-8",children:t})})]})]})}},35279:function(e,t,n){"use strict";var r=n(85893),o=n(96872),i=n(58079),l=n(48123),a=n(78126);t.Z=function(e){var t=e.href,n=e.icon,s=e.label,c=(0,a.l8)().closeSidebar;return(0,r.jsxs)(o.Z,{href:t,className:"text-start flex w-full items-center text-base text-body-dark focus:text-accent",children:[(0,i.q)({iconList:l,iconName:n,className:"w-5 h-5 me-4"}),(0,r.jsx)("span",{onClick:function(){return c()},children:s})]})}},99868:function(e,t,n){"use strict";var r=n(85893);t.Z=function(e){var t=e.message;return(0,r.jsx)("p",{className:"my-2 text-xs text-start text-red-500",children:t})}},79544:function(e,t,n){"use strict";var r=n(85893),o=n(25380),i=n(87536);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.Z=function(e){var t=e.control,n=e.options,l=e.name,c=e.rules,u=e.getOptionLabel,d=e.getOptionValue,f=e.disabled,m=e.isMulti,b=e.isClearable,p=e.isLoading,x=s(e,["control","options","name","rules","getOptionLabel","getOptionValue","disabled","isMulti","isClearable","isLoading"]);return(0,r.jsx)(i.Qr,a({control:t,name:l,rules:c},x,{render:function(e){var t=e.field;return(0,r.jsx)(o.Z,a({},t,{getOptionLabel:u,getOptionValue:d,isMulti:m,isClearable:b,isLoading:p,options:n,isDisabled:f}))}}))}},13916:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}n.d(t,{X:function(){return i}});var i={option:function(e,t){return o({},e,{fontSize:"0.875rem",color:"#6B7280",paddingLeft:16,paddingRight:16,paddingTop:12,paddingBottom:12,cursor:"pointer",borderBottom:"1px solid #E5E7EB",backgroundColor:t.isSelected?"#E5E7EB":t.isFocused?"#F9FAFB":"#ffffff"})},control:function(e,t){return{display:"flex",alignItems:"center",minHeight:50,backgroundColor:(null===t||void 0===t?void 0:t.isDisabled)?"#EEF1F4":"#ffffff",borderRadius:5,border:"1px solid #D1D5DB",borderColor:(null===t||void 0===t?void 0:t.isDisabled)?"#D4D8DD":t.isFocused?"rgb(var(--color-accent-500))":"#D1D5DB",boxShadow:t.menuIsOpen&&"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,t){return o({},e,{color:t.isFocused?"#9CA3AF":"#cccccc","&:hover":{color:"#9CA3AF"}})},clearIndicator:function(e,t){return o({},e,{color:t.isFocused?"#9CA3AF":"#cccccc",padding:0,cursor:"pointer","&:hover":{color:"#9CA3AF"}})},menu:function(e){return o({},e,{borderRadius:5,border:"1px solid #E5E7EB",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"})},valueContainer:function(e,t){return o({},e,{paddingLeft:16})},singleValue:function(e,t){return o({},e,{fontSize:"0.875rem",color:"#4B5563"})},multiValue:function(e,t){return o({},e,{backgroundColor:"rgb(var(--color-accent-400))",borderRadius:9999,overflow:"hidden",boxShadow:"0 0px 3px 0 rgba(0, 0, 0, 0.1), 0 0px 2px 0 rgba(0, 0, 0, 0.06)"})},multiValueLabel:function(e,t){return o({},e,{paddingLeft:t.isRtl?0:12,paddingRight:t.isRtl?12:0,fontSize:"0.875rem",color:"#ffffff"})},multiValueRemove:function(e,t){return o({},e,{paddingLeft:6,paddingRight:6,color:"#ffffff",cursor:"pointer","&:hover":{backgroundColor:"rgb(var(--color-accent-300))",color:"#F3F4F6"}})},placeholder:function(e,t){return o({},e,{fontSize:"0.875rem",color:"rgba(107, 114, 128, 0.7)"})},noOptionsMessage:function(e,t){return o({},e,{fontSize:"0.875rem",color:"rgba(107, 114, 128, 0.7)"})}}},25380:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(85893),o=n(51379),i=n(67294),l=n(94310),a=n(87462),s=n(7521),c=n(15671),u=n(43144),d=n(60136),f=n(99949),m=n(52443),b=n(8417),p=n(30845),x=(n(73935),(0,i.forwardRef)((function(e,t){var n=(0,l.u)(e);return i.createElement(s.S,(0,a.Z)({ref:t},n))}))),v=(i.Component,x),g=n(13916);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=i.forwardRef((function(e,t){var n=(0,o.S)().isRTL;return(0,r.jsx)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({ref:t,styles:g.X,isRtl:n},e))}));y.displayName="Select";var j=y},14698:function(e,t,n){"use strict";n.d(t,{by:function(){return g},mJ:function(){return v},rX:function(){return h},qv:function(){return y}});var r=n(11163),o=n(88767),i=n(40782),l=n(70300),a=n(17785),s=n(66889),c=n(14511),u=n(14141);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=f({},(0,c.h)(a.P.WITHDRAWS),{get:function(e){var t=e.id;return u.eN.get("".concat(a.P.WITHDRAWS,"/").concat(t))},paginated:function(e){var t=e.shop_id,n=m(e,["shop_id"]);return u.eN.get(a.P.WITHDRAWS,f({searchJoin:"and"},n,{search:u.eN.formatSearchParams({shop_id:t})}))},approve:function(e){return u.eN.post(a.P.APPROVE_WITHDRAW,e)}});function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}var v=function(){var e=(0,o.useQueryClient)(),t=(0,r.useRouter)();return(0,o.useMutation)(b.create,{onSuccess:function(){t.push("/".concat(t.query.shop,"/withdraws"))},onSettled:function(){e.invalidateQueries(a.P.WITHDRAWS)}})},g=function(){var e=(0,l.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(b.approve,{onSuccess:function(){i.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(a.P.APPROVE_WITHDRAW)}})},h=function(e){var t=e.id,n=(0,o.useQuery)([a.P.WITHDRAWS,{id:t}],(function(){return b.get({id:t})}));return{withdraw:n.data,error:n.error,isLoading:n.isLoading}},y=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,o.useQuery)([a.P.WITHDRAWS,e],(function(e){var t=e.queryKey,n=e.pageParam;return b.paginated(Object.assign({},t[1],n))}),x({keepPreviousData:!0},n)),i=r.data,l=r.error,c=r.isLoading;return{withdraws:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:[],paginatorInfo:(0,s.Q)(i),error:l,loading:c}}},17007:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return h}});var r=n(85893),o=n(6943),i=n(11163),l=n(35109),a=n(37018),s=n(14685),c=n(87536),u=n(79544),d=n(99868),f=n(70300),m=n(67294),b=n(21956),p=n(14698),x=n(66595),v=[{name:"Approved",id:"approved"},{name:"On Hold",id:"on_hold"},{name:"Processing",id:"processing"},{name:"Pending",id:"pending"},{name:"Rejected",id:"rejected"}],g=function(){var e,t,n=(0,i.useRouter)(),o=(0,f.$G)().t,b=n.query.withdrawId,g=(0,p.rX)({id:b}),h=g.withdraw,y=g.error,j=g.isLoading;(0,m.useEffect)((function(){(null===h||void 0===h?void 0:h.status)&&N("status",null===v||void 0===v?void 0:v.find((function(e){return e.id===(null===h||void 0===h?void 0:h.status)})))}),[null===h||void 0===h?void 0:h.status]);var O,w=(0,c.cI)(),P=w.handleSubmit,S=w.control,N=w.setValue,E=w.formState.errors,k=(0,p.by)(),D=k.mutate,R=k.isLoading;return j?(0,r.jsx)(l.Z,{text:o("common:text-loading")}):y?(0,r.jsx)(a.Z,{message:y.message}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"mb-6 w-full text-xl font-semibold text-heading",children:o("common:text-withdrawal-info")}),(0,r.jsx)(x.Z,{className:"flex flex-col",children:(0,r.jsxs)("div",{className:"flex flex-col items-start md:flex-row",children:[(0,r.jsxs)("form",{onSubmit:P((function(e){var t=e.status;D({id:b,status:t.id})})),className:"mb-5 flex w-full items-start ms-auto md:order-2 md:mb-0 md:w-1/2 md:ps-3",children:[(0,r.jsxs)("div",{className:"z-20 w-full me-5",children:[(0,r.jsx)(u.Z,{name:"status",control:S,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},options:v,placeholder:o("form:input-placeholder-order-status"),rules:{required:"Status is required"}}),(0,r.jsx)(d.Z,{message:o(null===E||void 0===E||null===(e=E.status)||void 0===e?void 0:e.message)})]}),(0,r.jsxs)(s.Z,{loading:R,children:[(0,r.jsx)("span",{className:"hidden sm:block",children:o("form:button-label-change-status")}),(0,r.jsx)("span",{className:"block sm:hidden",children:o("form:form:button-label-change")})]})]}),(0,r.jsxs)("div",{className:"w-full md:order-1 md:w-1/2 md:pe-3",children:[(0,r.jsxs)("div",{className:"mb-2 flex items-center justify-start",children:[(0,r.jsxs)("div",{className:"flex w-4/12 flex-shrink-0 justify-between text-sm text-body me-5",children:[(0,r.jsx)("span",{children:o("common:text-amount")}),(0,r.jsx)("span",{children:":"})]}),(0,r.jsx)("div",{className:"flex w-full items-center rounded border border-gray-300 px-4 py-3 xl:w-5/12",children:(0,r.jsx)("span",{className:"font-semibold text-heading",children:null===h||void 0===h?void 0:h.amount})})]}),(0,r.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,r.jsxs)("div",{className:"flex w-4/12 flex-shrink-0 justify-between text-sm text-body me-5",children:[(0,r.jsx)("span",{children:o("common:text-payment-method")}),(0,r.jsx)("span",{children:":"})]}),(0,r.jsx)("span",{className:"w-full text-sm font-semibold text-heading",children:null!==(O=null===h||void 0===h?void 0:h.payment_method)&&void 0!==O?O:"N/A"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"flex w-4/12 flex-shrink-0 justify-between text-sm text-body me-5",children:[(0,r.jsx)("span",{children:o("common:text-status")}),(0,r.jsx)("span",{children:":"})]}),(0,r.jsx)("span",{className:"w-full text-sm font-semibold text-heading",children:null===(t=null===v||void 0===v?void 0:v.find((function(e){return e.id===(null===h||void 0===h?void 0:h.status)})))||void 0===t?void 0:t.name})]})]})]})}),(0,r.jsxs)("div",{className:"mt-5 grid grid-cols-1 gap-5 md:grid-cols-2",children:[(null===h||void 0===h?void 0:h.details)&&(0,r.jsxs)(x.Z,{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"mb-2 text-sm font-semibold text-heading",children:(0,r.jsxs)("span",{children:[o("common:text-details")," :"]})}),(0,r.jsx)("span",{className:"text-sm text-body",children:null===h||void 0===h?void 0:h.details})]}),(null===h||void 0===h?void 0:h.note)&&(0,r.jsxs)(x.Z,{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"mb-2 text-sm font-semibold text-heading",children:(0,r.jsxs)("span",{children:[o("common:text-note")," :"]})}),(0,r.jsx)("span",{className:"text-sm text-body",children:null===h||void 0===h?void 0:h.note})]})]})]})},h=!0;t.default=g,g.authenticate={permissions:o.M$},g.Layout=b.default},58079:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(85893);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=function(e){var t=e.iconList,n=e.iconName,l=i(e,["iconList","iconName"]),a=t[n];return a?(0,r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},l)):(0,r.jsxs)("p",{className:"text-sm text-red-500",children:[n," is not a valid icon"]})}},74902:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(30907);var o=n(59199),i=n(40181);function l(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[6351,3506,4798,7536,7502,1379,5842,2493,8123,9774,2888,179],(function(){return t=89154,e(e.s=t);var t}));var t=e.O();_N_E=t}]);