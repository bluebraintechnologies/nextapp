(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3636],{34089:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[shop]/products",function(){return n(42501)}])},69203:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(85893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e){return(0,r.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({viewBox:"-192 0 512 512",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e,{children:[(0,r.jsx)("path",{d:"m128 256c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"}),(0,r.jsx)("path",{d:"m128 64c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"}),(0,r.jsx)("path",{d:"m128 448c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"})]}))}},44134:function(e,t,n){"use strict";var r=n(85893),s=n(67294),o=n(11163),a=n(41626),l=n(6943),i=n(35279),u=n(46619),c=n(70300),d=n(40133);t.Z=function(e){var t=e.children,n=(0,c.$G)().t,f=(0,o.useRouter)(),m=f.query.shop,p=f.locale,h=(0,l.WA)().permissions,x=function(){return(0,r.jsx)(s.Fragment,{children:u.U.sidebarLinks.shop.map((function(e){var t=e.href,s=e.label,o=e.icon,a=e.permissions;return(0,l.Ft)(a,h)?(0,r.jsx)(i.Z,{href:t(null===m||void 0===m?void 0:m.toString()),label:n(s),icon:o},s):null}))})},g="ar"===p||"he"===p?"rtl":"ltr";return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen transition-colors duration-150 bg-gray-100",dir:g,children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(x,{})}),(0,r.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,r.jsx)("aside",{className:"fixed bottom-0 hidden h-full px-4 overflow-y-auto bg-white shadow xl:w-76 w-72 pt-22 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto lg:block",children:(0,r.jsx)("div",{className:"flex flex-col py-3 space-y-6",children:(0,r.jsx)(x,{})})}),(0,r.jsx)("main",{className:"w-full ltr:xl:pl-76 rtl:xl:pr-76 ltr:lg:pl-72 rtl:lg:pr-72 rtl:lg:pl-0",children:(0,r.jsx)("div",{className:"h-full p-5 md:p-8",children:t})})]})]})}},72950:function(e,t,n){"use strict";n.d(t,{bg:function(){return x},TC:function(){return v},mj:function(){return g},DZ:function(){return j},uL:function(){return y},D9:function(){return b}});var r=n(70300),s=n(90551),o=n(88767),a=n(17785),l=n(40782),i=n(14141);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function d(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var f=c({},(0,n(14511).h)(a.P.SHOPS),{get:function(e){var t=e.slug;return i.eN.get("".concat(a.P.SHOPS,"/").concat(t))},paginated:function(e){var t=e.name,n=d(e,["name"]);return i.eN.get(a.P.SHOPS,c({searchJoin:"and"},n,{search:i.eN.formatSearchParams({name:t})}))},approve:function(e){return i.eN.post(a.P.APPROVE_SHOP,e)},disapprove:function(e){return i.eN.post(a.P.DISAPPROVE_SHOP,e)}}),m=n(66889),p=n(11163),h=n(6943),x=function(){var e=(0,r.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(f.approve,{onSuccess:function(){l.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(a.P.SHOPS)}})},g=function(){var e=(0,r.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(f.disapprove,{onSuccess:function(){l.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(a.P.SHOPS)}})},v=function(){var e=(0,o.useQueryClient)(),t=(0,p.useRouter)();return(0,o.useMutation)(f.create,{onSuccess:function(){var e=(0,h.WA)().permissions;if((0,h.Ft)(h.M$,e))return t.push(s.Z.adminMyShops);t.push(s.Z.dashboard)},onSettled:function(){e.invalidateQueries(a.P.SHOPS)}})},b=function(){var e=(0,r.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(f.update,{onSuccess:function(){l.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(a.P.SHOPS)}})},j=function(e,t){var n=e.slug;return(0,o.useQuery)([a.P.SHOPS,{slug:n}],(function(){return f.get({slug:n})}),t)},y=function(e){var t,n=(0,o.useQuery)([a.P.SHOPS,e],(function(e){var t=e.queryKey,n=e.pageParam;return f.paginated(Object.assign({},t[1],n))}),{keepPreviousData:!0}),r=n.data,s=n.error,l=n.isLoading;return{shops:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:[],paginatorInfo:(0,m.Q)(r),error:s,loading:l}}},42501:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return _},default:function(){return Z}});var r=n(85893),s=n(66595),o=n(35637),a=n(6929),l=n(37018),i=n(35109),u=n(67294),c=n(70300),d=n(44134),f=n(11163),m=n(75937),p=n(6943),h=n(72950),x=n(93813),g=n(3620),v=n(57692),b=n(94184),j=n.n(b),y=n(47626),S=n(76222),P=n(96720),O=n(69203),w=n(14685),N=n(33206),_=!0;function Z(){var e=function(){U("EXPORT_IMPORT_PRODUCT",b)},t=(0,f.useRouter)().query.shop,n=(0,h.DZ)({slug:t}),d=n.data,p=n.isLoading,b=null===d||void 0===d?void 0:d.id,_=(0,c.$G)().t,Z=(0,u.useState)(""),k=Z[0],C=Z[1],E=(0,u.useState)(""),H=E[0],Q=E[1],D=(0,u.useState)(""),R=D[0],A=D[1],M=(0,u.useState)(1),T=M[0],F=M[1],I=(0,u.useState)("created_at"),L=I[0],$=I[1],G=(0,u.useState)(g.As.Desc),B=G[0],q=G[1],z=(0,u.useState)(!1),X=z[0],K=z[1],U=(0,P.SO)().openModal,V=(0,f.useRouter)().locale,W=(0,x.kN)({language:V,name:k,limit:20,shop_id:b,type:H,categories:R,orderBy:L,sortedBy:B,page:T},{enabled:Boolean(b)}),J=W.products,Y=W.paginatorInfo,ee=W.loading,te=W.error;return ee||p?(0,r.jsx)(i.Z,{text:_("common:text-loading")}):te?(0,r.jsx)(l.Z,{message:te.message}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Z,{className:"mb-8 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex w-full flex-col items-center md:flex-row",children:[(0,r.jsx)("div",{className:"mb-4 md:mb-0 md:w-1/4",children:(0,r.jsx)("h1",{className:"text-lg font-semibold text-heading",children:_("form:input-label-products")})}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-center md:w-3/4 md:flex-row",children:[(0,r.jsxs)("div",{className:"flex w-full items-center",children:[(0,r.jsx)(o.Z,{onSearch:function(e){var t=e.searchText;C(t)}}),V===N.D.defaultLanguage&&(0,r.jsxs)(m.Z,{href:"/".concat(t,"/products/create"),className:"h-12 ms-4 md:ms-6",children:[(0,r.jsxs)("span",{className:"hidden md:block",children:["+ ",_("form:button-label-add-product")]}),(0,r.jsxs)("span",{className:"md:hidden",children:["+ ",_("form:button-label-add")]})]})]}),(0,r.jsx)(w.Z,{onClick:e,className:"mt-5 w-full md:hidden",children:_("common:text-export-import")}),(0,r.jsxs)("button",{className:"mt-5 flex items-center whitespace-nowrap text-base font-semibold text-accent md:mt-0 md:ms-5",onClick:function(){K((function(e){return!e}))},children:[_("common:text-filter")," ",X?(0,r.jsx)(S.a,{className:"ms-2"}):(0,r.jsx)(y.K,{className:"ms-2"})]}),(0,r.jsx)("button",{onClick:e,className:"hidden h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-50 transition duration-300 ms-5 hover:bg-gray-100 md:flex",children:(0,r.jsx)(O.n,{className:"w-3.5 text-body"})})]})]}),(0,r.jsx)("div",{className:j()("flex w-full transition",{"visible h-auto":X,"invisible h-0":!X}),children:(0,r.jsx)("div",{className:"mt-5 flex w-full flex-col border-t border-gray-200 pt-5 md:mt-8 md:flex-row md:items-center md:pt-8",children:(0,r.jsx)(v.Z,{className:"w-full",onCategoryFilter:function(e){var t=e.slug;A(t)},onTypeFilter:function(e){var t=e.slug;Q(t)}})})})]}),(0,r.jsx)(a.Z,{products:J,paginatorInfo:Y,onPagination:function(e){F(e)},onOrder:$,onSort:q})]})}Z.authenticate={permissions:p.ce},Z.Layout=d.Z}},function(e){e.O(0,[6351,3506,4798,7536,7273,7502,20,9716,1379,5842,2493,8123,7740,7706,3150,8969,9774,2888,179],(function(){return t=34089,e(e.s=t);var t}));var t=e.O();_N_E=t}]);