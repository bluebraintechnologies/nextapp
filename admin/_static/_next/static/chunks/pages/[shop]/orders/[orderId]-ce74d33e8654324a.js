(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3837],{41595:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[shop]/orders/[orderId]",function(){return t(57133)}])},44134:function(e,s,t){"use strict";var l=t(85893),n=t(67294),r=t(11163),i=t(41626),o=t(6943),d=t(35279),a=t(46619),c=t(70300),u=t(40133);s.Z=function(e){var s=e.children,t=(0,c.$G)().t,m=(0,r.useRouter)(),x=m.query.shop,h=m.locale,v=(0,o.WA)().permissions,f=function(){return(0,l.jsx)(n.Fragment,{children:a.U.sidebarLinks.shop.map((function(e){var s=e.href,n=e.label,r=e.icon,i=e.permissions;return(0,o.Ft)(i,v)?(0,l.jsx)(d.Z,{href:s(null===x||void 0===x?void 0:x.toString()),label:t(n),icon:r},n):null}))})},p="ar"===h||"he"===h?"rtl":"ltr";return(0,l.jsxs)("div",{className:"flex flex-col min-h-screen transition-colors duration-150 bg-gray-100",dir:p,children:[(0,l.jsx)(i.Z,{}),(0,l.jsx)(u.Z,{children:(0,l.jsx)(f,{})}),(0,l.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,l.jsx)("aside",{className:"fixed bottom-0 hidden h-full px-4 overflow-y-auto bg-white shadow xl:w-76 w-72 pt-22 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto lg:block",children:(0,l.jsx)("div",{className:"flex flex-col py-3 space-y-6",children:(0,l.jsx)(f,{})})}),(0,l.jsx)("main",{className:"w-full ltr:xl:pl-76 rtl:xl:pr-76 ltr:lg:pl-72 rtl:lg:pr-72 rtl:lg:pl-0",children:(0,l.jsx)("div",{className:"h-full p-5 md:p-8",children:s})})]})]})}},57133:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return I},default:function(){return T}});var l=t(34051),n=t.n(l),r=t(85893),i=t(66595),o=t(25675),d=t(19662),a=t(11163),c=t(87536),u=t(14685),m=t(37018),x=t(46619),h=t(89439),v=t(71192),f=t(35109),p=t(99868),b=t(70300),j=t(79544),g=t(44134),w=t(51379),y=t(6943),N=t(33712),_=t(3620),Z=t(81789),k=t(18961),L=t(82573),P=t(2605);function E(e,s,t,l,n,r,i){try{var o=e[r](i),d=o.value}catch(a){return void t(a)}o.done?s(d):Promise.resolve(d).then(l,n)}function S(e){return function(){var s=this,t=arguments;return new Promise((function(l,n){var r=e.apply(s,t);function i(e){E(r,l,n,i,o,"next",e)}function o(e){E(r,l,n,i,o,"throw",e)}i(void 0)}))}}var I=!0;function T(){var e,s,t,l,g=(0,b.$G)().t,y=(0,a.useRouter)(),E=y.locale,I=y.query,T=(0,w.S)(),C=T.alignLeft,O=T.alignRight,F=T.isRTL,R=(0,N.Oc)(),q=R.mutate,A=R.isLoading,D=(0,N.OT)({id:I.orderId,language:E}),G=D.order,U=D.isLoading,V=D.error,X=(0,N.qD)({order_id:I.orderId,language:E,isRTL:F},{enabled:!1}).refetch,$=(0,c.cI)({defaultValues:{order_status:null!==(l=null===G||void 0===G?void 0:G.order_status)&&void 0!==l?l:""}}),z=$.handleSubmit,K=$.control,W=$.formState.errors;function B(){return(B=S(n().mark((function e(){var s,t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:(s=e.sent.data)&&((t=document.createElement("a")).href=s,t.setAttribute("download","order-invoice"),t.click());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H,J=(0,h.ZP)(G&&{amount:null===G||void 0===G?void 0:G.amount}).price,M=(0,h.ZP)(G&&{amount:null===G||void 0===G?void 0:G.paid_total}).price,Q=(0,h.ZP)(G&&{amount:null===G||void 0===G?void 0:G.discount}).price,Y=(0,h.ZP)(G&&{amount:null===G||void 0===G?void 0:G.delivery_fee}).price,ee=(0,h.ZP)(G&&{amount:null===G||void 0===G?void 0:G.sales_tax}).price;if(U)return(0,r.jsx)(f.Z,{text:g("common:text-loading")});if(V)return(0,r.jsx)(m.Z,{message:V.message});var se=[{dataIndex:"image",key:"image",width:70,render:function(e){return(0,r.jsx)(o.default,{src:null!==(H=null===e||void 0===e?void 0:e.thumbnail)&&void 0!==H?H:x.U.product.placeholder,alt:"alt text",layout:"fixed",width:50,height:50})}},{title:g("table:table-item-products"),dataIndex:"name",key:"name",align:C,render:function(e,s){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("span",{className:"mx-2",children:"x"}),(0,r.jsx)("span",{className:"font-semibold text-heading",children:s.pivot.order_quantity})]})}},{title:g("table:table-item-total"),dataIndex:"pivot",key:"pivot",align:O,render:function(e){var s=(0,h.ZP)({amount:Number(null===e||void 0===e?void 0:e.subtotal)}).price;return(0,r.jsx)("span",{children:s})}}];return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)("div",{className:"mb-6 -mr-5 -ml-5 -mt-5 md:-mr-8 md:-ml-8 md:-mt-8",children:(0,r.jsx)(k.Z,{order:G,wrapperClassName:"px-8 py-4"})}),(0,r.jsx)("div",{className:"flex w-full",children:(0,r.jsxs)(u.Z,{onClick:function(){return B.apply(this,arguments)},className:"mb-5 bg-blue-500 ltr:ml-auto rtl:mr-auto",children:[(0,r.jsx)(Z._,{className:"h-4 w-4 me-3"}),g("common:text-download")," ",g("common:text-invoice")]})}),(0,r.jsxs)("div",{className:"flex flex-col items-center lg:flex-row",children:[(0,r.jsxs)("h3",{className:"mb-8 w-full whitespace-nowrap text-center text-2xl font-semibold text-heading lg:mb-0 lg:w-1/3 lg:text-start",children:[g("form:input-label-order-id")," - ",null===G||void 0===G?void 0:G.tracking_number]}),(null===G||void 0===G?void 0:G.order_status)!==_.iF.FAILED&&(null===G||void 0===G?void 0:G.order_status)!==_.iF.CANCELLED&&(0,r.jsxs)("form",{onSubmit:z((function(e){var s=e.order_status;q({id:null===G||void 0===G?void 0:G.id,order_status:null===s||void 0===s?void 0:s.status})})),className:"flex w-full items-start ms-auto lg:w-2/4",children:[(0,r.jsxs)("div",{className:"z-20 w-full me-5",children:[(0,r.jsx)(j.Z,{name:"order_status",control:K,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.status},options:L.D.slice(0,6),placeholder:g("form:input-placeholder-order-status")}),(0,r.jsx)(p.Z,{message:g(null===W||void 0===W||null===(e=W.order_status)||void 0===e?void 0:e.message)})]}),(0,r.jsxs)(u.Z,{loading:A,children:[(0,r.jsx)("span",{className:"hidden sm:block",children:g("form:button-label-change-status")}),(0,r.jsx)("span",{className:"block sm:hidden",children:g("form:form:button-label-change")})]})]})]}),(0,r.jsx)("div",{className:"my-5 flex items-center justify-center lg:my-10",children:(0,r.jsx)(P.Z,{orderStatus:null===G||void 0===G?void 0:G.order_status,paymentStatus:null===G||void 0===G?void 0:G.payment_status})}),(0,r.jsxs)("div",{className:"mb-10",children:[G?(0,r.jsx)(d.i,{columns:se,emptyText:g("table:empty-table-data"),data:null===G||void 0===G?void 0:G.products,rowKey:"id",scroll:{x:300}}):(0,r.jsx)("span",{children:g("common:no-order-found")}),(0,r.jsxs)("div",{className:"flex w-full flex-col space-y-2 border-t-4 border-double border-border-200 px-4 py-4 ms-auto sm:w-1/2 md:w-1/3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,r.jsx)("span",{children:g("common:order-sub-total")}),(0,r.jsx)("span",{children:J})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,r.jsx)("span",{children:g("common:order-tax")}),(0,r.jsx)("span",{children:ee})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,r.jsx)("span",{children:g("common:order-delivery-fee")}),(0,r.jsx)("span",{children:Y})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-body",children:[(0,r.jsx)("span",{children:g("common:order-discount")}),(0,r.jsx)("span",{children:Q})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between font-semibold text-body",children:[(0,r.jsx)("span",{children:g("common:order-total")}),(0,r.jsx)("span",{children:M})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:[(0,r.jsxs)("div",{className:"mb-10 w-full sm:mb-0 sm:w-1/2 sm:pe-8",children:[(0,r.jsx)("h3",{className:"mb-3 border-b border-border-200 pb-2 font-semibold text-heading",children:g("common:billing-address")}),(0,r.jsxs)("div",{className:"flex flex-col items-start space-y-1 text-sm text-body",children:[(0,r.jsx)("span",{children:null===G||void 0===G||null===(s=G.customer)||void 0===s?void 0:s.name}),(null===G||void 0===G?void 0:G.billing_address)&&(0,r.jsx)("span",{children:(0,v.T)(G.billing_address)}),(null===G||void 0===G?void 0:G.customer_contact)&&(0,r.jsx)("span",{children:null===G||void 0===G?void 0:G.customer_contact})]})]}),(0,r.jsxs)("div",{className:"w-full sm:w-1/2 sm:ps-8",children:[(0,r.jsx)("h3",{className:"mb-3 border-b border-border-200 pb-2 font-semibold text-heading text-start sm:text-end",children:g("common:shipping-address")}),(0,r.jsxs)("div",{className:"flex flex-col items-start space-y-1 text-sm text-body text-start sm:items-end sm:text-end",children:[(0,r.jsx)("span",{children:null===G||void 0===G||null===(t=G.customer)||void 0===t?void 0:t.name}),(null===G||void 0===G?void 0:G.shipping_address)&&(0,r.jsx)("span",{children:(0,v.T)(G.shipping_address)}),(null===G||void 0===G?void 0:G.customer_contact)&&(0,r.jsx)("span",{children:null===G||void 0===G?void 0:G.customer_contact})]})]})]})]})})}T.authenticate={permissions:y.ce},T.Layout=g.Z}},function(e){e.O(0,[6351,3506,4798,7536,7273,7502,1379,5842,2493,8123,9253,9774,2888,179],(function(){return s=41595,e(e.s=s);var s}));var s=e.O();_N_E=s}]);