(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8065],{12199:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[shop]/reviews",function(){return t(28062)}])},44134:function(e,n,t){"use strict";var r=t(85893),u=t(67294),o=t(11163),s=t(41626),i=t(6943),a=t(35279),l=t(46619),c=t(70300),f=t(40133);n.Z=function(e){var n=e.children,t=(0,c.$G)().t,d=(0,o.useRouter)(),p=d.query.shop,m=d.locale,v=(0,i.WA)().permissions,h=function(){return(0,r.jsx)(u.Fragment,{children:l.U.sidebarLinks.shop.map((function(e){var n=e.href,u=e.label,o=e.icon,s=e.permissions;return(0,i.Ft)(s,v)?(0,r.jsx)(a.Z,{href:n(null===p||void 0===p?void 0:p.toString()),label:t(u),icon:o},u):null}))})},g="ar"===m||"he"===m?"rtl":"ltr";return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen transition-colors duration-150 bg-gray-100",dir:g,children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(h,{})}),(0,r.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,r.jsx)("aside",{className:"fixed bottom-0 hidden h-full px-4 overflow-y-auto bg-white shadow xl:w-76 w-72 pt-22 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto lg:block",children:(0,r.jsx)("div",{className:"flex flex-col py-3 space-y-6",children:(0,r.jsx)(h,{})})}),(0,r.jsx)("main",{className:"w-full ltr:xl:pl-76 rtl:xl:pr-76 ltr:lg:pl-72 rtl:lg:pr-72 rtl:lg:pl-0",children:(0,r.jsx)("div",{className:"h-full p-5 md:p-8",children:n})})]})]})}},72950:function(e,n,t){"use strict";t.d(n,{bg:function(){return h},TC:function(){return x},mj:function(){return g},DZ:function(){return P},uL:function(){return y},D9:function(){return S}});var r=t(70300),u=t(90551),o=t(88767),s=t(17785),i=t(40782),a=t(14141);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}function f(e,n){if(null==e)return{};var t,r,u=function(e,n){if(null==e)return{};var t,r,u={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(u[t]=e[t]);return u}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(u[t]=e[t])}return u}var d=c({},(0,t(14511).h)(s.P.SHOPS),{get:function(e){var n=e.slug;return a.eN.get("".concat(s.P.SHOPS,"/").concat(n))},paginated:function(e){var n=e.name,t=f(e,["name"]);return a.eN.get(s.P.SHOPS,c({searchJoin:"and"},t,{search:a.eN.formatSearchParams({name:n})}))},approve:function(e){return a.eN.post(s.P.APPROVE_SHOP,e)},disapprove:function(e){return a.eN.post(s.P.DISAPPROVE_SHOP,e)}}),p=t(66889),m=t(11163),v=t(6943),h=function(){var e=(0,r.$G)().t,n=(0,o.useQueryClient)();return(0,o.useMutation)(d.approve,{onSuccess:function(){i.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(s.P.SHOPS)}})},g=function(){var e=(0,r.$G)().t,n=(0,o.useQueryClient)();return(0,o.useMutation)(d.disapprove,{onSuccess:function(){i.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(s.P.SHOPS)}})},x=function(){var e=(0,o.useQueryClient)(),n=(0,m.useRouter)();return(0,o.useMutation)(d.create,{onSuccess:function(){var e=(0,v.WA)().permissions;if((0,v.Ft)(v.M$,e))return n.push(u.Z.adminMyShops);n.push(u.Z.dashboard)},onSettled:function(){e.invalidateQueries(s.P.SHOPS)}})},S=function(){var e=(0,r.$G)().t,n=(0,o.useQueryClient)();return(0,o.useMutation)(d.update,{onSuccess:function(){i.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(s.P.SHOPS)}})},P=function(e,n){var t=e.slug;return(0,o.useQuery)([s.P.SHOPS,{slug:t}],(function(){return d.get({slug:t})}),n)},y=function(e){var n,t=(0,o.useQuery)([s.P.SHOPS,e],(function(e){var n=e.queryKey,t=e.pageParam;return d.paginated(Object.assign({},n[1],t))}),{keepPreviousData:!0}),r=t.data,u=t.error,i=t.isLoading;return{shops:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:[],paginatorInfo:(0,p.Q)(r),error:u,loading:i}}},28062:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return h},default:function(){return g}});var r=t(85893),u=t(98266),o=t(66595),s=t(44134),i=t(67294),a=t(37018),l=t(35109),c=t(3620),f=t(70300),d=t(85332),p=t(6943),m=t(72950),v=t(11163),h=!0;function g(){var e=(0,i.useState)(1),n=e[0],t=e[1],s=(0,f.$G)().t,p=(0,i.useState)("created_at"),h=p[0],g=p[1],x=(0,i.useState)(c.As.Desc),S=x[0],P=x[1],y=(0,v.useRouter)().query.shop,b=(0,m.DZ)({slug:y}).data,O=null===b||void 0===b?void 0:b.id,j=(0,d._s)({shop_id:O,limit:10,page:n,orderBy:h,sortedBy:S},{enabled:Boolean(O)}),w=j.reviews,N=j.paginatorInfo,_=j.loading,Z=j.error;return _?(0,r.jsx)(l.Z,{text:s("common:text-loading")}):Z?(0,r.jsx)(a.Z,{message:Z.message}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{className:"mb-8 flex flex-col",children:(0,r.jsx)("div",{className:"flex w-full flex-col items-center md:flex-row",children:(0,r.jsx)("h1",{className:"text-xl font-semibold text-heading",children:s("form:input-label-reviews")})})}),(0,r.jsx)(u.Z,{reviews:w,paginatorInfo:N,onPagination:function(e){t(e)},onOrder:g,onSort:P})]})}g.authenticate={permissions:p.Zk},g.Layout=s.Z}},function(e){e.O(0,[6351,3506,4798,6682,7273,20,1379,5842,2493,8123,7740,9688,4277,9774,2888,179],(function(){return n=12199,e(e.s=n);var n}));var n=e.O();_N_E=n}]);