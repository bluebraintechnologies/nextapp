(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7395],{89337:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[shop]/staffs",function(){return n(50217)}])},66595:function(e,t,n){"use strict";var r=n(85893),o=n(94184),c=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.Z=function(e){var t=e.className,n=a(e,["className"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({className:c()("p-5 md:p-8 bg-light shadow rounded",t)},n))}},35279:function(e,t,n){"use strict";var r=n(85893),o=n(96872),c=n(58079),i=n(48123),a=n(78126);t.Z=function(e){var t=e.href,n=e.icon,u=e.label,s=(0,a.l8)().closeSidebar;return(0,r.jsxs)(o.Z,{href:t,className:"text-start flex w-full items-center text-base text-body-dark focus:text-accent",children:[(0,c.q)({iconList:i,iconName:n,className:"w-5 h-5 me-4"}),(0,r.jsx)("span",{onClick:function(){return s()},children:u})]})}},44134:function(e,t,n){"use strict";var r=n(85893),o=n(67294),c=n(11163),i=n(41626),a=n(6943),u=n(35279),s=n(46619),l=n(70300),f=n(40133);t.Z=function(e){var t=e.children,n=(0,l.$G)().t,d=(0,c.useRouter)(),p=d.query.shop,b=d.locale,m=(0,a.WA)().permissions,v=function(){return(0,r.jsx)(o.Fragment,{children:s.U.sidebarLinks.shop.map((function(e){var t=e.href,o=e.label,c=e.icon,i=e.permissions;return(0,a.Ft)(i,m)?(0,r.jsx)(u.Z,{href:t(null===p||void 0===p?void 0:p.toString()),label:n(o),icon:c},o):null}))})},y="ar"===b||"he"===b?"rtl":"ltr";return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen transition-colors duration-150 bg-gray-100",dir:y,children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(v,{})}),(0,r.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,r.jsx)("aside",{className:"fixed bottom-0 hidden h-full px-4 overflow-y-auto bg-white shadow xl:w-76 w-72 pt-22 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto lg:block",children:(0,r.jsx)("div",{className:"flex flex-col py-3 space-y-6",children:(0,r.jsx)(v,{})})}),(0,r.jsx)("main",{className:"w-full ltr:xl:pl-76 rtl:xl:pr-76 ltr:lg:pl-72 rtl:lg:pr-72 rtl:lg:pl-0",children:(0,r.jsx)("div",{className:"h-full p-5 md:p-8",children:t})})]})]})}},21873:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(85893),o=n(55891);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var a=function(e){var t=i({},e);return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20"},t,{children:(0,r.jsx)("path",{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z",fill:"currentColor",stroke:"currentColor"})}))};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var l=function(e){var t=s({},e);return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20"},t,{children:(0,r.jsx)("path",{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z",fill:"currentColor",stroke:"currentColor"})}))};n(89830);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){return(0,r.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({nextIcon:(0,r.jsx)(a,{}),prevIcon:(0,r.jsx)(l,{})},e))}},80182:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),o=n(94184),c=n.n(o);n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 123.959 123.958"},e,{children:(0,r.jsx)("path",{d:"M117.979 28.017h-112c-5.3 0-8 6.4-4.2 10.2l56 56c2.3 2.3 6.1 2.3 8.401 0l56-56c3.799-3.8 1.099-10.2-4.201-10.2z",fill:"currentColor"})}))};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 123.959 123.959"},e,{children:(0,r.jsx)("path",{d:"M66.18 29.742c-2.301-2.3-6.101-2.3-8.401 0l-56 56c-3.8 3.801-1.1 10.2 4.2 10.2h112c5.3 0 8-6.399 4.2-10.2l-55.999-56z",fill:"currentColor"})}))},l=function(e){var t=e.title,n=e.ascending,o=e.isActive,i=void 0===o||o;return(0,r.jsxs)("span",{className:"inline-flex items-center",children:[(0,r.jsx)("span",{children:t}),n?(0,r.jsx)(s,{width:"9",className:c()("ms-1.5 flex-shrink-0 text-gray-300",{"!text-heading":i})}):(0,r.jsx)(a,{width:"9",className:c()("ms-1.5 flex-shrink-0 text-gray-300",{"!text-heading":i})})]})}},72950:function(e,t,n){"use strict";n.d(t,{bg:function(){return v},TC:function(){return g},mj:function(){return y},DZ:function(){return h},uL:function(){return j},D9:function(){return O}});var r=n(70300),o=n(90551),c=n(88767),i=n(17785),a=n(40782),u=n(14141);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=l({},(0,n(14511).h)(i.P.SHOPS),{get:function(e){var t=e.slug;return u.eN.get("".concat(i.P.SHOPS,"/").concat(t))},paginated:function(e){var t=e.name,n=f(e,["name"]);return u.eN.get(i.P.SHOPS,l({searchJoin:"and"},n,{search:u.eN.formatSearchParams({name:t})}))},approve:function(e){return u.eN.post(i.P.APPROVE_SHOP,e)},disapprove:function(e){return u.eN.post(i.P.DISAPPROVE_SHOP,e)}}),p=n(66889),b=n(11163),m=n(6943),v=function(){var e=(0,r.$G)().t,t=(0,c.useQueryClient)();return(0,c.useMutation)(d.approve,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(i.P.SHOPS)}})},y=function(){var e=(0,r.$G)().t,t=(0,c.useQueryClient)();return(0,c.useMutation)(d.disapprove,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(i.P.SHOPS)}})},g=function(){var e=(0,c.useQueryClient)(),t=(0,b.useRouter)();return(0,c.useMutation)(d.create,{onSuccess:function(){var e=(0,m.WA)().permissions;if((0,m.Ft)(m.M$,e))return t.push(o.Z.adminMyShops);t.push(o.Z.dashboard)},onSettled:function(){e.invalidateQueries(i.P.SHOPS)}})},O=function(){var e=(0,r.$G)().t,t=(0,c.useQueryClient)();return(0,c.useMutation)(d.update,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(i.P.SHOPS)}})},h=function(e,t){var n=e.slug;return(0,c.useQuery)([i.P.SHOPS,{slug:n}],(function(){return d.get({slug:n})}),t)},j=function(e){var t,n=(0,c.useQuery)([i.P.SHOPS,e],(function(e){var t=e.queryKey,n=e.pageParam;return d.paginated(Object.assign({},t[1],n))}),{keepPreviousData:!0}),r=n.data,o=n.error,a=n.isLoading;return{shops:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:[],paginatorInfo:(0,p.Q)(r),error:o,loading:a}}},54605:function(e,t,n){"use strict";n.d(t,{PF:function(){return O},il:function(){return h},dP:function(){return g}});var r=n(88767),o=n(66889),c=n(17785),i=n(14141);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var s=function(e){var t=u({},e);return i.eN.get(c.P.STAFFS,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({searchJoin:"and"},t,{search:i.eN.formatSearchParams({})}))},l=function(e){return i.eN.post(c.P.ADD_STAFF,e)},f=function(e){var t=e.id;return i.eN.delete("".concat(c.P.REMOVE_STAFF,"/").concat(t))},d=n(11163),p=n(70300),b=n(40782),m=n(90551);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}var g=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,r.useQuery)([c.P.STAFFS,e],(function(e){var t=e.queryKey,n=e.pageParam;return s(Object.assign({},t[1],n))}),y({keepPreviousData:!0},n)),a=i.data,u=i.error,l=i.isLoading;return{staffs:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:[],paginatorInfo:(0,o.Q)(a),error:u,loading:l}},O=function(){var e=(0,r.useQueryClient)(),t=(0,d.useRouter)(),n=(0,p.$G)().t;return(0,r.useMutation)(l,{onSuccess:function(){var e;t.push("/".concat(null===t||void 0===t||null===(e=t.query)||void 0===e?void 0:e.shop).concat(m.Z.staff.list)),b.Am.success(n("common:successfully-created"))},onSettled:function(){e.invalidateQueries(c.P.STAFFS)}})},h=function(){var e=(0,r.useQueryClient)(),t=(0,p.$G)().t;return(0,r.useMutation)(f,{onSuccess:function(){b.Am.success(t("common:successfully-deleted"))},onSettled:function(){e.invalidateQueries(c.P.STAFFS)}})}},50217:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return x},default:function(){return w}});var r=n(85893),o=n(66595),c=n(75937),i=n(35109),a=n(70300),u=n(44134),s=n(11163),l=n(19662),f=n(54311),d=n(51379),p=n(21873),b=n(3620),m=n(67294),v=n(80182),y=function(e){var t=e.staffs,n=e.paginatorInfo,o=e.onPagination,c=e.onSort,i=e.onOrder,u=(0,a.$G)().t,s=(0,d.S)(),y=s.alignLeft,g=s.alignRight,O=(0,m.useState)({sort:b.As.Desc,column:null}),h=O[0],j=O[1],x=[{title:(0,r.jsx)(v.Z,{title:u("table:table-item-title"),ascending:h.sort===b.As.Asc&&"name"===h.column,isActive:"name"===h.column}),className:"cursor-pointer",dataIndex:"name",key:"name",align:y,onHeaderCell:function(){return e="name",{onClick:function(){c((function(e){return e===b.As.Desc?b.As.Asc:b.As.Desc})),i(e),j({sort:h.sort===b.As.Desc?b.As.Asc:b.As.Desc,column:e})}};var e}},{title:u("table:table-item-email"),dataIndex:"email",key:"email",align:y},{title:u("table:table-item-status"),dataIndex:"is_active",key:"is_active",align:"center",render:function(e){return u(e?"common:text-active":"common:text-inactive")}},{title:u("table:table-item-actions"),dataIndex:"id",key:"actions",align:g,render:function(e){return(0,r.jsx)(f.Z,{id:e,deleteModalView:"DELETE_STAFF"})}}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 overflow-hidden rounded shadow",children:(0,r.jsx)(l.i,{columns:x,emptyText:u("table:empty-table-data"),data:t,rowKey:"id",scroll:{x:800}})}),!!(null===n||void 0===n?void 0:n.total)&&(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsx)(p.Z,{total:n.total,current:n.currentPage,pageSize:n.perPage,onChange:o,showLessItems:!0})})]})},g=n(6943),O=n(37018),h=n(72950),j=n(54605),x=!0;function w(){var e=(0,s.useRouter)().query.shop,t=(0,a.$G)().t,n=(0,m.useState)(1),u=n[0],l=n[1],f=(0,m.useState)("created_at"),d=f[0],p=f[1],v=(0,m.useState)(b.As.Desc),g=v[0],x=v[1],w=(0,h.DZ)({slug:e}),P=w.data,S=w.isLoading,N=null===P||void 0===P?void 0:P.id,k=(0,j.dP)({shop_id:N,page:u,orderBy:d,sortedBy:g},{enabled:Boolean(N)}),A=k.staffs,D=k.paginatorInfo,E=k.loading,Z=k.error;return S||E?(0,r.jsx)(i.Z,{text:t("common:text-loading")}):Z?(0,r.jsx)(O.Z,{message:null===Z||void 0===Z?void 0:Z.message}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Z,{className:"mb-8 flex flex-row items-center justify-between",children:[(0,r.jsx)("div",{className:"md:w-1/4",children:(0,r.jsx)("h1",{className:"text-lg font-semibold text-heading",children:t("form:text-staff")})}),(0,r.jsx)("div",{className:"ms-auto flex w-3/4 items-center xl:w-2/4",children:(0,r.jsx)(c.Z,{href:"/".concat(e,"/staffs/create"),className:"ms-auto h-12",children:(0,r.jsxs)("span",{children:["+ ",t("form:button-label-add-staff")]})})})]}),(0,r.jsx)(y,{staffs:A,onPagination:function(e){l(e)},paginatorInfo:D,onOrder:p,onSort:x})]})}w.authenticate={permissions:g.Zk},w.Layout=u.Z},58079:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(85893);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=function(e){var t=e.iconList,n=e.iconName,i=c(e,["iconList","iconName"]),a=t[n];return a?(0,r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},i)):(0,r.jsxs)("p",{className:"text-sm text-red-500",children:[n," is not a valid icon"]})}}},function(e){e.O(0,[6351,3506,4798,7273,20,1379,5842,2493,8123,7740,9774,2888,179],(function(){return t=89337,e(e.s=t);var t}));var t=e.O();_N_E=t}]);