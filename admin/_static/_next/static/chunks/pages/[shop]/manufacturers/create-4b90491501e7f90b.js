(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1903],{23593:function(e,l,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[shop]/manufacturers/create",function(){return r(70774)}])},44134:function(e,l,r){"use strict";var i=r(85893),n=r(67294),o=r(11163),t=r(41626),a=r(6943),s=r(35279),u=r(46619),c=r(70300),d=r(40133);l.Z=function(e){var l=e.children,r=(0,c.$G)().t,m=(0,o.useRouter)(),f=m.query.shop,p=m.locale,v=(0,a.WA)().permissions,b=function(){return(0,i.jsx)(n.Fragment,{children:u.U.sidebarLinks.shop.map((function(e){var l=e.href,n=e.label,o=e.icon,t=e.permissions;return(0,a.Ft)(t,v)?(0,i.jsx)(s.Z,{href:l(null===f||void 0===f?void 0:f.toString()),label:r(n),icon:o},n):null}))})},h="ar"===p||"he"===p?"rtl":"ltr";return(0,i.jsxs)("div",{className:"flex flex-col min-h-screen transition-colors duration-150 bg-gray-100",dir:h,children:[(0,i.jsx)(t.Z,{}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(b,{})}),(0,i.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,i.jsx)("aside",{className:"fixed bottom-0 hidden h-full px-4 overflow-y-auto bg-white shadow xl:w-76 w-72 pt-22 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto lg:block",children:(0,i.jsx)("div",{className:"flex flex-col py-3 space-y-6",children:(0,i.jsx)(b,{})})}),(0,i.jsx)("main",{className:"w-full ltr:xl:pl-76 rtl:xl:pr-76 ltr:lg:pl-72 rtl:lg:pr-72 rtl:lg:pl-0",children:(0,i.jsx)("div",{className:"h-full p-5 md:p-8",children:l})})]})]})}},68376:function(e,l,r){"use strict";r.d(l,{Z:function(){return E}});var i=r(34051),n=r.n(i),o=r(85893),t=r(50381),a=r(87536),s=r(14685),u=r(57818),c=r(38039),d=r(8009),m=r(27856),f=r(66595),p=r(11163),v=r(70300),b=r(13480),h=r(95496),x=r(74231),g=x.Ry().shape({name:x.Z_().required("form:error-manufacturer-name-required"),type:x.Ry().nullable().required("form:error-type-required")}),j=r(58079),w=r(79544),y=r(13229),N=r(67138),Z=r(72950),_=r(14983);function k(e,l,r,i,n,o,t){try{var a=e[o](t),s=a.value}catch(u){return void r(u)}a.done?l(s):Promise.resolve(s).then(i,n)}function O(e,l,r){return l in e?Object.defineProperty(e,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[l]=r,e}function q(e){for(var l=1;l<arguments.length;l++){var r=null!=arguments[l]?arguments[l]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(l){O(e,l,r[l])}))}return e}var P=[{value:"FacebookIcon",label:"Facebook"},{value:"InstagramIcon",label:"Instagram"},{value:"TwitterIcon",label:"Twitter"},{value:"YouTubeIcon",label:"Youtube"}].map((function(e){return e.label=(0,o.jsxs)("div",{className:"flex items-center text-body space-s-4",children:[(0,o.jsx)("span",{className:"flex h-4 w-4 items-center justify-center",children:(0,j.q)({iconList:y,iconName:e.value,className:"w-4 h-4"})}),(0,o.jsx)("span",{children:e.label})]}),e}));function E(e){var l,r,i,x,j=e.initialValues,y=(0,p.useRouter)(),O=(0,v.$G)().t,E=y.query.shop,S=(0,Z.DZ)({slug:E},{enabled:!!y.query.shop}).data,I=null===S||void 0===S?void 0:S.id,C="translate"===(null===y||void 0===y||null===(l=y.query)||void 0===l?void 0:l.action),F=(0,a.cI)(q({shouldUnregister:!0,resolver:(0,h.X)(g)},Boolean(j)&&{defaultValues:q({},j,{socials:(null===j||void 0===j?void 0:j.socials)?null===j||void 0===j?void 0:j.socials.map((function(e){return{icon:null===P||void 0===P?void 0:P.find((function(l){return(null===l||void 0===l?void 0:l.value)===(null===e||void 0===e?void 0:e.icon)})),url:null===e||void 0===e?void 0:e.url}})):[]},C&&{type:null})})),L=F.register,T=F.handleSubmit,R=F.control,V=F.setError,D=F.formState.errors,G=(0,_.M5)(),X=G.mutate,$=G.isLoading,U=(0,_.pN)(),Y=U.mutate,A=U.isLoading,B=(0,a.Dq)({control:R,name:"socials"}),M=B.fields,W=B.append,z=B.remove,H=function(){var e,l=(e=n().mark((function e(l){var r,i,o,t,a,s,u,c,m,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.name,i=l.description,o=l.is_approved,t=l.website,a=l.type,s=l.socials,u=l.image,c=l.cover_image,m={language:y.locale,name:r,description:i,is_approved:o,website:t,socials:s?null===s||void 0===s?void 0:s.map((function(e){var l;return{icon:null===e||void 0===e||null===(l=e.icon)||void 0===l?void 0:l.value,url:null===e||void 0===e?void 0:e.url}})):[],image:{thumbnail:null===u||void 0===u?void 0:u.thumbnail,original:null===u||void 0===u?void 0:u.original,id:null===u||void 0===u?void 0:u.id},cover_image:{thumbnail:null===c||void 0===c?void 0:c.thumbnail,original:null===c||void 0===c?void 0:c.original,id:null===c||void 0===c?void 0:c.id},type_id:null===a||void 0===a?void 0:a.id};try{j&&j.translated_languages.includes(y.locale)?Y(q({},m,{id:j.id,shop_id:I})):X(q({},m,{shop_id:I},(null===j||void 0===j?void 0:j.slug)&&{slug:j.slug}))}catch(n){f=(0,d.e)(n),Object.keys(null===f||void 0===f?void 0:f.validation).forEach((function(e){V(e.split(".")[1],{type:"manual",message:null===f||void 0===f?void 0:f.validation[e][0]})}))}case 3:case"end":return e.stop()}}),e)})),function(){var l=this,r=arguments;return new Promise((function(i,n){var o=e.apply(l,r);function t(e){k(o,i,n,t,a,"next",e)}function a(e){k(o,i,n,t,a,"throw",e)}t(void 0)}))});return function(e){return l.apply(this,arguments)}}();return(0,o.jsxs)("form",{onSubmit:T(H),children:[(0,o.jsxs)("div",{className:"my-5 flex flex-wrap border-b border-dashed border-border-base pb-8 sm:my-8",children:[(0,o.jsx)(m.Z,{title:O("form:input-label-logo"),details:O("form:manufacturer-image-helper-text"),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5"}),(0,o.jsx)(f.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:(0,o.jsx)(b.Z,{name:"image",control:R,multiple:!1})})]}),(0,o.jsxs)("div",{className:"my-5 flex flex-wrap border-b border-dashed border-border-base pb-8 sm:my-8",children:[(0,o.jsx)(m.Z,{title:O("form:input-label-cover-image"),details:O("form:manufacturer-cover-image-helper-text"),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5"}),(0,o.jsx)(f.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:(0,o.jsx)(b.Z,{name:"cover_image",control:R,multiple:!1})})]}),(0,o.jsxs)("div",{className:"my-5 flex flex-wrap sm:my-8",children:[(0,o.jsx)(m.Z,{title:O("form:input-label-description"),details:"".concat(O(j?"form:item-description-edit":"form:item-description-add")," ").concat(O("form:manufacturer-form-description-details")),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5 "}),(0,o.jsxs)(f.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:[(0,o.jsx)(t.Z,q({label:O("form:input-label-name")},L("name"),{error:O(null===(r=D.name)||void 0===r?void 0:r.message),variant:"outline",className:"mb-5"})),(0,o.jsx)(t.Z,q({label:O("form:input-label-website")},L("website"),{error:O(null===(i=D.website)||void 0===i?void 0:i.message),variant:"outline",className:"mb-5"})),(0,o.jsx)(u.Z,q({label:O("form:input-label-description")},L("description"),{variant:"outline",className:"mb-5"})),(0,o.jsx)(N.Z,{control:R,error:O(null===D||void 0===D||null===(x=D.type)||void 0===x?void 0:x.message)}),(0,o.jsx)("div",{children:M.map((function(e,l){return(0,o.jsx)("div",{className:"border-b border-dashed border-border-200 py-5 first:mt-5 first:border-t last:border-b-0 md:py-8 md:first:mt-10",children:(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-5",children:[(0,o.jsxs)("div",{className:"sm:col-span-2",children:[(0,o.jsx)(c.Z,{children:O("form:input-label-select-platform")}),(0,o.jsx)(w.Z,{name:"socials.".concat(l,".icon"),control:R,options:P,isClearable:!0,defaultValue:null===e||void 0===e?void 0:e.icon})]}),(0,o.jsx)(t.Z,q({className:"sm:col-span-2",label:O("form:input-label-social-url"),variant:"outline"},L("socials.".concat(l,".url")),{defaultValue:e.url})),(0,o.jsx)("button",{onClick:function(){z(l)},type:"button",className:"text-sm text-red-500 transition-colors duration-200 hover:text-red-700 focus:outline-none sm:col-span-1 sm:mt-4",children:O("form:button-label-remove")})]})},e.id)}))}),(0,o.jsx)(s.Z,{type:"button",onClick:function(){return W({icon:"",url:""})},className:"w-full sm:w-auto",children:O("form:button-label-add-social")})]})]}),(0,o.jsxs)("div",{className:"mb-4 text-end",children:[j&&(0,o.jsx)(s.Z,{variant:"outline",onClick:y.back,className:"me-4",type:"button",children:O("form:button-label-back")}),(0,o.jsx)(s.Z,{loading:A||$,children:O(j?"form:button-label-update-manufacturer-publication":"form:button-label-add-manufacturer-publication")})]})]})}},70774:function(e,l,r){"use strict";r.r(l),r.d(l,{__N_SSP:function(){return s},default:function(){return u}});var i=r(85893),n=r(68376),o=r(70300),t=r(44134),a=r(6943),s=!0;function u(){var e=(0,o.$G)().t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flex border-b border-dashed border-border-base py-5 sm:py-8",children:(0,i.jsx)("h1",{className:"text-lg font-semibold text-heading",children:e("form:form-title-create-manufacturer")})}),(0,i.jsx)(n.Z,{})]})}u.authenticate={permissions:a.ce},u.Layout=t.Z}},function(e){e.O(0,[6351,3506,4798,7536,6682,571,7487,3978,7502,2512,1379,5842,2493,8123,6369,4940,9071,9774,2888,179],(function(){return l=23593,e(e.s=l);var l}));var l=e.O();_N_E=l}]);