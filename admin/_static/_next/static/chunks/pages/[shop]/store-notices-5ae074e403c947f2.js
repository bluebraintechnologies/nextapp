(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4789],{29843:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[shop]/store-notices",function(){return n(81863)}])},44134:function(e,t,n){"use strict";var r=n(85893),s=n(67294),o=n(11163),u=n(41626),a=n(6943),i=n(35279),l=n(46619),c=n(70300),d=n(40133);t.Z=function(e){var t=e.children,n=(0,c.$G)().t,f=(0,o.useRouter)(),m=f.query.shop,p=f.locale,h=(0,a.WA)().permissions,x=function(){return(0,r.jsx)(s.Fragment,{children:l.U.sidebarLinks.shop.map((function(e){var t=e.href,s=e.label,o=e.icon,u=e.permissions;return(0,a.Ft)(u,h)?(0,r.jsx)(i.Z,{href:t(null===m||void 0===m?void 0:m.toString()),label:n(s),icon:o},s):null}))})},g="ar"===p||"he"===p?"rtl":"ltr";return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen transition-colors duration-150 bg-gray-100",dir:g,children:[(0,r.jsx)(u.Z,{}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(x,{})}),(0,r.jsxs)("div",{className:"flex flex-1 pt-20",children:[(0,r.jsx)("aside",{className:"fixed bottom-0 hidden h-full px-4 overflow-y-auto bg-white shadow xl:w-76 w-72 pt-22 ltr:left-0 ltr:right-auto rtl:right-0 rtl:left-auto lg:block",children:(0,r.jsx)("div",{className:"flex flex-col py-3 space-y-6",children:(0,r.jsx)(x,{})})}),(0,r.jsx)("main",{className:"w-full ltr:xl:pl-76 rtl:xl:pr-76 ltr:lg:pl-72 rtl:lg:pr-72 rtl:lg:pl-0",children:(0,r.jsx)("div",{className:"h-full p-5 md:p-8",children:t})})]})]})}},72950:function(e,t,n){"use strict";n.d(t,{bg:function(){return x},TC:function(){return v},mj:function(){return g},DZ:function(){return b},uL:function(){return P},D9:function(){return S}});var r=n(70300),s=n(90551),o=n(88767),u=n(17785),a=n(40782),i=n(14141);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function d(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var f=c({},(0,n(14511).h)(u.P.SHOPS),{get:function(e){var t=e.slug;return i.eN.get("".concat(u.P.SHOPS,"/").concat(t))},paginated:function(e){var t=e.name,n=d(e,["name"]);return i.eN.get(u.P.SHOPS,c({searchJoin:"and"},n,{search:i.eN.formatSearchParams({name:t})}))},approve:function(e){return i.eN.post(u.P.APPROVE_SHOP,e)},disapprove:function(e){return i.eN.post(u.P.DISAPPROVE_SHOP,e)}}),m=n(66889),p=n(11163),h=n(6943),x=function(){var e=(0,r.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(f.approve,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(u.P.SHOPS)}})},g=function(){var e=(0,r.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(f.disapprove,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(u.P.SHOPS)}})},v=function(){var e=(0,o.useQueryClient)(),t=(0,p.useRouter)();return(0,o.useMutation)(f.create,{onSuccess:function(){var e=(0,h.WA)().permissions;if((0,h.Ft)(h.M$,e))return t.push(s.Z.adminMyShops);t.push(s.Z.dashboard)},onSettled:function(){e.invalidateQueries(u.P.SHOPS)}})},S=function(){var e=(0,r.$G)().t,t=(0,o.useQueryClient)();return(0,o.useMutation)(f.update,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(u.P.SHOPS)}})},b=function(e,t){var n=e.slug;return(0,o.useQuery)([u.P.SHOPS,{slug:n}],(function(){return f.get({slug:n})}),t)},P=function(e){var t,n=(0,o.useQuery)([u.P.SHOPS,e],(function(e){var t=e.queryKey,n=e.pageParam;return f.paginated(Object.assign({},t[1],n))}),{keepPreviousData:!0}),r=n.data,s=n.error,a=n.isLoading;return{shops:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:[],paginatorInfo:(0,m.Q)(r),error:s,loading:a}}},81863:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return S},default:function(){return b}});var r=n(85893),s=n(66595),o=n(44134),u=n(67294),a=n(35637),i=n(37018),l=n(35109),c=n(75937),d=n(3620),f=n(70300),m=n(6943),p=n(11163),h=n(72950),x=n(86221),g=n(8939),v=n(33206),S=!0;function b(){var e=(0,f.$G)().t,t=(0,u.useState)(1),n=t[0],o=t[1],m=(0,p.useRouter)().locale,S=(0,u.useState)(""),b=S[0],P=S[1],y=(0,u.useState)("created_at"),j=y[0],O=y[1],w=(0,u.useState)(d.As.Desc),N=w[0],_=w[1],Z=(0,p.useRouter)().query.shop,k=(0,h.DZ)({slug:Z}).data,H=null===k||void 0===k?void 0:k.id,Q=(0,x.Y4)({limit:15,shop_id:H,notice:b,page:n,orderBy:j,sortedBy:N}),E=Q.storeNotices,A=Q.paginatorInfo,D=Q.loading,C=Q.error;return D?(0,r.jsx)(l.Z,{text:e("common:text-loading")}):C?(0,r.jsx)(i.Z,{message:C.message}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Z,{className:"flex flex-col items-center mb-8 md:flex-row",children:[(0,r.jsx)("div",{className:"mb-4 md:mb-0 md:w-1/4",children:(0,r.jsx)("h1",{className:"text-xl font-semibold text-heading",children:e("form:input-label-store-notices")})}),(0,r.jsxs)("div",{className:"flex flex-col items-center w-full space-y-4 ms-auto md:w-2/3 md:flex-row md:space-y-0 xl:w-3/4 2xl:w-1/2",children:[(0,r.jsx)(a.Z,{onSearch:function(e){var t=e.searchText;P(t),o(1)}}),m===v.D.defaultLanguage&&(0,r.jsxs)(c.Z,{href:"/".concat(Z,"/store-notices/create"),className:"w-full h-12 md:w-auto md:ms-6",children:[(0,r.jsxs)("span",{className:"hidden xl:block",children:["+ ",e("form:button-label-add-store-notice")]}),(0,r.jsxs)("span",{className:"xl:hidden",children:["+ ",e("form:button-label-add")]})]})]})]}),(0,r.jsx)(g.Z,{storeNotices:E,paginatorInfo:A,onPagination:function(e){o(e)},onOrder:O,onSort:_})]})}b.authenticate={permissions:m.Zk},b.Layout=o.Z}},function(e){e.O(0,[6351,3506,4798,7536,7273,20,9716,659,1379,5842,2493,8123,7740,7706,919,9774,2888,179],(function(){return t=29843,e(e.s=t);var t}));var t=e.O();_N_E=t}]);