"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5688],{6774:function(e,n,t){t.d(n,{Z:function(){return R}});var a=t(34051),l=t.n(a),r=t(85893),o=t(50381),i=t(87536),u=t(14685),s=t(57818),c=t(38039),d=t(66595),f=t(27856),b=t(64813),m=t(58079),v=t(11163),p=t(99868),g=t(67294),y=[{value:"Accessories",label:"Accessories"},{value:"FruitsVegetable",label:"Fruits and Vegetable"},{value:"MeatFish",label:"Meat and Fish"},{value:"Purse",label:"Purse"},{value:"HandBags",label:"Hand Bags"},{value:"ShoulderBags",label:"Shoulder Bags"},{value:"Wallet",label:"Wallet"},{value:"LaptopBags",label:"Laptop Bags"},{value:"WomenDress",label:"Women Dress"},{value:"OuterWear",label:"Outer Wear"},{value:"Pants",label:"Pants"},{value:"Tops",label:"Tops"},{value:"Shirts",label:"Shirts"},{value:"Skirts",label:"Skirts"},{value:"Face",label:"Face"},{value:"Eyes",label:"Eyes"},{value:"Lips",label:"Lips"},{value:"Snacks",label:"Snacks"},{value:"PetCare",label:"PetCare"},{value:"HomeCleaning",label:"Home Cleaning"},{value:"Dairy",label:"Dairy"},{value:"Cooking",label:"Cooking"},{value:"Breakfast",label:"Breakfast"},{value:"Beverage",label:"Beverage"},{value:"BeautyHealth",label:"Beauty Health"},{value:"ShavingNeeds",label:"Shaving Needs"},{value:"OralCare",label:"Oral Care"},{value:"FacialCare",label:"Facial Care"},{value:"Deodorant",label:"Deodorant"},{value:"BathOil",label:"Bath Oil"},{value:"Chair",label:"Chair"},{value:"Bed",label:"Bed"},{value:"Bookshelf",label:"Bookshelf"},{value:"CenterTable",label:"Center Table"},{value:"DressingTable",label:"Dressing Table"},{value:"ReadingTable",label:"Reading Table"},{value:"Sofa",label:"Sofa"},{value:"RelaxChair",label:"Relax Chair"},{value:"Storage",label:"Storage"},{value:"Tools",label:"Tools"},{value:"Table",label:"Table"}],h=t(70300),O=t(13480),j=t(79544),x=t(95496),w=t(74231),S=w.Ry().shape({name:w.Z_().required("form:error-name-required"),type:w.Ry().nullable().required("form:error-type-required")}),P=t(67219),C=t(77305);function E(e,n,t,a,l,r,o){try{var i=e[r](o),u=i.value}catch(s){return void t(s)}i.done?n(u):Promise.resolve(u).then(a,l)}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){N(e,n,t[n])}))}return e}var Z=y.map((function(e){return e.label=(0,r.jsxs)("div",{className:"flex items-center space-s-5",children:[(0,r.jsx)("span",{className:"flex h-5 w-5 items-center justify-center",children:(0,m.q)({iconList:b,iconName:e.value,className:"max-h-full max-w-full"})}),(0,r.jsx)("span",{children:e.label})]}),e}));function L(e){var n,t=e.control,a=e.errors,l=(0,v.useRouter)().locale,o=(0,h.$G)().t,i=(0,C.qs)({language:l}),u=i.types,s=i.loading;return(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)(c.Z,{children:o("form:input-label-types")}),(0,r.jsx)(j.Z,{name:"type",control:t,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.slug},options:u,isLoading:s}),(0,r.jsx)(p.Z,{message:o(null===(n=a.type)||void 0===n?void 0:n.message)})]})}function T(e){var n=e.control,t=e.setValue,a=(0,v.useRouter)().locale,l=(0,h.$G)().t,o=(0,i.qo)({control:n,name:"type"}),u=(0,i.cl)({control:n}).dirtyFields;(0,g.useEffect)((function(){(null===o||void 0===o?void 0:o.slug)&&(null===u||void 0===u?void 0:u.type)&&t("parent",[])}),[null===o||void 0===o?void 0:o.slug]);var s=(0,P.Ei)({limit:999,type:null===o||void 0===o?void 0:o.slug,language:a}),d=s.categories,f=s.loading;return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{children:l("form:input-label-parent-category")}),(0,r.jsx)(j.Z,{name:"parent",control:n,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},options:d,isClearable:!0,isLoading:f})]})}var B={image:[],name:"",details:"",parent:"",icon:"",type:""};function R(e){var n,t,a=e.initialValues,b=(0,v.useRouter)(),m=(0,h.$G)().t,p="translate"===(null===b||void 0===b||null===(n=b.query)||void 0===n?void 0:n.action),g=(0,i.cI)({defaultValues:a?k({},a,{icon:(null===a||void 0===a?void 0:a.icon)?y.find((function(e){return e.value===(null===a||void 0===a?void 0:a.icon)})):""},p&&{type:null}):B,resolver:(0,x.X)(S)}),w=g.register,C=g.handleSubmit,N=g.control,R=g.setValue,D=g.formState.errors,I=(0,P.m7)(),A=I.mutate,G=I.isLoading,V=(0,P.pi)(),q=V.mutate,Q=V.isLoading,F=function(){var e,n=(e=l().mark((function e(n){var t,r,o,i,u,s,c,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d={language:b.locale,name:n.name,details:n.details,image:{thumbnail:null===n||void 0===n||null===(t=n.image)||void 0===t?void 0:t.thumbnail,original:null===n||void 0===n||null===(r=n.image)||void 0===r?void 0:r.original,id:null===n||void 0===n||null===(o=n.image)||void 0===o?void 0:o.id},icon:(null===(i=n.icon)||void 0===i?void 0:i.value)||"",parent:null!==(c=null===(u=n.parent)||void 0===u?void 0:u.id)&&void 0!==c?c:null,type_id:null===(s=n.type)||void 0===s?void 0:s.id},a&&a.translated_languages.includes(b.locale)?q(k({},d,{id:a.id})):A(k({},d,(null===a||void 0===a?void 0:a.slug)&&{slug:a.slug}));case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(a,l){var r=e.apply(n,t);function o(e){E(r,a,l,o,i,"next",e)}function i(e){E(r,a,l,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,r.jsxs)("form",{onSubmit:C(F),children:[(0,r.jsxs)("div",{className:"my-5 flex flex-wrap border-b border-dashed border-border-base pb-8 sm:my-8",children:[(0,r.jsx)(f.Z,{title:m("form:input-label-image"),details:m("form:category-image-helper-text"),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5"}),(0,r.jsx)(d.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:(0,r.jsx)(O.Z,{name:"image",control:N,multiple:!1})})]}),(0,r.jsxs)("div",{className:"my-5 flex flex-wrap sm:my-8",children:[(0,r.jsx)(f.Z,{title:m("form:input-label-description"),details:"".concat(m(a?"form:item-description-edit":"form:item-description-add")," ").concat(m("form:category-description-helper-text")),className:"w-full px-0 pb-5 sm:w-4/12 sm:py-8 sm:pe-4 md:w-1/3 md:pe-5 "}),(0,r.jsxs)(d.Z,{className:"w-full sm:w-8/12 md:w-2/3",children:[(0,r.jsx)(o.Z,k({label:m("form:input-label-name")},w("name"),{error:m(null===(t=D.name)||void 0===t?void 0:t.message),variant:"outline",className:"mb-5"})),(0,r.jsx)(s.Z,k({label:m("form:input-label-details")},w("details"),{variant:"outline",className:"mb-5"})),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)(c.Z,{children:m("form:input-label-select-icon")}),(0,r.jsx)(j.Z,{name:"icon",control:N,options:Z,isClearable:!0})]}),(0,r.jsx)(L,{control:N,errors:D}),(0,r.jsx)(T,{control:N,setValue:R})]})]}),(0,r.jsxs)("div",{className:"mb-4 text-end",children:[a&&(0,r.jsx)(u.Z,{variant:"outline",onClick:b.back,className:"me-4",type:"button",children:m("form:button-label-back")}),(0,r.jsx)(u.Z,{loading:G||Q,children:m(a?"form:button-label-update-category":"form:button-label-add-category")})]})]})}},35279:function(e,n,t){var a=t(85893),l=t(96872),r=t(58079),o=t(48123),i=t(78126);n.Z=function(e){var n=e.href,t=e.icon,u=e.label,s=(0,i.l8)().closeSidebar;return(0,a.jsxs)(l.Z,{href:n,className:"text-start flex w-full items-center text-base text-body-dark focus:text-accent",children:[(0,r.q)({iconList:o,iconName:t,className:"w-5 h-5 me-4"}),(0,a.jsx)("span",{onClick:function(){return s()},children:u})]})}},99868:function(e,n,t){var a=t(85893);n.Z=function(e){var n=e.message;return(0,a.jsx)("p",{className:"my-2 text-xs text-start text-red-500",children:n})}},79544:function(e,n,t){var a=t(85893),l=t(25380),r=t(87536);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){o(e,n,t[n])}))}return e}function u(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}n.Z=function(e){var n=e.control,t=e.options,o=e.name,s=e.rules,c=e.getOptionLabel,d=e.getOptionValue,f=e.disabled,b=e.isMulti,m=e.isClearable,v=e.isLoading,p=u(e,["control","options","name","rules","getOptionLabel","getOptionValue","disabled","isMulti","isClearable","isLoading"]);return(0,a.jsx)(r.Qr,i({control:n,name:o,rules:s},p,{render:function(e){var n=e.field;return(0,a.jsx)(l.Z,i({},n,{getOptionLabel:c,getOptionValue:d,isMulti:b,isClearable:m,isLoading:v,options:t,isDisabled:f}))}}))}},67219:function(e,n,t){t.d(n,{Ei:function(){return j},Im:function(){return O},m7:function(){return g},l8:function(){return y},pi:function(){return h}});var a=t(11163),l=t(88767),r=t(40782),o=t(70300),i=t(90551),u=t(17785),s=t(66889),c=t(14511),d=t(14141);function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){f(e,n,t[n])}))}return e}function m(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var v=b({},(0,c.h)(u.P.CATEGORIES),{paginated:function(e){var n=e.type,t=e.name,a=m(e,["type","name"]);return d.eN.get(u.P.CATEGORIES,b({searchJoin:"and"},a,{search:d.eN.formatSearchParams({type:n,name:t})}))}}),p=t(33206),g=function(){var e=(0,l.useQueryClient)(),n=(0,o.$G)().t;return(0,l.useMutation)(v.create,{onSuccess:function(){a.default.push(i.Z.category.list,void 0,{locale:p.D.defaultLanguage}),r.Am.success(n("common:successfully-created"))},onSettled:function(){e.invalidateQueries(u.P.CATEGORIES)}})},y=function(){var e=(0,l.useQueryClient)(),n=(0,o.$G)().t;return(0,l.useMutation)(v.delete,{onSuccess:function(){r.Am.success(n("common:successfully-deleted"))},onSettled:function(){e.invalidateQueries(u.P.CATEGORIES)}})},h=function(){var e=(0,o.$G)().t,n=(0,l.useQueryClient)();return(0,l.useMutation)(v.update,{onSuccess:function(){r.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(u.P.CATEGORIES)}})},O=function(e){var n=e.slug,t=e.language,a=(0,l.useQuery)([u.P.CATEGORIES,{slug:n,language:t}],(function(){return v.get({slug:n,language:t})}));return{category:a.data,error:a.error,isLoading:a.isLoading}},j=function(e){var n,t=(0,l.useQuery)([u.P.CATEGORIES,e],(function(e){var n=e.queryKey,t=e.pageParam;return v.paginated(Object.assign({},n[1],t))}),{keepPreviousData:!0}),a=t.data,r=t.error,o=t.isLoading;return{categories:null!==(n=null===a||void 0===a?void 0:a.data)&&void 0!==n?n:[],paginatorInfo:(0,s.Q)(a),error:r,loading:o}}},58079:function(e,n,t){t.d(n,{q:function(){return o}});var a=t(85893);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var o=function(e){var n=e.iconList,t=e.iconName,o=r(e,["iconList","iconName"]),i=n[t];return i?(0,a.jsx)(i,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){l(e,n,t[n])}))}return e}({},o)):(0,a.jsxs)("p",{className:"text-sm text-red-500",children:[t," is not a valid icon"]})}},74902:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(30907);var l=t(59199),r=t(40181);function o(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||(0,l.Z)(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);