"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5498],{66595:function(e,n,t){var r=t(85893),l=t(94184),o=t.n(l);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}n.Z=function(e){var n=e.className,t=a(e,["className"]);return(0,r.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({className:o()("p-5 md:p-8 bg-light shadow rounded",n)},t))}},47626:function(e,n,t){t.d(n,{K:function(){return i}});var r=t(85893);t(67294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=function(e){var n=e.color,t=void 0===n?"currentColor":n,i=e.width,a=void 0===i?"12px":i,c=e.height,s=void 0===c?"12px":c,u=o(e,["color","width","height"]);return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:a,height:s,viewBox:"0 0 11.996 12"},u,{children:(0,r.jsx)("path",{"data-name":"Path 2462",d:"M18.276,12.1,12.7,6.524a.424.424,0,0,0-.6,0L6.524,12.1a.424.424,0,0,0,0,.6.424.424,0,0,0,.6,0l4.854-4.854V17.977a.423.423,0,1,0,.847,0V7.846L17.677,12.7a.424.424,0,0,0,.6,0A.434.434,0,0,0,18.276,12.1Z",transform:"translate(18.396 18.4) rotate(180)",fill:t})}))}},23605:function(e,n,t){t.d(n,{E:function(){return i}});var r=t(85893);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=function(e){var n=e.color,t=void 0===n?"currentColor":n,i=o(e,["color"]);return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",width:"1em",height:"1em",fill:"none"},i,{children:(0,r.jsx)("path",{fill:t,fillRule:"evenodd",d:"M20 40c11.046 0 20-8.954 20-20S31.046 0 20 0 0 8.954 0 20s8.954 20 20 20Zm1.116-28.32 7.204 7.204c.89.89.909 2.317.04 3.186l-6.29 6.29c-.869.869-2.295.85-3.186-.04l-7.204-7.204a2.298 2.298 0 0 1-.642-2.042l.994-5.297a2.177 2.177 0 0 1 1.745-1.744l5.297-.995a2.298 2.298 0 0 1 2.042.642Zm-6.123 5.672a1.668 1.668 0 1 0 2.359-2.36 1.668 1.668 0 0 0-2.36 2.36Z",clipRule:"evenodd"})}))}},32453:function(e,n,t){t.d(n,{W:function(){return o}});var r=t(85893);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=function(e){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e,{children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}))}},35498:function(e,n,t){t.d(n,{Z:function(){return mn}});var r=t(85893),l=t(70300),o=t(50381),i=t(32453),a=t(94184),c=t.n(a),s=t(43031);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}function f(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var v=function(e){var n=e.className,t=e.onChange,a=e.value,u=e.clear,v=f(e,["className","onChange","value","clear"]),h=(0,l.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",d({className:c()("relative h-14 border-b border-solid border-b-[#E5E7EB] sm:h-20",n)},v,{onSubmit:function(e){return e.preventDefault()},onChange:t,children:[(0,r.jsx)(o.Z,{type:"text",name:"search",variant:"solid",className:"h-full",inputClassName:"!bg-white !pr-11 !border-0 !h-full",showLabel:!1,onKeyUp:t,value:a,placeholder:h("text-input-search")}),(0,r.jsx)("div",{className:"absolute top-0 right-0 flex h-full w-12 select-none",children:a?(0,r.jsx)("button",{type:"button",onClick:u,className:"my-auto ml-auto mr-3 text-[#9CA3AF] outline-none focus:outline-none active:outline-none",children:(0,r.jsx)(s.T,{className:"h-4 w-4"})}):(0,r.jsx)(i.W,{height:15,width:16,className:"my-auto ml-auto mr-3 text-[#9CA3AF]"})})]}))})},h=t(66233),m=t(37018),b=t(35109),p=t(67294),g=t(41609),x=t.n(g),y=t(11163),j=t(25675),O=t(27484),w=t.n(O),P=t(84110),N=t.n(P),E=t(70178),S=t.n(E),R=t(29387),Z=t.n(R),D=t(90551),F=t(23605),B=t(6943);function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){M(e,n,t[n])}))}return e}function k(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}w().extend(N()),w().extend(S()),w().extend(Z());var A=function(e){var n,t,l,o,i,a,s,u,d,f,v,m,b,p,g,O,P,N=e.conversation,E=e.className,S=k(e,["conversation","className"]),R=(0,y.useRouter)(),Z=(0,h.uX)().mutate,M=(0,B.WA)().permissions,A=(0,B.Ft)(B.M$,M)?null===D.Z||void 0===D.Z||null===(n=D.Z.message)||void 0===n?void 0:n.details(null===N||void 0===N?void 0:N.id):null===D.Z||void 0===D.Z||null===(t=D.Z.shopMessage)||void 0===t?void 0:t.details(null===N||void 0===N?void 0:N.id);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",C({className:c()("relative cursor-pointer border-b border-solid border-b-[#E5E7EB] transition-all duration-500 hover:bg-[#e4e5e7]",Number(null===R||void 0===R||null===(l=R.query)||void 0===l?void 0:l.id)===Number(null===N||void 0===N?void 0:N.id)?"bg-[#F3F4F6]":"",Boolean(null===N||void 0===N||null===(o=N.shop)||void 0===o?void 0:o.is_active)?"":"bg-[#e6e7ea]",E),onClick:function(){R.push("".concat(A)),Boolean(null===N||void 0===N?void 0:N.unseen)&&Z({id:null===N||void 0===N?void 0:N.id})}},S,{children:[Boolean(null===N||void 0===N?void 0:N.unseen)?(0,r.jsx)("div",{className:"absolute left-2 top-1/2 z-50 h-[.375rem] w-[.375rem] -translate-y-1/2 transform rounded-full bg-[#EF4444]"}):"",(0,r.jsxs)("div",{className:c()("flex w-full gap-x-3 p-3 sm:p-6",x()(null===N||void 0===N||null===(i=N.latest_message)||void 0===i?void 0:i.body)?"":"items-center"),children:[(0,r.jsx)("div",{className:"relative h-8 w-8 overflow-hidden rounded-full 2xl:h-10 2xl:w-10",children:x()(null===N||void 0===N||null===(a=N.shop)||void 0===a||null===(s=a.logo)||void 0===s?void 0:s.thumbnail)?(0,r.jsx)(F.E,{className:"text-[2rem] 2xl:text-[2.5rem]",color:"#DDDDDD"}):(0,r.jsx)(j.default,{src:null===N||void 0===N||null===(u=N.shop)||void 0===u||null===(d=u.logo)||void 0===d?void 0:d.thumbnail,alt:null===N||void 0===N||null===(f=N.shop)||void 0===f?void 0:f.name,layout:"fill",objectFit:"contain",className:"product-image"})}),(0,r.jsxs)("div",{className:"block w-10/12",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[x()(null===N||void 0===N||null===(v=N.latest_message)||void 0===v?void 0:v.body)?(0,r.jsx)("h2",{className:"mr-1 w-[70%] truncate text-sm font-semibold",children:null===N||void 0===N||null===(m=N.shop)||void 0===m?void 0:m.name}):(0,r.jsx)("h2",{className:"mr-1 w-[70%] truncate text-sm font-semibold",children:null===N||void 0===N||null===(b=N.latest_message)||void 0===b?void 0:b.body}),(null===N||void 0===N||null===(p=N.latest_message)||void 0===p?void 0:p.created_at)?(0,r.jsx)("p",{className:"truncate text-xs text-[#686D73]",children:w()().to(w().utc(null===N||void 0===N||null===(g=N.latest_message)||void 0===g?void 0:g.created_at))}):""]}),x()(null===N||void 0===N||null===(O=N.latest_message)||void 0===O?void 0:O.body)?"":(0,r.jsx)("p",{className:"text-xs text-[#64748B]",children:null===N||void 0===N||null===(P=N.shop)||void 0===P?void 0:P.name})]})]})]}))})},I=t(67024),L=t(13135);function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function H(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var G=function(e){var n=e.width,t=void 0===n?75:n,l=e.height,o=void 0===l?56:l,i=H(e,["width","height"]);return(0,r.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){_(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:t,height:o},i,{fill:"none",children:[(0,r.jsx)("path",{fill:"#fff",stroke:"#DFDFDF",d:"m57.344 2.277.022.035.028.032 16.108 18.261V34.7H.902V20.607L17.011 2.342l.027-.031.023-.036C17.777 1.121 18.776.5 19.75.5h34.903c.975 0 1.972.62 2.69 1.777Z"}),(0,r.jsx)("path",{fill:"#F1F1F1",stroke:"#DFDFDF",d:"M53.083 25.49c0-1.185.368-2.249.94-3.006.573-.757 1.328-1.184 2.123-1.184h17.356v28.519c0 1.598-.497 3.035-1.28 4.061-.781 1.026-1.825 1.62-2.94 1.62H5.122c-1.114 0-2.158-.594-2.94-1.62-.782-1.027-1.28-2.464-1.28-4.061v-28.52h17.356c.796 0 1.55.426 2.123 1.182.573.756.94 1.82.94 3.004v.035c0 2.716 1.72 5.141 4.08 5.141h23.603c1.174 0 2.204-.624 2.925-1.562.721-.939 1.154-2.213 1.154-3.598v-.012Z"})]}))},T=function(){var e=(0,l.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex-auto pb-6",children:(0,r.jsxs)("div",{className:"mt-24 px-5 text-center",children:[(0,r.jsx)("div",{className:"mb-10",children:(0,r.jsx)(G,{className:"mx-auto"})}),(0,r.jsx)("p",{className:"font-medium text-[#686D73]",children:e("text-inbox-empty")})]})})})},V=t(3620);function $(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){$(e,n,t[n])}))}return e}function Q(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var Y=function(e){var n,t,o,i=e.className,a=e.filterText,s=e.permission,u=Q(e,["className","filterText","permission"]),d=(0,l.$G)().t,f=(0,p.useRef)(null),v=(0,h.sw)({search:(null===a||void 0===a?void 0:a.length)>=3?null!==(t=null===(n=null===a||void 0===a?void 0:a.trim())||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:"":null,limit:L.VZ,sortedBy:V.As.Desc,orderBy:"updated_at"}),g=v.conversations,y=v.loading,j=v.error,O=v.refetch,w=v.isSuccess,P=v.hasMore,N=v.loadMore,E=v.isLoadingMore;return(0,p.useEffect)((function(){if(clearTimeout(o),Boolean((null===a||void 0===a?void 0:a.length)>=3)&&(a||x()(a))&&(o=setTimeout((function(){O()}),500)),P){var e=new IntersectionObserver((function(e){return null===e||void 0===e?void 0:e.forEach((function(e){return(null===e||void 0===e?void 0:e.isIntersecting)&&N()}))}),{threshold:0}),n=f&&(null===f||void 0===f?void 0:f.current);n&&(null===e||void 0===e||e.observe(n))}}),[null===f||void 0===f?void 0:f.current,a,P]),y&&x()(g)?(0,r.jsx)(b.Z,{className:"!h-auto flex-grow",showText:!1,text:d("common:text-loading")}):!y&&x()(g)?(0,r.jsx)(T,{}):j?(0,r.jsx)(m.Z,{message:j.message}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",U({className:c()("flex-auto",s?"pb-6":"")},u,{children:x()(g)?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(I.Z,{className:"h-full w-full",options:{scrollbars:{autoHide:"never"}},children:[w&&(null===g||void 0===g?void 0:g.map((function(e,n){return(0,r.jsx)(A,{conversation:e,className:i},n)}))),P?(0,r.jsx)("div",{className:"loader",ref:f,children:E?(0,r.jsx)(b.Z,{className:"mt-4 !h-auto",showText:!1}):(0,r.jsx)("div",{className:"hidden",children:"No search left"})}):""]})})}))})},q=t(14685),W=t(96720),z=t(62964);function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){K(e,n,t[n])}))}return e}function J(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var ee=function(e){var n=e.className,t=J(e,["className"]),o=(0,l.$G)().t,i=(0,W.SO)().openModal,a=(0,p.useState)(""),s=a[0],u=a[1],d=(0,z.Z)().width,f=(0,B.WA)().permissions,h=(0,B.Ft)(B.M$,f);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",X({className:c()(d>=L.h2?"max-w-[4rem] border-r border-solid border-r-[#E5E7EB] sm:max-w-xs 2xl:max-w-[26rem] ":"","flex h-full flex-1 flex-col",h?"pb-6":"",n)},t,{children:[(0,r.jsx)(v,{onChange:function(e){var n;return u(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},value:s,clear:function(){return u("")}}),(0,r.jsx)(Y,{filterText:s,permission:h}),h?(0,r.jsx)("div",{className:"mx-6 block",children:(0,r.jsx)(q.Z,{onClick:function(){i("COMPOSE_MESSAGE")},className:"w-full",children:o("text-compose")})}):""]}))})},ne=t(23324),te=t(46619);function re(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var le=function(e){return(0,r.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){re(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 169 160",fill:"none",children:[(0,r.jsx)("path",{fill:"#DFDFDF",d:"M71.73 160c39.615 0 71.729-6.001 71.729-13.403s-32.114-13.403-71.73-13.403C32.115 133.194 0 139.195 0 146.597S32.114 160 71.73 160Z"}),(0,r.jsx)("path",{fill:"#DFDFDF",fillRule:"evenodd",d:"m129.11 107.222-25.313-31.153c-1.215-1.466-2.99-2.354-4.86-2.354H44.515c-1.869 0-3.644.888-4.858 2.354l-25.312 31.153v16.275H129.11v-16.275h-.001Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#ECEBEB",fillRule:"evenodd",d:"m121.773 124.723-22.12-26.569c-1.059-1.277-2.652-1.975-4.283-1.975H47.91c-1.629 0-3.223.698-4.282 1.975l-22.12 26.569v14.592h100.265v-14.592Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#FAFAFA",fillRule:"evenodd",d:"M35.79 33.507h71.874a4.234 4.234 0 0 1 4.232 4.232v98.758a4.235 4.235 0 0 1-1.239 2.993 4.237 4.237 0 0 1-2.993 1.239H35.791a4.234 4.234 0 0 1-4.232-4.232V37.739a4.232 4.232 0 0 1 4.232-4.232Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M45.152 44.037h53.15a2.116 2.116 0 0 1 2.117 2.116v26.405a2.115 2.115 0 0 1-2.116 2.116H45.152a2.116 2.116 0 0 1-2.116-2.116V46.153a2.116 2.116 0 0 1 2.116-2.116Zm.277 42.123h52.597a2.394 2.394 0 0 1 0 4.787H45.429a2.394 2.394 0 0 1 0-4.787Zm0 12.446h52.597a2.393 2.393 0 1 1 0 4.787H45.429a2.393 2.393 0 1 1 0-4.787Zm83.448 46.025c-.82 3.249-3.7 5.671-7.126 5.671H21.703c-3.426 0-6.305-2.423-7.124-5.671a7.73 7.73 0 0 1-.235-1.894v-35.514h27.844c3.076 0 5.555 2.59 5.555 5.735V113c0 3.143 2.507 5.681 5.583 5.681h36.803c3.075 0 5.583-2.561 5.583-5.705v-.013c0-3.144 2.479-5.741 5.554-5.741h27.845v35.516c0 .653-.082 1.287-.234 1.893ZM131.378 35.223l-7.226 2.804a1.057 1.057 0 0 1-1.393-1.302l2.049-6.567c-2.739-3.114-4.347-6.913-4.347-11.011C120.461 8.572 131.166 0 144.372 0c13.203 0 23.909 8.572 23.909 19.147s-10.705 19.146-23.91 19.146c-4.791 0-9.251-1.127-12.993-3.07Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#fff",d:"M153.788 22.604c1.664 0 3.014-1.333 3.014-2.978 0-1.645-1.35-2.979-3.014-2.979-1.665 0-3.015 1.334-3.015 2.979s1.35 2.978 3.015 2.978Z"}),(0,r.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M137.966 22.231h-6.028l3.066-5.212 2.962 5.212Zm3.768-5.212h5.274v5.212h-5.274V17.02Z",clipRule:"evenodd"})]}))};function oe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ie(){return ie=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ie.apply(this,arguments)}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){oe(e,n,t[n])}))}return e}var ce=function(e){var n=ie({},e),t=(0,l.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",ae({className:"flex h-full"},n,{children:(0,r.jsxs)("div",{className:"m-auto",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(le,{})}),(0,r.jsx)("p",{className:"font-semibold text-[#686D73]",children:t("text-no-message-found")})]})}))})},se=t(89716),ue=t(88301),de=t(55863),fe=t(47626),ve=t(66639);function he(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){he(e,n,t[n])}))}return e}function be(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}w().extend(N()),w().extend(S()),w().extend(Z());var pe=function(e){e.conversation,e.className;var n=e.id,t=(e.listen,e.messages),o=void 0===t?[]:t,i=(e.error,e.loading),a=e.classes,s=e.isSuccess,u=e.children,d=(e.isLoadingMore,e.isFetching,be(e,["conversation","className","id","listen","messages","error","loading","classes","isSuccess","children","isLoadingMore","isFetching"])),f=(0,y.useRouter)().query,v=(0,l.$G)().t,h=(0,z.Z)().width,g=(0,p.useState)(!1),j=g[0],O=g[1],P=(0,ve.UE)(),N=P.data,E=P.isLoading,S=P.error,R=(0,B.WA)().permissions,Z=(0,B.Ft)(B.M$,R),D=(0,se.YF)({strategy:"fixed",placement:"bottom",middleware:[(0,ue.cv)(-80),(0,ue.RR)(),(0,ue.uY)()]}),F=D.x,M=D.y,C=D.reference,k=D.floating,A=D.strategy,I=D.update,_=D.refs;(0,p.useEffect)((function(){var e=document.getElementById("chatBody");if(null===e||void 0===e||e.scrollTo({top:null===e||void 0===e?void 0:e.scrollHeight}),_.reference.current&&_.floating.current)return(0,de.Me)(_.reference.current,_.floating.current,I)}),[null===f||void 0===f?void 0:f.id,s,_.reference,_.floating,I]);var H=document.getElementById("chatBody");return(0,p.useEffect)((function(){var e=document.getElementById("chatBody"),n=function(){Number(Number(null===e||void 0===e?void 0:e.scrollHeight)-Number(null===e||void 0===e?void 0:e.clientHeight))!==Number(null===e||void 0===e?void 0:e.scrollTop)&&Number(null===e||void 0===e?void 0:e.clientHeight)<=Number(null===e||void 0===e?void 0:e.scrollHeight)?O(!0):O(!1)};return null===e||void 0===e||e.addEventListener("scroll",n),function(){null===e||void 0===e||e.removeEventListener("scroll",n)}}),[i]),i||E?(0,r.jsx)(b.Z,{className:"!h-full flex-1",text:v("common:text-loading")}):S?(0,r.jsx)("div",{className:"!h-full flex-1",children:(0,r.jsx)(m.Z,{message:null===S||void 0===S?void 0:S.message})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",me({id:n,className:"relative flex-auto overflow-y-auto overflow-x-hidden px-6 pt-10 pb-14",style:{maxHeight:h>=L.h2?"calc(100vh - 336px)":"calc(100vh - 300px)"},ref:C},d,{children:[(0,r.jsx)("div",{onClick:function(){null===H||void 0===H||H.scrollTo({top:null===H||void 0===H?void 0:H.scrollHeight,behavior:"smooth"})},className:"flex h-10 w-10 transform cursor-pointer rounded-full border border-solid border-[#F3F4F6] bg-[#F3F4F6] text-black shadow-lg transition-all duration-300 hover:border-accent-hover hover:bg-accent-hover hover:text-white ".concat(j?"visible translate-y-0 opacity-100":"invisible translate-y-1 opacity-0"),ref:k,style:{position:A,top:null!==M&&void 0!==M?M:"",left:null!==F&&void 0!==F?F:"",zIndex:50},children:(0,r.jsx)(fe.K,{height:"14",width:"14",className:"m-auto"})}),"\xa0",u,s?(0,r.jsx)(r.Fragment,{children:x()(o)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(ce,{})}):(0,r.jsx)("div",{className:"space-y-6",children:null===o||void 0===o?void 0:o.map((function(e,n){var t,l,o,i,s,u,f,v=e.body,h=e.created_at,m=e.user_id,b=e.conversation,p=Number(null===N||void 0===N?void 0:N.id)===Number(m),g=Z?null===e||void 0===e||null===(i=e.conversation)||void 0===i||null===(s=i.shop)||void 0===s||null===(u=s.logo)||void 0===u?void 0:u.thumbnail:null===b||void 0===b||null===(t=b.user)||void 0===t||null===(l=t.profile)||void 0===l||null===(o=l.avatar)||void 0===o?void 0:o.thumbnail;return(0,r.jsxs)("div",{className:"flex w-full gap-x-3 ".concat(p?"flex-row-reverse":""),children:[p?null:(0,r.jsx)("div",{className:"w-10",children:(0,r.jsx)(ne.Z,me({src:null!==g&&void 0!==g?g:null===te.U||void 0===te.U||null===(f=te.U.avatar)||void 0===f?void 0:f.placeholder},d,{alt:"avatar"}))}),(0,r.jsxs)("div",{className:"w-full sm:w-2/4 ".concat(p?"text-right":"text-left"),children:[(0,r.jsx)("div",{className:"space-y-1",children:(0,r.jsx)("h2",{className:"".concat(c()(null===a||void 0===a?void 0:a.common,p?null===a||void 0===a?void 0:a.default:null===a||void 0===a?void 0:a.reverse)),children:v.replace(/['"]+/g,"")})}),(0,r.jsx)("div",{className:"mt-2 text-xs text-[#686D73]",children:w()().to(w().utc(h))})]})]},n)}))})}):""]}))})};function ge(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xe(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var ye=function(e){var n=e.width,t=void 0===n?"291px":n,l=e.height,o=void 0===l?"370px":l,i=xe(e,["width","height"]);return(0,r.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ge(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:t,height:o},i,{fill:"none",children:[(0,r.jsx)("path",{fill:"#DFDFDF",fillRule:"evenodd",d:"M184.45 370c54.024 0 98.086-1.828 98.086-4.072 0-2.245-44.062-4.076-98.086-4.076-54.025 0-98.089 1.829-98.089 4.07 0 2.24 44.066 4.078 98.089 4.078Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M282.464 155.17H143.192c-3.178 0-2.834 9.918-3.543 13.073L97.305 354.766c-.717 3.158 6.738 10.822 9.916 10.822h139.271c3.178 0 6.281-2.6 6.896-5.776l37.089-191.561c.606-3.186-4.833-13.081-8.013-13.081Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#C2C2C3",fillRule:"evenodd",d:"M282.464 154.866H143.192c-2.592 0-3.053 5.403-3.411 9.601-.129 1.519-.246 2.875-.436 3.709L97.009 354.708a2.421 2.421 0 0 0-.056.523c0 1.667 1.571 4.139 3.557 6.271 1.986 2.132 4.377 3.939 6.071 4.322.21.049.424.075.64.077h139.272a7.279 7.279 0 0 0 4.605-1.769 7.497 7.497 0 0 0 2.588-4.258l37.083-191.573c.036-.202.053-.407.052-.613 0-1.808-1.192-4.845-2.766-7.502-1.592-2.674-3.597-4.981-5.21-5.291a2.026 2.026 0 0 0-.381-.038v.009Zm-139.272.608h139.272c.09 0 .18.009.269.027 1.425.275 3.286 2.457 4.793 5.002 1.53 2.569 2.682 5.483 2.682 7.185.002.167-.011.334-.04.498L253.09 359.768a6.892 6.892 0 0 1-2.384 3.903 6.669 6.669 0 0 1-4.213 1.628H107.221a2.428 2.428 0 0 1-.509-.063c-1.565-.356-3.853-2.098-5.758-4.143-1.904-2.044-3.392-4.347-3.392-5.858-.001-.13.013-.26.041-.387l42.334-186.534c.209-.886.319-2.259.45-3.793.338-3.958.773-9.047 2.805-9.047Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M280.532 155.168H141.264c-3.178 0-6.281 2.601-6.896 5.779L97.293 352.522c-.626 3.178 1.481 5.777 4.657 5.777h139.274c3.178 0 6.281-2.599 6.896-5.777l37.072-191.565c.614-3.188-1.482-5.789-4.66-5.789Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#C2C2C3",fillRule:"evenodd",d:"M280.53 154.863H141.264a7.269 7.269 0 0 0-4.601 1.77 7.5 7.5 0 0 0-2.593 4.255L96.984 352.474a5.967 5.967 0 0 0-.112 1.152 5.023 5.023 0 0 0 1.091 3.191 4.881 4.881 0 0 0 2.885 1.692c.359.07.725.105 1.092.104h139.274a7.292 7.292 0 0 0 4.605-1.769 7.511 7.511 0 0 0 2.588-4.256l37.08-191.577c.076-.379.114-.764.115-1.15a5.003 5.003 0 0 0-1.094-3.191 4.852 4.852 0 0 0-2.882-1.694 5.838 5.838 0 0 0-1.096-.104v-.009Zm-139.266.609h139.272c.329-.001.658.029.982.091.99.178 1.886.703 2.525 1.48a4.41 4.41 0 0 1 .957 2.809c0 .35-.033.699-.1 1.042l-37.089 191.58a6.897 6.897 0 0 1-2.384 3.905 6.674 6.674 0 0 1-4.213 1.626H101.94a5.367 5.367 0 0 1-.98-.092 4.265 4.265 0 0 1-2.525-1.48 4.409 4.409 0 0 1-.957-2.807c0-.35.034-.699.102-1.042l37.08-191.581a6.913 6.913 0 0 1 2.384-3.906 6.67 6.67 0 0 1 4.22-1.625Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#E8E8E8",fillRule:"evenodd",d:"m276.755 163.052-36.265 187.37H105.718l36.265-187.37h134.772Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#C2C2C3",fillRule:"evenodd",d:"m276.386 163.354-7.479 38.657c.19.098.375.209.558.309l7.659-39.567h-24.339c.123.209.242.405.357.609l23.244-.008Zm-15.838 81.85L240.24 350.115h-35.605c-.016.208-.037.404-.062.608h36.167l20.408-105.449a9.323 9.323 0 0 1-.602-.077l.002.007Zm-85.601 104.911h-68.863l15.838-81.802a12.85 12.85 0 0 1-.552-.352l-16.021 82.762h69.761a9.853 9.853 0 0 1-.165-.608h.002Zm-44.276-127.029 2.903-15.004a12.23 12.23 0 0 1-.511-.554l-3.038 15.69c.208-.052.429-.098.646-.138v.006Zm6.95-35.911 4.612-23.821h34.892l.208-.609h-35.6l-4.793 24.774c.223-.121.45-.237.681-.344Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#9D9D9D",fillRule:"evenodd",d:"M223.602 121.128s3.83 24.939 4.52 34.712c.346 4.919.848 8.868-2.242 12.173 0 0 7.691.75 10.303-1.382 0 0-.515 1.042-.986 1.509 0 0 8.603.313 12.156-2.378 5.391-3.647 1.825-76.194-24.053-70.22 0 0-23.874-2.031-21.988 21.389-.4 27.823-2.637 51.822-4.498 56.665 2.685 1.536 9.17-3.516 9.974-5.733.709-1.963 1.101-4.247 1.305-4.829 0 0-.846 6.721-1.236 7.136 0 0 9.647-1.09 13.773-4.206 4.126-3.115 4.151-40.001 2.972-44.836Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#9D9D9D",fillRule:"evenodd",d:"M233.375 139.148c-.077-.281-.15-.55-.208-.817.742-2.43.996-5.21.642-8.242 2.334-2.055 7.377-.302 11.645 1 1.863 17.187 1.842 34.582.813 35.869-2.149 2.691-7.346 2.378-7.346 2.378.244-.483.443-.988.594-1.509-1.58 2.132-6.227 1.382-6.227 1.382 1.875-3.305 1.565-7.254 1.354-12.172-.177-4.208-.71-11.25-1.267-17.889Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#F3F4F6",fillRule:"evenodd",d:"M198.898 169.822h51.368c-3.676-9.209-8.94-15.868-12.935-16.684-2.128-.563-5.739-9.32-5.691-21.726l-.969 1.25-16.128 3.195s.36 5.081.375 9.864c.015 3.986-.208 8.04-1.109 8.515a23.4 23.4 0 0 0-2.219.317s-8.751 6.139-12.692 15.269Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#DBDDDF",fillRule:"evenodd",d:"M214.541 135.853s.363 5.079.377 9.861c9.03-.256 13.8-8.492 15.753-13.056l-16.13 3.195Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#F3F4F6",fillRule:"evenodd",d:"M232.896 127.43c.021-13.306 2.78-22.219-10.851-23.007-13.631-.787-16.29 4.287-17.378 8.726-.675 2.757-.684 13.444 1.25 20.479 4.729 17.205 26.969 2.459 26.979-6.198Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#999A9B",fillRule:"evenodd",d:"M210.014 350.417c6.804-15.171 15.004-31.647 20.075-47.01a357.127 357.127 0 0 0 4.032-13.019c5.419-18.791 6.975-31.124 8.417-44.309l-52.991.417s-4.168 43.822-17.611 103.911l38.078.01Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#E8E8E8",fillRule:"evenodd",d:"M196.968 216.057c.132 25.216-3.701 36.034-3.701 36.034s22.689 11.526 49.653 3.04c.238-.077 11.208-2.584 16.757-3.851l1.953-10.078c-.525-4.77-1.059-9.663-1.286-10.147-5.693-12.22-10.015-17.584-10.691-21.344-1.25-7.016-1.279-14.275-.656-21.123 1.644-18.13 5.491-29.628 5.491-29.628-7.348-1.667-13.181-8.158-20.827-11.026-1.759 2.19-7.136 4.483-11.8 4.376-5.372-.118-7.114-2.417-6.835-4.928-5.725 3.184-10.291 6.193-10.291 6.193-4.864 8.449-14.731 16.658-15.444 29.62-.179 3.186 7.671 32.153 7.677 32.862Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#DBDDDF",fillRule:"evenodd",d:"M234.937 149.166c-2.901 1.719-5.627 2.961-8.115 3.728-3.001.928-5.669 1.163-7.872.719-2.34-.475-4.168-1.696-5.316-3.651a9.004 9.004 0 0 1-.846-1.938l2.144-.657c.151.509.361.999.626 1.459.821 1.384 2.127 2.255 3.822 2.597 1.831.371 4.126.152 6.773-.667 2.309-.713 4.876-1.876 7.631-3.518l1.153 1.928Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#8B8B8B",fillRule:"evenodd",d:"M210.015 350.417c6.804-15.171 15.004-31.647 20.074-47.01a353.017 353.017 0 0 0 4.033-13.019l-7.805-5.92s-20.189 32.699-28.883 65.949h12.581Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#999A9B",fillRule:"evenodd",d:"m254.557 277.739-34.26-3.335c.452 23.897 3.451 57.726 4.683 76.021h15.511l14.066-72.686Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#8B8B8B",fillRule:"evenodd",d:"m251.126 295.473-2.003 1.177c.578.25 1.111.592 1.58 1.013l.423-2.19Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M234.739 286.485s3.224 11.653 14.379 10.165a61.77 61.77 0 0 0 1.828-.271l11.003-56.846c-4.474-21.801-6.251-47.154-9.655-63.053-1.175-5.462-9.077-7.233-9.377-10.501l-9.257-17.959s-13.803 30.978-14.547 38.788c-.743 7.811 15.626 99.677 15.626 99.677Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#A7A8A9",fillRule:"evenodd",d:"M242.545 209.809c.444 11.281 4.009 29.653 17.382 40.221l2.032-10.503c-3.814-18.837-4.42-36.726-7.78-52.358-9.55-1.99-11.912 15.676-11.634 22.64Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M174.287 212.543c2.52.605 4.447.938 5.175.778 3.069-.68 7.454-33.969 9.823-45.371 3.053-14.689 14.697-17.611 14.697-17.611l11.045-2.955s-12.648 31.243-13.019 37.565c-.371 6.323-1.488 103.399-1.488 103.399s.744 4.464-7.811 2.601c-8.554-1.864-10.784-3.72-10.784-3.72s3.705-27.136 5.447-51.226c-2.846-.486-7.762-2.332-13.085-4.598v-18.862Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#9D9D9D",fillRule:"evenodd",d:"M211.112 106.267c-11.345 6.655-7.775 11.187-10.711 17.229 0 0-3.406-11.689 1.919-18.131 5.648-6.846 8.792.902 8.792.902Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#9D9D9D",fillRule:"evenodd",d:"M209.862 103.604s4.483 17.564 16.649 23.184c0 0-12.166-10.791-13.202-22.386-1.036-11.595-3.447-.798-3.447-.798ZM205.438 103.748c1.507-.706 2.549-.559 3.126.44-.391 2.377-1.502 4.137-3.335 5.28.609-1.036.678-2.943.209-5.72ZM222.299 99.178c-1.988-.556-2.85-1.539-2.584-2.95 2.289-1.914 4.762-2.663 7.419-2.248-1.413.471-3.025 2.204-4.835 5.198Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#9D9D9D",fillRule:"evenodd",d:"M210.965 101.707s6.287 16.776 15.928 19.254c9.64 2.478 13.833-.102 13.833-.102s-7.398-5.881-8.93-16.134c0 0-16.094-11.004-20.831-3.018Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#9D9D9D",d:"M234.602 122.216a31.458 31.458 0 0 1-7.755-1.084c-9.617-2.474-15.984-19.193-16.046-19.362l-.03-.079.042-.073c1.178-1.986 3.141-2.993 5.835-2.993 6.461 0 15.161 5.893 15.247 5.954l.064.044v.075c1.505 10.063 8.795 15.963 8.867 16.021l.196.157-.208.133c-.075.048-1.999 1.207-6.212 1.207Zm-23.441-20.49c.486 1.25 6.669 16.724 15.776 19.064 2.5.676 5.075 1.036 7.665 1.073 3.315 0 5.199-.748 5.81-1.042-1.207-1.042-7.375-6.795-8.78-15.996-.798-.534-8.917-5.85-14.984-5.85-2.526.002-4.372.921-5.487 2.751Z"}),(0,r.jsx)("path",{fill:"#9D9D9D",fillRule:"evenodd",d:"M234.312 119.813c-2.271-2.33-4.28-2.781-6.029-1.355-.926 4.617-.1 8.604 2.478 11.96-.406-2.313.778-5.848 3.551-10.605ZM204.698 112.033c-1.229-4.584-2.507-5.934-3.832-4.049-1.146 7.49-1.06 14.437.258 20.84-.002-4.003 1.189-9.6 3.574-16.791Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#9D9D9D",fillRule:"evenodd",d:"M215.353 107.399c1.611-4.468-3.055-4.197-5.21-3.403-5.219 5.496-9.118 11.25-11.695 17.261 3.983-3.461 17.326-9.917 16.905-13.858ZM221.914 98.725c.774-.555 1.109-1.54 1.007-2.95-.894-1.915-1.857-2.664-2.889-2.247.55.475 1.178 2.207 1.882 5.197Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#DBDDDF",fillRule:"evenodd",d:"M219.829 153.227c-1.233-.208-2.477 1.065-2.784 2.851-.306 1.786.442 3.403 1.667 3.614 1.226.21 2.474-1.065 2.782-2.851.309-1.786-.433-3.401-1.665-3.614Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#DBDDDF",fillRule:"evenodd",d:"M218.443 158.7c-.758-.131-1.527.654-1.715 1.757-.187 1.102.273 2.096 1.03 2.225.756.13 1.525-.654 1.715-1.754.19-1.101-.269-2.099-1.03-2.228Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#DBDDDF",fillRule:"evenodd",d:"M217.707 162.121c-.665-.116-1.338.575-1.507 1.542-.169.967.242 1.843.907 1.957.664.115 1.338-.577 1.504-1.544.167-.967-.239-1.84-.904-1.955Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#F3F4F6",fillRule:"evenodd",d:"M265.612 188.345c-3.455-18.136-9.38-28.289-17.774-30.457 2.745 42.977 4.902 67.52 2.907 68.506-21.538-13.464-32.041-21.077-32.041-21.077-3.428-1.982-6.825-1.261-9.642.396l-12.633 4.549c-.834 2.149 3.386 1.025 10.507-.656.625 3.388 6.362 7 9.705 4.313 7.067 4.616 33.068 32.623 44.343 30.622l6.239-32.241c.019-6.954-.275-14.954-1.611-23.955Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M234.091 148.155s17.278 4.841 20.56 9.718c1.115 1.65 5.239 5.627 7.803 12.825 4.107 11.539 5.931 27.368 5.933 35.594l-7.476 38.622c-9.548 1.6-34.216-20.044-44.013-29.547-.744-.721.244-3.786.319-4.778 0 0 .417-7.861 3.778-5.231 4.933 3.851 20.292 10.995 28.807 18.925 3.453 3.213-.946-16.478-1.221-17.089-.578-1.275-11.235-31.741-14.171-27.908-2.52 3.309-.319-31.131-.319-31.131Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#A7A8A9",fillRule:"evenodd",d:"M252.986 242.826c3.126 1.59 5.87 2.416 7.919 2.084l-.208 1.109c-1.459.781-3.112 1.081-5.481.067-8.351-3.574-22.067-15.005-29.987-23.045 8.165 7.521 19.925 15.807 27.757 19.785Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#999A9B",fillRule:"evenodd",d:"m191.171 191.658-3.051.019-58.395.342c-2.995.014-3.601.669-6.319 1.9l39.298 55.836 59.81 1.067c2.14-1.817 4.011-2.292 1.273-7.26l-27.652-47.211c-1.174-2.119-3.143-4.643-4.964-4.693Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#A7A8A9",fillRule:"evenodd",d:"m176.018 193.309-50.196.294c-1.58 0-3.812-.565-1.653 2.905l32.02 51.361c1.001 1.607 1.013 1.784 3.833 1.834l62.427 1.115-30.244-51.582c-4.435-7.565-5.548-5.989-16.187-5.927Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#F3F4F6",fillRule:"evenodd",d:"M149.45 230.922c2.94 9.895 2.234 9.639 1.625 9.282-7.362-4.336-8.752-8.296-7.579-14.946.146-.123.284-.246.417-.367 2.859-2.582 3.249-4.289 5.339-1.188 1.586 2.353 1.807 4.983.198 7.219Z",clipRule:"evenodd"}),(0,r.jsx)("path",{stroke:"#BBB",strokeWidth:"1.5",d:"M44.69 182.587c.836-35.783 23.02-110.695 105.066-124.08"}),(0,r.jsx)("path",{fill:"#E8E8E8",fillRule:"evenodd",d:"M166.747 38.731a29.43 29.43 0 0 1 4.702 32.365 29.428 29.428 0 0 1-28.101 16.729 29.43 29.43 0 0 1-26.997-36.63 29.437 29.437 0 0 1 30.062-22.156 29.432 29.432 0 0 1 20.334 9.692Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M167.22 38.27a30.095 30.095 0 0 1 6.818 27.546 30.09 30.09 0 0 1-19.118 20.972 30.098 30.098 0 1 1 12.3-48.518Zm6.373 21.645a28.771 28.771 0 1 0-9.473 19.878 28.677 28.677 0 0 0 9.473-19.878Z",clipRule:"evenodd"}),(0,r.jsx)("rect",{width:"37.235",height:"2.37",x:"131.747",y:"40.723",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 131.747 40.723)"}),(0,r.jsx)("rect",{width:"37.235",height:"2.37",x:"129.927",y:"45.463",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 129.927 45.463)"}),(0,r.jsx)("rect",{width:"37.235",height:"2.37",x:"128.106",y:"50.203",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 128.106 50.203)"}),(0,r.jsx)("rect",{width:"37.235",height:"2.37",x:"126.286",y:"54.942",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 126.286 54.942)"}),(0,r.jsx)("rect",{width:"24.823",height:"2.37",x:"124.466",y:"59.683",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 124.466 59.683)"}),(0,r.jsx)("path",{fill:"#E8E8E8",fillRule:"evenodd",d:"M92.14 82.857a29.433 29.433 0 1 1-43.735 39.402 29.433 29.433 0 0 1 43.736-39.402Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M92.614 82.396a30.099 30.099 0 1 1-44.715 40.301 30.099 30.099 0 0 1 44.715-40.301Zm6.373 21.645a28.772 28.772 0 1 0-9.474 19.878 28.658 28.658 0 0 0 9.474-19.878Z",clipRule:"evenodd"}),(0,r.jsx)("rect",{width:"37.235",height:"2.37",x:"55.138",y:"90.064",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 55.138 90.064)"}),(0,r.jsx)("rect",{width:"37.235",height:"2.37",x:"53.317",y:"94.804",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 53.317 94.804)"}),(0,r.jsx)("rect",{width:"24.823",height:"2.37",x:"51.497",y:"99.544",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 51.497 99.544)"}),(0,r.jsx)("path",{fill:"#E8E8E8",fillRule:"evenodd",d:"M65.727 165.233a29.432 29.432 0 1 1-43.734 39.401 29.432 29.432 0 0 1 43.734-39.401Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#BBB",fillRule:"evenodd",d:"M66.2 164.773a30.092 30.092 0 0 1 6.818 27.546A30.1 30.1 0 0 1 53.9 213.291a30.095 30.095 0 0 1-37.304-15.582 30.094 30.094 0 0 1 3.125-30.787 30.1 30.1 0 0 1 31.518-11.174 30.096 30.096 0 0 1 14.96 9.025Zm6.373 21.645a28.77 28.77 0 0 0-21.66-29.387 28.777 28.777 0 0 0-35.005 34.798A28.772 28.772 0 0 0 63.1 206.296a28.67 28.67 0 0 0 9.474-19.878Z",clipRule:"evenodd"}),(0,r.jsx)("rect",{width:"37.235",height:"2.37",x:"27.814",y:"174.81",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 27.814 174.81)"}),(0,r.jsx)("rect",{width:"18.617",height:"2.37",x:"25.993",y:"179.55",fill:"#BBB",rx:"1.185",transform:"rotate(21.008 25.993 179.55)"}),(0,r.jsx)("path",{fill:"#BBB",d:"M138.435 112.442a1.522 1.522 0 0 0 .006 2.154l.54.54a.255.255 0 0 1 .002.36.254.254 0 0 1-.359-.002l-1.26-1.259a1.522 1.522 0 0 0-2.153-.007 1.522 1.522 0 0 0 .007 2.154l1.259 1.259a.253.253 0 1 1-.358.358l-1.98-1.98a1.522 1.522 0 0 0-2.153-.007 1.522 1.522 0 0 0 .006 2.154l1.98 1.979c.099.099.1.261.002.36a.254.254 0 0 1-.36-.002l-7.017-7.017a1.524 1.524 0 0 0-2.154-.007 1.523 1.523 0 0 0 .007 2.154l8.445 8.445c-1.107-.172-2.969-.246-4.113.896-1.073 1.074-1.045 1.816-.712 2.15.908.908 1.607-.526 5.743 1.45 4.137 1.978 6.795 1.814 8.613.027l2.504-2.505c.014-.013-.013.014 0 0 2.547-2.546 3.276-6.027.706-8.596l-.013-.013-5.038-5.038a1.52 1.52 0 0 0-2.15-.007Z"})]}))};function je(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){je(e,n,t[n])}))}return e}function we(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var Pe=function(e){var n=e.className,t=we(e,["className"]),o=(0,l.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",Oe({className:c()("m-auto w-full",n)},t,{children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(ye,{className:"mx-auto mb-14"}),(0,r.jsx)("h2",{className:"text-xl font-medium",children:o("text-select-your-conversation")})]})}))})};function Ne(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ne(e,n,t[n])}))}return e}function Se(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var Re=function(e){var n=e.className,t=e.name,o=Se(e,["className","name"]),i=(0,l.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",Ee({className:c()("space-y-3 rounded bg-[#ebebeb] px-4 py-5 text-center",n)},o,{children:[(0,r.jsxs)("p",{className:"text-lg",children:[i("text-blocked-content-one")," ",(0,r.jsx)("strong",{children:t})," ",i("text-account")]}),(0,r.jsx)("p",{className:"text-sm",children:i("text-blocked-content-two")})]}))})},Ze=t(34051),De=t.n(Ze);function Fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Be=function(e){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Fe(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em"},e,{fill:"none",children:(0,r.jsx)("path",{fill:"currentColor",d:"M17.592 8.827c0 .602-.388 1.139-1.064 1.477L2.975 17.081a2.14 2.14 0 0 1-.95.247c-.43 0-.808-.181-1.048-.502-.206-.282-.404-.769-.164-1.561l1.527-5.093c.05-.148.082-.33.099-.52h8.36a.828.828 0 0 0 .826-.825.828.828 0 0 0-.825-.825H2.439a2.426 2.426 0 0 0-.1-.52L.814 2.389C.573 1.597.77 1.109.978.829 1.382.284 2.15.161 2.975.573L16.528 7.35c.676.339 1.064.875 1.064 1.478Z"})}))},Me=t(40782),Ce=t(74231),ke=t(57818),Ae=t(87536),Ie=t(95496),Le=t(96486);function _e(e,n,t,r,l,o,i){try{var a=e[o](i),c=a.value}catch(s){return void t(s)}a.done?n(c):Promise.resolve(c).then(r,l)}function He(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){He(e,n,t[n])}))}return e}function Te(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var Ve=Ce.Ry().shape({message:Ce.Z_().required("error-body-required")}),$e=function(e){e.className,Te(e,["className"]);var n=(0,Ae.cI)({resolver:(0,Ie.X)(Ve)}),t=n.register,o=n.handleSubmit,i=n.getValues,a=n.setFocus,c=n.reset,s=(n.formState.errors,(0,l.$G)().t,(0,y.useRouter)().query),u=(0,h.$3)(),d=u.mutate,f=u.isLoading;(0,p.useEffect)((function(){var e=function(e){if("Enter"===e.key&&e.shiftKey)return!1;if("Enter"===e.code||"NumpadEnter"===e.code){e.preventDefault();var n=i();v(n)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[null===s||void 0===s?void 0:s.id]);var v=function(){var e,n=(e=De().mark((function e(n){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,Le.isEmpty)(n.message)){e.next=3;break}return null===Me.Am||void 0===Me.Am||Me.Am.error("Message is required"),e.abrupt("return");case 3:d({message:null===n||void 0===n?void 0:n.message,id:null===s||void 0===s?void 0:s.id},{onError:function(e){null===Me.Am||void 0===Me.Am||Me.Am.error(null===e||void 0===e?void 0:e.message)},onSuccess:function(){var e=document.getElementById("chatBody");null===e||void 0===e||e.scrollTo({top:null===e||void 0===e?void 0:e.scrollHeight,behavior:"smooth"}),c()}});case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,l){var o=e.apply(n,t);function i(e){_e(o,r,l,i,a,"next",e)}function a(e){_e(o,r,l,i,a,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,p.useEffect)((function(){a("message")}),[a]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("form",{noValidate:!0,onSubmit:o(v),children:(0,r.jsxs)("div",{className:"relative",children:[f?(0,r.jsx)("div",{className:"absolute top-0 left-0 z-50 flex h-full w-full cursor-not-allowed bg-[#EEF1F4]/50",children:(0,r.jsx)("div",{className:"m-auto h-5 w-4 animate-spin rounded-full border-2 border-t-2 border-transparent border-t-accent"})}):"",(0,r.jsx)(ke.Z,Ge({className:"overflow-y-auto overflow-x-hidden shadow-chatBox",placeholder:"Type your message here.."},t("message"),{variant:"solid",inputClassName:"!border-0 bg-white pr-12 block !h-full",rows:3,disabled:!!f})),(0,r.jsx)("div",{className:"absolute top-0 right-0 h-full",children:(0,r.jsx)(q.Z,{className:"!h-full px-4 text-lg focus:!shadow-none focus:!ring-0",variant:"custom",disabled:!!f,children:(0,r.jsx)(Be,{})})})]})})})},Ue=t(96872);function Qe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ye=function(e){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Qe(e,n,t[n])}))}return e}({stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,r.jsx)("path",{d:"M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"})}))};function qe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function We(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){qe(e,n,t[n])}))}return e}function ze(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var Ke=function(e){var n,t,l,o=e.className,i=e.shop,a=ze(e,["className","shop"]),s=(0,y.useRouter)(),u=(0,z.Z)().width,d=(0,B.WA)().permissions,f=(0,B.Ft)(B.M$,d),v=f?D.Z.message.list:"".concat(null===D.Z||void 0===D.Z?void 0:D.Z.dashboard,"?tab=1");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",We({className:c()("relative flex shrink-0 items-center border-b border-solid border-b-[#E5E7EB] bg-white p-2 sm:h-20 sm:pl-6 sm:pr-9",u>=L.h2?"justify-between":"",o)},a,{children:[u<=L.h2?(0,r.jsx)(Ue.Z,{href:v,className:"mr-1 inline-block p-1 pl-0 text-2xl transition-colors duration-300 hover:text-accent-hover",children:(0,r.jsx)(Ye,{})}):"",(0,r.jsxs)("div",{className:"flex ".concat(f?"cursor-pointer":""," items-center"),onClick:function(){return f?s.push("/".concat(null===i||void 0===i?void 0:i.slug)):""},children:[(0,r.jsx)(ne.Z,We({src:null!==(l=null===i||void 0===i||null===(n=i.logo)||void 0===n?void 0:n.thumbnail)&&void 0!==l?l:null===te.U||void 0===te.U||null===(t=te.U.avatar)||void 0===t?void 0:t.placeholder},a,{alt:null===i||void 0===i?void 0:i.name})),(0,r.jsx)("h2",{className:"ml-2 text-xs font-semibold text-[#64748B]",children:null===i||void 0===i?void 0:i.name})]})]}))})},Xe=t(24561);function Je(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function en(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Je(e,n,t[n])}))}return e}function nn(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var tn=function(e,n){for(var t=[];e>(null===t||void 0===t?void 0:t.length);)null===t||void 0===t||t.push(n(null===t||void 0===t?void 0:t.length));return t},rn=function(e){return e%2==0},ln=function(e){var n=e.props,t=e.backgroundColor,l=e.foregroundColor;return(0,r.jsxs)(Xe.ZP,en({speed:2,width:"100%",height:"100%",viewBox:"0 0 241 18",backgroundColor:t||"#E5E5E5",foregroundColor:l||"#c0c0c0"},n,{children:[(0,r.jsx)("rect",{width:"241",height:"6",rx:"2"}),(0,r.jsx)("rect",{y:"12",width:"120.5",height:"6",rx:"2"})]}))},on=function(e){var n=e.classes,t=e.limit,l=nn(e,["classes","limit"]);return(0,r.jsx)("div",en({className:"space-y-3"},l,{children:tn(t,(function(e){var t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"".concat(rn(e)?"space-x-3":"flex-row-reverse"," flex w-full"),children:[rn(e)?(0,r.jsx)("div",{className:"w-10",children:(0,r.jsx)(ne.Z,{src:null===te.U||void 0===te.U||null===(t=te.U.avatar)||void 0===t?void 0:t.placeholder,alt:"avatar"})}):"",(0,r.jsx)("div",{className:c()(null===n||void 0===n?void 0:n.common,rn(e)?null===n||void 0===n?void 0:n.default:null===n||void 0===n?void 0:n.reverse),children:(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)(ln,{backgroundColor:rn(e)?"#d7d7d7":"#119278",foregroundColor:rn(e)?"#ECECEC":"#21A087"})})})]})})}))}))};function an(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function cn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function sn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){cn(e,n,t[n])}))}return e}function un(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function dn(e){return function(e){if(Array.isArray(e))return an(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return an(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return an(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fn=function(e){var n,t,o=e.className,i=un(e,["className"]),a=(0,l.$G)().t,s=(0,p.useRef)(null),u=(0,y.useRouter)(),d=(0,h.uX)().mutate,f=u.query,v=(0,h.Cq)({id:f.id}),g=v.data,j=v.loading,O=(v.error,(0,z.Z)().width),w=(0,h.kY)({slug:null===f||void 0===f?void 0:f.id,limit:L.VZ}),P=w.error,N=w.messages,E=w.loading,S=w.isSuccess,R=w.hasMore,Z=w.loadMore,D=w.isLoadingMore,F=w.isFetching;(0,p.useEffect)((function(){if(R){var e=new IntersectionObserver((function(e){return null===e||void 0===e?void 0:e.forEach((function(e){return(null===e||void 0===e?void 0:e.isIntersecting)&&Z()}))}),{rootMargin:"-110px",threshold:[0,.25,.5,.75,1]}),n=s&&(null===s||void 0===s?void 0:s.current);n&&(null===e||void 0===e||e.observe(n))}}),[null===s||void 0===s?void 0:s.current,R]),N=dn(N).reverse();var B={common:"inline-block rounded-[13.5px] px-4 py-2 shadow-chat break-all",default:"bg-white text-left",reverse:"bg-accent text-white"};if(!x()(null===f||void 0===f?void 0:f.id)&&P)return(0,r.jsx)("div",{className:"flex !h-full flex-1 items-center justify-center bg-[#F3F4F6]",children:(0,r.jsx)(m.Z,{message:null===P||void 0===P?void 0:P.message})});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",sn({className:c()("flex h-full flex-1 bg-[#F3F4F6] pb-7",O>=L.h2?"2xl:max-w-[calc(100% - 26rem)]":"",o)},i,{children:x()(null===f||void 0===f?void 0:f.id)?(0,r.jsx)(r.Fragment,{children:O>=L.h2?(0,r.jsx)(Pe,{}):""}):(0,r.jsx)(r.Fragment,{children:j&&E?(0,r.jsx)(b.Z,{className:"!h-full",text:a("common:text-loading")}):(0,r.jsxs)("div",{className:c()("flex h-full w-full flex-col"),onFocus:function(){Boolean(null===g||void 0===g?void 0:g.unseen)&&d({id:null===f||void 0===f?void 0:f.id})},children:[(0,r.jsx)(Ke,{shop:null===g||void 0===g?void 0:g.shop}),(0,r.jsx)(pe,{messages:N,id:"chatBody",error:P,loading:E,classes:B,isSuccess:S,isLoadingMore:D,isFetching:F,children:R?(0,r.jsx)("div",{ref:s,className:"mb-4",children:D?(0,r.jsx)(on,{classes:B,limit:L.VZ/2}):(0,r.jsx)("div",{className:"hidden",children:"No search left"})}):""}),(0,r.jsx)("div",{className:"relative mx-6",children:Boolean(null===g||void 0===g||null===(n=g.shop)||void 0===n?void 0:n.is_active)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)($e,{})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Re,{name:null===g||void 0===g||null===(t=g.shop)||void 0===t?void 0:t.name})})})]})})}))})},vn=t(66595);function hn(){var e=(0,y.useRouter)().query;return(0,r.jsx)(r.Fragment,{children:(null===e||void 0===e?void 0:e.id)?(0,r.jsx)(fn,{}):(0,r.jsx)(ee,{})})}function mn(){var e=(0,z.Z)().width;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(vn.Z,{className:"h-full overflow-hidden !p-0 !shadow-chatBox",style:{maxHeight:"calc(100% - 5px)"},children:e>=L.h2?(0,r.jsxs)("div",{className:"flex h-full flex-wrap overflow-hidden",children:[(0,r.jsx)(ee,{}),(0,r.jsx)(fn,{})]}):(0,r.jsx)(hn,{})})})}},50381:function(e,n,t){var r=t(85893),l=t(94184),o=t.n(l),i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function s(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var u="px-4 h-12 flex items-center w-full rounded appearance-none transition duration-300 ease-in-out text-heading text-sm focus:outline-none focus:ring-0",d="bg-gray-100 border border-border-base focus:shadow focus:bg-light focus:border-accent",f="bg-gray-100 border border-border-100 focus:bg-light focus:border-accent",v="border border-border-base focus:border-accent",h="focus:shadow",m={small:"text-sm h-10",medium:"h-12",big:"h-14"},b=i.forwardRef((function(e,n){var t,l=e.className,i=e.label,b=e.note,p=e.name,g=e.error,x=(e.children,e.variant),y=void 0===x?"normal":x,j=e.dimension,O=void 0===j?"medium":j,w=e.shadow,P=void 0!==w&&w,N=e.type,E=void 0===N?"text":N,S=e.inputClassName,R=e.disabled,Z=e.showLabel,D=void 0===Z||Z,F=s(e,["className","label","note","name","error","children","variant","dimension","shadow","type","inputClassName","disabled","showLabel"]),B=o()(u,(a(t={},d,"normal"===y),a(t,f,"solid"===y),a(t,v,"outline"===y),t),a({},h,P),m[O],S),M="number"===E&&R?"number-disable":"";return(0,r.jsxs)("div",{className:l,children:[D?(0,r.jsx)("label",{htmlFor:p,className:"mb-3 block text-sm font-semibold leading-none text-body-dark",children:i}):"",(0,r.jsx)("input",c({id:p,name:p,type:E,ref:n,className:"".concat(B," ").concat(R?"cursor-not-allowed border-[#D4D8DD] bg-[#EEF1F4] ".concat(M," select-none"):""),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",disabled:R,"aria-invalid":g?"true":"false"},F)),b&&(0,r.jsx)("p",{className:"mt-2 text-xs text-body",children:b}),g&&(0,r.jsx)("p",{className:"my-2 text-xs text-red-500 text-start",children:g})]})}));b.displayName="Input",n.Z=b},57818:function(e,n,t){var r=t(85893),l=t(94184),o=t.n(l),i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function s(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var u="py-3 px-4 w-full rounded appearance-none transition duration-300 ease-in-out text-heading text-sm focus:outline-none focus:ring-0",d="bg-gray-100 border border-border-base focus:shadow focus:bg-light focus:border-accent",f="bg-gray-100 border border-border-100 focus:bg-light focus:border-accent",v="border border-border-base focus:border-accent",h="focus:shadow",m=i.forwardRef((function(e,n){var t,l=e.className,i=e.label,m=e.name,b=e.error,p=e.variant,g=void 0===p?"normal":p,x=e.shadow,y=void 0!==x&&x,j=e.inputClassName,O=e.disabled,w=s(e,["className","label","name","error","variant","shadow","inputClassName","disabled"]),P=o()(u,(a(t={},d,"normal"===g),a(t,f,"solid"===g),a(t,v,"outline"===g),t),a({},h,y),j);return(0,r.jsxs)("div",{className:l,children:[i&&(0,r.jsx)("label",{className:"block text-body-dark font-semibold text-sm leading-none mb-3",children:i}),(0,r.jsx)("textarea",c({id:m,name:m,className:"".concat(P," ").concat(O?"cursor-not-allowed bg-[#EEF1F4] border-[#D4D8DD]":""),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",rows:4,ref:n,disabled:O},w)),b&&(0,r.jsx)("p",{className:"my-2 text-xs text-end text-red-500",children:b})]})}));m.displayName="TextArea",n.Z=m},66233:function(e,n,t){t.d(n,{Cq:function(){return j},sw:function(){return g},As:function(){return x},uX:function(){return w},kY:function(){return y},$3:function(){return O}});var r=t(11163),l=t(88767),o=t(40782),i=t(70300),a=t(90551),c=t(17785),s=t(66889),u=t(14511),d=t(14141);function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}function h(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var m=v({},(0,u.h)(c.P.CONVERSIONS),{getMessage:function(e){var n=e.slug,t=h(e,["slug"]);return d.eN.get("".concat(c.P.MESSAGE,"/").concat(n),v({searchJoin:"and"},t))},getConversion:function(e){var n=e.id;return d.eN.get("".concat(c.P.CONVERSIONS,"/").concat(n))},messageCreate:function(e){var n=e.id,t=h(e,["id"]);return d.eN.post("".concat(c.P.MESSAGE,"/").concat(n),t)},messageSeen:function(e){var n=e.id;return d.eN.post("".concat(c.P.MESSAGE_SEEN,"/").concat(n),n)},allConversation:function(e){return d.eN.get(c.P.CONVERSIONS,e)}}),b=t(96720),p=t(6943),g=function(e){var n,t,r=(0,l.useInfiniteQuery)([c.P.CONVERSIONS,e],(function(e){var n=e.queryKey,t=e.pageParam;return m.allConversation(Object.assign({},n[1],t))}),{getNextPageParam:function(e){var n=e.current_page;return e.last_page>n&&{page:n+1}}}),o=r.data,i=r.isLoading,a=r.error,u=r.refetch,d=r.fetchNextPage,f=r.hasNextPage,v=r.isFetching,h=r.isSuccess,b=r.isFetchingNextPage;return{conversations:null!==(t=null===o||void 0===o||null===(n=o.pages)||void 0===n?void 0:n.flatMap((function(e){return e.data})))&&void 0!==t?t:[],paginatorInfo:Array.isArray(null===o||void 0===o?void 0:o.pages)?(0,s.Q)(null===o||void 0===o?void 0:o.pages[o.pages.length-1]):null,loading:i,error:a,isFetching:v,refetch:u,isSuccess:h,isLoadingMore:b,loadMore:function(){Boolean(f)&&d()},hasMore:Boolean(f)}},x=function(){var e=(0,i.$G)().t,n=(0,r.useRouter)(),t=(0,b.SO)().closeModal,s=(0,l.useQueryClient)(),u=(0,p.WA)().permissions,d=(0,p.Ft)(p.M$,u);return(0,l.useMutation)(m.create,{onSuccess:function(r){if(null===r||void 0===r?void 0:r.id){var l,i,c=d?null===a.Z||void 0===a.Z||null===(l=a.Z.message)||void 0===l?void 0:l.details(null===r||void 0===r?void 0:r.id):null===a.Z||void 0===a.Z||null===(i=a.Z.shopMessage)||void 0===i?void 0:i.details(null===r||void 0===r?void 0:r.id);o.Am.success(e("common:successfully-created")),n.push("".concat(c)),t()}else{var s;o.Am.error(e(null===(s=null===r||void 0===r?void 0:r.errors[0])||void 0===s?void 0:s.message))}},onSettled:function(){s.invalidateQueries(c.P.MESSAGE),s.invalidateQueries(c.P.CONVERSIONS)}})},y=function(e){var n,t,r=(0,l.useInfiniteQuery)([c.P.MESSAGE,e],(function(e){var n=e.queryKey,t=e.pageParam;return m.getMessage(Object.assign({},n[1],t))}),{getNextPageParam:function(e){var n=e.current_page;return e.last_page>n&&{page:n+1}}}),o=r.data,i=r.isLoading,a=r.error,u=r.refetch,d=r.fetchNextPage,f=r.hasNextPage,v=r.isFetching,h=r.isSuccess,b=r.isFetchingNextPage;return{messages:null!==(t=null===o||void 0===o||null===(n=o.pages)||void 0===n?void 0:n.flatMap((function(e){return e.data})))&&void 0!==t?t:[],paginatorInfo:Array.isArray(null===o||void 0===o?void 0:o.pages)?(0,s.Q)(null===o||void 0===o?void 0:o.pages[o.pages.length-1]):null,loading:i,error:a,isFetching:v,refetch:u,isSuccess:h,isLoadingMore:b,loadMore:function(){Boolean(f)&&d()},hasMore:Boolean(f)}},j=function(e){var n=e.id,t=(0,l.useQuery)([c.P.CONVERSIONS,n],(function(){return m.getConversion({id:n})}),{keepPreviousData:!0}),r=t.data;return{data:null!==r&&void 0!==r?r:[],error:t.error,loading:t.isLoading,isFetching:t.isFetching}},O=function(){var e=(0,i.$G)().t,n=(0,l.useQueryClient)();return(0,l.useMutation)(m.messageCreate,{onSuccess:function(){o.Am.success(e("common:text-message-sent"))},onSettled:function(){n.invalidateQueries(c.P.MESSAGE),n.invalidateQueries(c.P.CONVERSIONS)}})},w=function(){(0,i.$G)().t;var e=(0,l.useQueryClient)();return(0,l.useMutation)(m.messageSeen,{onSettled:function(){e.invalidateQueries(c.P.MESSAGE),e.invalidateQueries(c.P.CONVERSIONS)}})}},3620:function(e,n,t){var r,l,o,i,a,c,s,u,d,f,v,h,m;t.d(n,{As:function(){return r},$i:function(){return l},kv:function(){return o},tO:function(){return i},Zx:function(){return a},HY:function(){return c},Pt:function(){return s},sA:function(){return d},DL:function(){return f},iF:function(){return v},bG:function(){return h},y3:function(){return m}}),function(e){e.Asc="asc",e.Desc="desc"}(r||(r={})),function(e){e.FIXED="fixed",e.PERCENTAGE="percentage",e.FREE_SHIPPING="free_shipping"}(l||(l={})),function(e){e.Simple="simple",e.Variable="variable"}(o||(o={})),function(e){e.High="high",e.Medium="medium",e.Low="low"}(i||(i={})),function(e){e.all_vendor="all_vendor",e.specific_vendor="specific_vendor",e.all_shop="all_shop",e.specific_shop="specific_shop"}(a||(a={})),function(e){e.STRIPE="STRIPE",e.COD="CASH_ON_DELIVERY",e.CASH="CASH",e.FULL_WALLET_PAYMENT="FULL_WALLET_PAYMENT",e.PAYPAL="PAYPAL",e.MOLLIE="MOLLIE",e.RAZORPAY="RAZORPAY"}(c||(c={})),function(e){e.Publish="publish",e.Draft="draft"}(s||(s={})),function(e){e.Approved="APPROVED",e.Pending="PENDING",e.OnHold="ON_HOLD",e.Rejected="REJECTED",e.Processing="PROCESSING"}(u||(u={})),function(e){e.Fixed="fixed",e.Percentage="percentage",e.Free="free_shipping"}(d||(d={})),function(e){e.Billing="billing",e.Shipping="shipping"}(f||(f={})),function(e){e.PENDING="order-pending",e.PROCESSING="order-processing",e.COMPLETED="order-completed",e.CANCELLED="order-cancelled",e.REFUNDED="order-refunded",e.FAILED="order-failed",e.AT_LOCAL_FACILITY="order-at-local-facility",e.OUT_FOR_DELIVERY="order-out-for-delivery"}(v||(v={})),function(e){e.PENDING="payment-pending",e.PROCESSING="payment-processing",e.SUCCESS="payment-success",e.FAILED="payment-failed",e.REVERSAL="payment-reversal",e.COD="payment-cash-on-delivery"}(h||(h={})),function(e){e.SuperAdmin="super_admin",e.StoreOwner="store_owner",e.Staff="staff",e.Customer="customer"}(m||(m={}))}}]);