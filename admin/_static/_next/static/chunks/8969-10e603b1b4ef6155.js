"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8969],{6929:function(e,t,n){var l=n(85893),o=n(21873),r=n(25675),a=n(19662),u=n(46619),i=n(89439),s=n(18269),c=n(11163),d=n(70300),p=n(3620),v=n(51379),f=n(67294),m=n(80182),y=n(90551),b=n(23375);t.Z=function(e){var t,n,P=e.products,g=e.paginatorInfo,x=e.onPagination,h=e.onSort,S=e.onOrder,I=(0,c.useRouter)(),E=(0,d.$G)().t,w=(0,v.S)(),k=w.alignLeft,T=w.alignRight,C=(0,f.useState)({sort:p.As.Desc,column:null}),D=C[0],A=C[1],N=function(e){return{onClick:function(){h((function(e){return e===p.As.Desc?p.As.Asc:p.As.Desc})),S(e),A({sort:D.sort===p.As.Desc?p.As.Asc:p.As.Desc,column:e})}}},R=[{title:E("table:table-item-image"),dataIndex:"image",key:"image",align:k,width:74,render:function(e,t){var o=t.name;return(0,l.jsx)(r.default,{src:null!==(n=null===e||void 0===e?void 0:e.thumbnail)&&void 0!==n?n:u.U.product.placeholder,alt:o,layout:"fixed",width:42,height:42,className:"overflow-hidden rounded"})}},{title:(0,l.jsx)(m.Z,{title:E("table:table-item-title"),ascending:D.sort===p.As.Asc&&"name"===D.column,isActive:"name"===D.column}),className:"cursor-pointer",dataIndex:"name",key:"name",align:k,width:300,ellipsis:!0,onHeaderCell:function(){return N("name")}},{title:E("table:table-item-group"),dataIndex:"type",key:"type",width:120,align:"center",ellipsis:!0,render:function(e){return(0,l.jsx)("span",{className:"truncate whitespace-nowrap",children:null===e||void 0===e?void 0:e.name})}},{title:E("table:table-item-shop"),dataIndex:"shop",key:"shop",width:120,align:"center",ellipsis:!0,render:function(e){return(0,l.jsx)("span",{className:"truncate whitespace-nowrap",children:null===e||void 0===e?void 0:e.name})}},{title:"Product Type",dataIndex:"product_type",key:"product_type",width:120,align:"center",render:function(e){return(0,l.jsx)("span",{className:"truncate whitespace-nowrap",children:e})}},{title:(0,l.jsx)(m.Z,{title:E("table:table-item-unit"),ascending:D.sort===p.As.Asc&&"price"===D.column,isActive:"price"===D.column}),className:"cursor-pointer",dataIndex:"price",key:"price",align:T,width:180,onHeaderCell:function(){return N("price")},render:function(e,t){var n=(0,i.ZP)({amount:null===t||void 0===t?void 0:t.max_price}).price,o=(0,i.ZP)({amount:null===t||void 0===t?void 0:t.min_price}).price,r=(0,i.ZP)({amount:e}).price,a=(null===t||void 0===t?void 0:t.product_type)===p.kv.Variable?"".concat(o," - ").concat(n):r;return(0,l.jsx)("span",{className:"whitespace-nowrap",title:a,children:a})}},{title:(0,l.jsx)(m.Z,{title:E("table:table-item-quantity"),ascending:D.sort===p.As.Asc&&"quantity"===D.column,isActive:"quantity"===D.column}),className:"cursor-pointer",dataIndex:"quantity",key:"quantity",align:"center",width:150,onHeaderCell:function(){return N("quantity")},render:function(e){return e<2?(0,l.jsx)(s.Z,{text:E("common:text-out-of-stock"),color:"bg-red-500 text-white"}):(0,l.jsx)("span",{children:e})}},{title:E("table:table-item-status"),dataIndex:"status",key:"status",align:"left",width:180,render:function(e,t){return(0,l.jsxs)("div",{className:"flex justify-start ".concat((null===t||void 0===t?void 0:t.quantity)>0&&(null===t||void 0===t?void 0:t.quantity)<10?"flex-col items-baseline space-y-3 3xl:flex-row 3xl:space-x-3 3xl:space-y-0 rtl:3xl:space-x-reverse":"items-center space-x-3 rtl:space-x-reverse"),children:[(0,l.jsx)(s.Z,{text:e,color:"draft"===e.toLocaleLowerCase()?"bg-yellow-400":"bg-accent"}),(null===t||void 0===t?void 0:t.quantity)>0&&(null===t||void 0===t?void 0:t.quantity)<10&&(0,l.jsx)(s.Z,{text:E("common:text-low-quantity"),color:"bg-red-600",animate:!0})]})}},{title:E("table:table-item-actions"),dataIndex:"slug",key:"actions",align:"right",width:120,render:function(e,t){return(0,l.jsx)(b.Z,{slug:e,record:t,deleteModalView:"DELETE_PRODUCT",routes:null===y.Z||void 0===y.Z?void 0:y.Z.product})}}];return(null===I||void 0===I||null===(t=I.query)||void 0===t?void 0:t.shop)&&(R=null===R||void 0===R?void 0:R.filter((function(e){return"shop"!==(null===e||void 0===e?void 0:e.key)}))),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-6 overflow-hidden rounded shadow",children:(0,l.jsx)(a.i,{columns:R,emptyText:E("table:empty-table-data"),data:P,rowKey:"id",scroll:{x:900}})}),!!(null===g||void 0===g?void 0:g.total)&&(0,l.jsx)("div",{className:"flex items-center justify-end",children:(0,l.jsx)(o.Z,{total:g.total,current:g.currentPage,pageSize:g.perPage,onChange:x,showLessItems:!0})})]})}},18269:function(e,t,n){var l=n(85893),o=n(94184),r=n.n(o),a=n(70300);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t,n=(0,a.$G)().t,o=e.className,i=e.color,s=e.textColor,c=e.text,d=e.textKey,p=e.animate,v=void 0!==p&&p,f="px-3 py-1 rounded-full text-xs whitespace-nowrap relative",m="animate-pulse",y="bg-accent",b="text-light";return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("span",{className:r()(f,(t={},u(t,y,!i),u(t,b,!s),u(t,m,v),t),i,s,o),children:d?n(d):c})})}},6512:function(e,t,n){n.d(t,{p:function(){return A}});var l,o,r=n(67294),a=n(32984),u=n(12351),i=n(23784),s=n(19946),c=n(61363),d=n(64103),p=n(16567),v=n(14157),f=n(15466),m=n(73781),y=((o=y||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o),b=((l=b||{})[l.ToggleDisclosure=0]="ToggleDisclosure",l[l.CloseDisclosure=1]="CloseDisclosure",l[l.SetButtonId=2]="SetButtonId",l[l.SetPanelId=3]="SetPanelId",l[l.LinkPanel=4]="LinkPanel",l[l.UnlinkPanel=5]="UnlinkPanel",l);let P={0:e=>({...e,disclosureState:(0,a.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},g=(0,r.createContext)(null);function x(e){let t=(0,r.useContext)(g);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,x),t}return t}g.displayName="DisclosureContext";let h=(0,r.createContext)(null);function S(e){let t=(0,r.useContext)(h);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,S),t}return t}h.displayName="DisclosureAPIContext";let I=(0,r.createContext)(null);function E(e,t){return(0,a.E)(t.type,P,e,t)}I.displayName="DisclosurePanelContext";let w=r.Fragment,k=(0,u.yV)((function(e,t){let{defaultOpen:n=!1,...l}=e,o=(0,r.useRef)(null),s=(0,i.T)(t,(0,i.h)((e=>{o.current=e}),void 0===e.as||e.as===r.Fragment)),c=(0,r.useRef)(null),d=(0,r.useRef)(null),v=(0,r.useReducer)(E,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:d,panelRef:c,buttonId:null,panelId:null}),[{disclosureState:y,buttonId:b},P]=v,x=(0,m.z)((e=>{P({type:1});let t=(0,f.r)(o);if(!t||!b)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(b):t.getElementById(b);null==n||n.focus()})),S=(0,r.useMemo)((()=>({close:x})),[x]),I=(0,r.useMemo)((()=>({open:0===y,close:x})),[y,x]),k={ref:s};return r.createElement(g.Provider,{value:v},r.createElement(h.Provider,{value:S},r.createElement(p.up,{value:(0,a.E)(y,{0:p.ZM.Open,1:p.ZM.Closed})},(0,u.sY)({ourProps:k,theirProps:l,slot:I,defaultTag:w,name:"Disclosure"}))))})),T=(0,u.yV)((function(e,t){let n=(0,s.M)(),{id:l=`headlessui-disclosure-button-${n}`,...o}=e,[a,p]=x("Disclosure.Button"),f=(0,r.useContext)(I),y=null!==f&&f===a.panelId,b=(0,r.useRef)(null),P=(0,i.T)(b,t,y?null:a.buttonRef);(0,r.useEffect)((()=>{if(!y)return p({type:2,buttonId:l}),()=>{p({type:2,buttonId:null})}}),[l,p,y]);let g=(0,m.z)((e=>{var t;if(y){if(1===a.disclosureState)return;switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),p({type:0}),null==(t=a.buttonRef.current)||t.focus()}}else switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),p({type:0})}})),h=(0,m.z)((e=>{if(e.key===c.R.Space)e.preventDefault()})),S=(0,m.z)((t=>{var n;(0,d.P)(t.currentTarget)||e.disabled||(y?(p({type:0}),null==(n=a.buttonRef.current)||n.focus()):p({type:0}))})),E=(0,r.useMemo)((()=>({open:0===a.disclosureState})),[a]),w=(0,v.f)(e,b),k=y?{ref:P,type:w,onKeyDown:g,onClick:S}:{ref:P,id:l,type:w,"aria-expanded":e.disabled?void 0:0===a.disclosureState,"aria-controls":a.linkedPanel?a.panelId:void 0,onKeyDown:g,onKeyUp:h,onClick:S};return(0,u.sY)({ourProps:k,theirProps:o,slot:E,defaultTag:"button",name:"Disclosure.Button"})})),C=u.AN.RenderStrategy|u.AN.Static,D=(0,u.yV)((function(e,t){let n=(0,s.M)(),{id:l=`headlessui-disclosure-panel-${n}`,...o}=e,[a,c]=x("Disclosure.Panel"),{close:d}=S("Disclosure.Panel"),v=(0,i.T)(t,a.panelRef,(e=>{c({type:e?4:5})}));(0,r.useEffect)((()=>(c({type:3,panelId:l}),()=>{c({type:3,panelId:null})})),[l,c]);let f=(0,p.oJ)(),m=null!==f?f===p.ZM.Open:0===a.disclosureState,y=(0,r.useMemo)((()=>({open:0===a.disclosureState,close:d})),[a,d]),b={ref:v,id:l};return r.createElement(I.Provider,{value:a.panelId},(0,u.sY)({ourProps:b,theirProps:o,slot:y,defaultTag:"div",features:C,visible:m,name:"Disclosure.Panel"}))})),A=Object.assign(k,{Button:T,Panel:D})},86215:function(e,t,n){n.d(t,{J:function(){return $}});var l,o,r=n(67294),a=n(32984),u=n(12351),i=n(23784),s=n(19946),c=n(61363),d=n(64103),p=n(84575),v=n(16567),f=n(14157),m=n(39650),y=n(15466),b=n(51074),P=n(14007),g=n(46045),x=n(73781),h=n(70638),S=n(3855),I=((o=I||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o),E=((l=E||{})[l.TogglePopover=0]="TogglePopover",l[l.ClosePopover=1]="ClosePopover",l[l.SetButton=2]="SetButton",l[l.SetButtonId=3]="SetButtonId",l[l.SetPanel=4]="SetPanel",l[l.SetPanelId=5]="SetPanelId",l);let w={0:e=>({...e,popoverState:(0,a.E)(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},k=(0,r.createContext)(null);function T(e){let t=(0,r.useContext)(k);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,T),t}return t}k.displayName="PopoverContext";let C=(0,r.createContext)(null);function D(e){let t=(0,r.useContext)(C);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,D),t}return t}C.displayName="PopoverAPIContext";let A=(0,r.createContext)(null);function N(){return(0,r.useContext)(A)}A.displayName="PopoverGroupContext";let R=(0,r.createContext)(null);function O(e,t){return(0,a.E)(t.type,w,e,t)}R.displayName="PopoverPanelContext";let M=(0,u.yV)((function(e,t){var n;let l=(0,r.useRef)(null),o=(0,i.T)(t,(0,i.h)((e=>{l.current=e}))),s=(0,r.useReducer)(O,{popoverState:1,buttons:[],button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,r.createRef)(),afterPanelSentinel:(0,r.createRef)()}),[{popoverState:c,button:d,buttonId:f,panel:y,panelId:g,beforePanelSentinel:h,afterPanelSentinel:I},E]=s,w=(0,b.i)(null!=(n=l.current)?n:d),T=(0,r.useMemo)((()=>{if(!d||!y)return!1;for(let a of document.querySelectorAll("body > *"))if(Number(null==a?void 0:a.contains(d))^Number(null==a?void 0:a.contains(y)))return!0;let e=(0,p.GO)(),t=e.indexOf(d),n=(t+e.length-1)%e.length,l=(t+1)%e.length,o=e[n],r=e[l];return!y.contains(o)&&!y.contains(r)}),[d,y]),D=(0,S.E)(f),A=(0,S.E)(g),R=(0,r.useMemo)((()=>({buttonId:D,panelId:A,close:()=>E({type:1})})),[D,A,E]),M=N(),j=null==M?void 0:M.registerPopover,B=(0,x.z)((()=>{var e;return null!=(e=null==M?void 0:M.isFocusWithinPopoverGroup())?e:(null==w?void 0:w.activeElement)&&((null==d?void 0:d.contains(w.activeElement))||(null==y?void 0:y.contains(w.activeElement)))}));(0,r.useEffect)((()=>null==j?void 0:j(R)),[j,R]),(0,P.O)(null==w?void 0:w.defaultView,"focus",(e=>{var t,n,l,o;0===c&&(B()||!d||!y||e.target!==window&&(null!=(n=null==(t=h.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(l=I.current)?void 0:l.contains)&&o.call(l,e.target)||E({type:1})))}),!0),(0,m.O)([d,y],((e,t)=>{E({type:1}),(0,p.sP)(t,p.tJ.Loose)||(e.preventDefault(),null==d||d.focus())}),0===c);let Z=(0,x.z)((e=>{E({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:d:d;null==t||t.focus()})),z=(0,r.useMemo)((()=>({close:Z,isPortalled:T})),[Z,T]),F=(0,r.useMemo)((()=>({open:0===c,close:Z})),[c,Z]),L=e,$={ref:o};return r.createElement(k.Provider,{value:s},r.createElement(C.Provider,{value:z},r.createElement(v.up,{value:(0,a.E)(c,{0:v.ZM.Open,1:v.ZM.Closed})},(0,u.sY)({ourProps:$,theirProps:L,slot:F,defaultTag:"div",name:"Popover"}))))})),j=(0,u.yV)((function(e,t){let n=(0,s.M)(),{id:l=`headlessui-popover-button-${n}`,...o}=e,[v,m]=T("Popover.Button"),{isPortalled:y}=D("Popover.Button"),P=(0,r.useRef)(null),S=`headlessui-focus-sentinel-${(0,s.M)()}`,I=N(),E=null==I?void 0:I.closeOthers,w=(0,r.useContext)(R),k=null!==w&&w===v.panelId;(0,r.useEffect)((()=>{if(!k)return m({type:3,buttonId:l}),()=>{m({type:3,buttonId:null})}}),[l,m]);let C=(0,i.T)(P,t,k?null:e=>{if(e)v.buttons.push(l);else{let e=v.buttons.indexOf(l);-1!==e&&v.buttons.splice(e,1)}v.buttons.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&m({type:2,button:e})}),A=(0,i.T)(P,t),O=(0,b.i)(P),M=(0,x.z)((e=>{var t,n,l;if(k){if(1===v.popoverState)return;switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),m({type:1}),null==(l=v.button)||l.focus()}}else switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),1===v.popoverState&&(null==E||E(v.buttonId)),m({type:0});break;case c.R.Escape:if(0!==v.popoverState)return null==E?void 0:E(v.buttonId);if(!P.current||(null==O?void 0:O.activeElement)&&!P.current.contains(O.activeElement))return;e.preventDefault(),e.stopPropagation(),m({type:1})}})),j=(0,x.z)((e=>{k||e.key===c.R.Space&&e.preventDefault()})),B=(0,x.z)((t=>{var n,l;(0,d.P)(t.currentTarget)||e.disabled||(k?(m({type:1}),null==(n=v.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===v.popoverState&&(null==E||E(v.buttonId)),m({type:0}),null==(l=v.button)||l.focus()))})),Z=(0,x.z)((e=>{e.preventDefault(),e.stopPropagation()})),z=0===v.popoverState,F=(0,r.useMemo)((()=>({open:z})),[z]),L=(0,f.f)(e,P),$=k?{ref:A,type:L,onKeyDown:M,onClick:B}:{ref:C,id:v.buttonId,type:L,"aria-expanded":e.disabled?void 0:0===v.popoverState,"aria-controls":v.panel?v.panelId:void 0,onKeyDown:M,onKeyUp:j,onClick:B,onMouseDown:Z},q=(0,h.l)(),_=(0,x.z)((()=>{let e=v.panel;e&&(0,a.E)(q.current,{[h.N.Forwards]:()=>(0,p.jA)(e,p.TO.First),[h.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})}));return r.createElement(r.Fragment,null,(0,u.sY)({ourProps:$,theirProps:o,slot:F,defaultTag:"button",name:"Popover.Button"}),z&&!k&&y&&r.createElement(g._,{id:S,features:g.A.Focusable,as:"button",type:"button",onFocus:_}))})),B=u.AN.RenderStrategy|u.AN.Static,Z=(0,u.yV)((function(e,t){let n=(0,s.M)(),{id:l=`headlessui-popover-overlay-${n}`,...o}=e,[{popoverState:a},c]=T("Popover.Overlay"),p=(0,i.T)(t),f=(0,v.oJ)(),m=null!==f?f===v.ZM.Open:0===a,y=(0,x.z)((e=>{if((0,d.P)(e.currentTarget))return e.preventDefault();c({type:1})})),b=(0,r.useMemo)((()=>({open:0===a})),[a]);return(0,u.sY)({ourProps:{ref:p,id:l,"aria-hidden":!0,onClick:y},theirProps:o,slot:b,defaultTag:"div",features:B,visible:m,name:"Popover.Overlay"})})),z=u.AN.RenderStrategy|u.AN.Static,F=(0,u.yV)((function(e,t){let n=(0,s.M)(),{id:l=`headlessui-popover-panel-${n}`,focus:o=!1,...d}=e,[f,m]=T("Popover.Panel"),{close:y,isPortalled:P}=D("Popover.Panel"),S=`headlessui-focus-sentinel-before-${(0,s.M)()}`,I=`headlessui-focus-sentinel-after-${(0,s.M)()}`,E=(0,r.useRef)(null),w=(0,i.T)(E,t,(e=>{m({type:4,panel:e})})),k=(0,b.i)(E);(0,r.useEffect)((()=>(m({type:5,panelId:l}),()=>{m({type:5,panelId:null})})),[l,m]);let C=(0,v.oJ)(),A=null!==C?C===v.ZM.Open:0===f.popoverState,N=(0,x.z)((e=>{var t;if(e.key===c.R.Escape){if(0!==f.popoverState||!E.current||(null==k?void 0:k.activeElement)&&!E.current.contains(k.activeElement))return;e.preventDefault(),e.stopPropagation(),m({type:1}),null==(t=f.button)||t.focus()}}));(0,r.useEffect)((()=>{var t;e.static||1===f.popoverState&&(null==(t=e.unmount)||t)&&m({type:4,panel:null})}),[f.popoverState,e.unmount,e.static,m]),(0,r.useEffect)((()=>{if(!o||0!==f.popoverState||!E.current)return;let e=null==k?void 0:k.activeElement;E.current.contains(e)||(0,p.jA)(E.current,p.TO.First)}),[o,E,f.popoverState]);let O=(0,r.useMemo)((()=>({open:0===f.popoverState,close:y})),[f,y]),M={ref:w,id:f.panelId,onKeyDown:N,onBlur:o&&0===f.popoverState?e=>{var t,n,l,o,r;let a=e.relatedTarget;!a||!E.current||null!=(t=E.current)&&t.contains(a)||(m({type:1}),((null==(l=null==(n=f.beforePanelSentinel.current)?void 0:n.contains)?void 0:l.call(n,a))||(null==(r=null==(o=f.afterPanelSentinel.current)?void 0:o.contains)?void 0:r.call(o,a)))&&a.focus({preventScroll:!0}))}:void 0,tabIndex:-1},j=(0,h.l)(),B=(0,x.z)((()=>{let e=E.current;e&&(0,a.E)(j.current,{[h.N.Forwards]:()=>{(0,p.jA)(e,p.TO.First)},[h.N.Backwards]:()=>{var e;null==(e=f.button)||e.focus({preventScroll:!0})}})})),Z=(0,x.z)((()=>{let e=E.current;e&&(0,a.E)(j.current,{[h.N.Forwards]:()=>{var e,t,n;if(!f.button)return;let l=(0,p.GO)(),o=l.indexOf(f.button),r=l.slice(0,o+1),a=[...l.slice(o+1),...r];for(let u of a.slice())if((null==(t=null==(e=null==u?void 0:u.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=f.panel)?void 0:n.contains(u))){let e=a.indexOf(u);-1!==e&&a.splice(e,1)}(0,p.jA)(a,p.TO.First,{sorted:!1})},[h.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})}));return r.createElement(R.Provider,{value:f.panelId},A&&P&&r.createElement(g._,{id:S,ref:f.beforePanelSentinel,features:g.A.Focusable,as:"button",type:"button",onFocus:B}),(0,u.sY)({ourProps:M,theirProps:d,slot:O,defaultTag:"div",features:z,visible:A,name:"Popover.Panel"}),A&&P&&r.createElement(g._,{id:I,ref:f.afterPanelSentinel,features:g.A.Focusable,as:"button",type:"button",onFocus:Z}))})),L=(0,u.yV)((function(e,t){let n=(0,r.useRef)(null),l=(0,i.T)(n,t),[o,a]=(0,r.useState)([]),s=(0,x.z)((e=>{a((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),c=(0,x.z)((e=>(a((t=>[...t,e])),()=>s(e)))),d=(0,x.z)((()=>{var e;let t=(0,y.r)(n);if(!t)return!1;let l=t.activeElement;return!(null==(e=n.current)||!e.contains(l))||o.some((e=>{var n,o;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(l))||(null==(o=t.getElementById(e.panelId.current))?void 0:o.contains(l))}))})),p=(0,x.z)((e=>{for(let t of o)t.buttonId.current!==e&&t.close()})),v=(0,r.useMemo)((()=>({registerPopover:c,unregisterPopover:s,isFocusWithinPopoverGroup:d,closeOthers:p})),[c,s,d,p]),f=(0,r.useMemo)((()=>({})),[]),m=e,b={ref:l};return r.createElement(A.Provider,{value:v},(0,u.sY)({ourProps:b,theirProps:m,slot:f,defaultTag:"div",name:"Popover.Group"}))})),$=Object.assign(M,{Button:j,Overlay:Z,Panel:F,Group:L})}}]);