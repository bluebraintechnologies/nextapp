"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8334],{35692:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(85893),o=n(21873),i=n(19662),a=n(54311),c=n(27484),l=n.n(c),s=n(3620),u=n(25675),d=n(70300),f=n(51379),p=n(67294),b=n(84110),m=n.n(b),v=n(70178),g=n.n(v),h=n(29387),y=n.n(h),x=n(46619),j=n(11163),w=n(80182),O=function(e){var t=e.record,n=e.id,o=t.question,i=t.answer;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text mb-2 text-sm font-semibold text-heading",children:[(0,r.jsx)("span",{className:"me-1 inline-block uppercase",children:"Q:"}),o," "]}),i?(0,r.jsxs)("p",{className:"text-sm",children:[(0,r.jsx)("span",{className:"me-1 inline-block font-semibold uppercase text-heading",children:"A:"}),i]}):(0,r.jsx)(a.Z,{id:n,showReplyQuestion:!0})]})},P=n(40487),S=n(63963),k=function(e){var t,n=e.questions,c=e.paginatorInfo,b=e.onPagination,v=e.onSort,h=e.onOrder,k=(0,d.$G)().t,N=(0,f.S)().alignLeft,E=(0,p.useState)({sort:s.As.Desc,column:null}),_=E[0],I=E[1],A=[{title:k("table:table-item-image"),dataIndex:"product",key:"product-image",align:N,width:100,render:function(e){var n;return(0,r.jsx)(u.default,{src:null!==(t=null===e||void 0===e||null===(n=e.image)||void 0===n?void 0:n.thumbnail)&&void 0!==t?t:x.U.product.placeholder,alt:null===e||void 0===e?void 0:e.name,layout:"fixed",width:60,height:60,className:"overflow-hidden rounded"})}},{title:k("table:table-item-question-answer"),className:"cursor-pointer",key:"question",align:N,width:450,render:function(e,t){return(0,r.jsx)(O,{record:e,id:t})}},{title:k("table:table-item-customer-name"),dataIndex:"user",key:"user",align:N,width:150,render:function(e){return(0,r.jsx)("span",{children:null===e||void 0===e?void 0:e.name})}},{title:k("table:table-item-product-name"),dataIndex:"product",key:"product-image",align:N,width:300,render:function(e){return(0,r.jsx)("a",{href:"http://localhost:3003/products/"+(null===e||void 0===e?void 0:e.slug),className:"transition-colors hover:text-accent",target:"_blank",rel:"noreferrer",children:null===e||void 0===e?void 0:e.name})}},{title:k("table:table-item-feedbacks"),key:"feedbacks",align:N,width:200,render:function(e){return(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"flex items-center text-xs tracking-wider text-gray-400 transition",children:[(0,r.jsx)(P.l,{className:"h-4 w-4 me-1.5"}),null===e||void 0===e?void 0:e.positive_feedbacks_count]}),(0,r.jsxs)("span",{className:"flex items-center text-xs tracking-wider text-gray-400 transition",children:[(0,r.jsx)(S.R,{className:"h-4 w-4 me-1.5"}),null===e||void 0===e?void 0:e.negative_feedbacks_count]})]})}},{title:(0,r.jsx)(w.Z,{title:k("table:table-item-date"),ascending:_.sort===s.As.Asc&&"created_at"===_.column,isActive:"created_at"===_.column}),className:"cursor-pointer",dataIndex:"created_at",key:"created_at",align:N,onHeaderCell:function(){return e="created_at",{onClick:function(){v((function(e){return e===s.As.Desc?s.As.Asc:s.As.Desc})),h(e),I({sort:_.sort===s.As.Desc?s.As.Asc:s.As.Desc,column:e})}};var e},render:function(e){return l().extend(m()),l().extend(g()),l().extend(y()),(0,r.jsx)("span",{className:"whitespace-nowrap",children:l().utc(e).tz(l().tz.guess()).fromNow()})}},{title:k("table:table-item-actions"),dataIndex:"id",key:"actions",align:"right",width:150,render:function(e,t){var n=(0,j.useRouter)().query.shop;return(0,r.jsx)(a.Z,{id:t,editModalView:"REPLY_QUESTION",deleteModalView:!n&&"DELETE_QUESTION"})}}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 overflow-hidden rounded shadow",children:(0,r.jsx)(i.i,{columns:A,emptyText:k("table:empty-table-data"),data:n,rowKey:"id",scroll:{x:1e3}})}),!!(null===c||void 0===c?void 0:c.total)&&(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsx)(o.Z,{total:c.total,current:c.currentPage,pageSize:c.perPage,onChange:b})})]})}},21873:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(85893),o=n(55891);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var c=function(e){var t=a({},e);return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20"},t,{children:(0,r.jsx)("path",{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z",fill:"currentColor",stroke:"currentColor"})}))};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u=function(e){var t=s({},e);return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20"},t,{children:(0,r.jsx)("path",{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z",fill:"currentColor",stroke:"currentColor"})}))};n(89830);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){return(0,r.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({nextIcon:(0,r.jsx)(c,{}),prevIcon:(0,r.jsx)(u,{})},e))}},80182:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(85893),o=n(94184),i=n.n(o);n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 123.959 123.958"},e,{children:(0,r.jsx)("path",{d:"M117.979 28.017h-112c-5.3 0-8 6.4-4.2 10.2l56 56c2.3 2.3 6.1 2.3 8.401 0l56-56c3.799-3.8 1.099-10.2-4.201-10.2z",fill:"currentColor"})}))};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 123.959 123.959"},e,{children:(0,r.jsx)("path",{d:"M66.18 29.742c-2.301-2.3-6.101-2.3-8.401 0l-56 56c-3.8 3.801-1.1 10.2 4.2 10.2h112c5.3 0 8-6.399 4.2-10.2l-55.999-56z",fill:"currentColor"})}))},u=function(e){var t=e.title,n=e.ascending,o=e.isActive,a=void 0===o||o;return(0,r.jsxs)("span",{className:"inline-flex items-center",children:[(0,r.jsx)("span",{children:t}),n?(0,r.jsx)(s,{width:"9",className:i()("ms-1.5 flex-shrink-0 text-gray-300",{"!text-heading":a})}):(0,r.jsx)(c,{width:"9",className:i()("ms-1.5 flex-shrink-0 text-gray-300",{"!text-heading":a})})]})}},97085:function(e,t,n){n.d(t,{VR:function(){return v},Pb:function(){return b},bD:function(){return m}});var r=n(88767),o=n(66889),i=n(17785),a=n(40782),c=n(70300),l=n(14511),s=n(14141);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=d({},(0,l.h)(i.P.QUESTIONS),{get:function(e){var t=e.id;return s.eN.get("".concat(i.P.QUESTIONS,"/").concat(t))},paginated:function(e){var t=e.type,n=e.shop_id,r=f(e,["type","shop_id"]);return s.eN.get(i.P.QUESTIONS,d({searchJoin:"and",with:"product;user"},r,{search:s.eN.formatSearchParams({type:t,shop_id:n})}))}}),b=function(e){var t,n=(0,r.useQuery)([i.P.QUESTIONS,e],(function(e){var t=e.queryKey,n=e.pageParam;return p.paginated(Object.assign({},t[1],n))}),{keepPreviousData:!0}),a=n.data,c=n.error,l=n.isLoading;return{questions:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:[],paginatorInfo:(0,o.Q)(a),error:c,loading:l}},m=function(){var e=(0,c.$G)().t,t=(0,r.useQueryClient)();return(0,r.useMutation)(p.update,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(i.P.QUESTIONS)}})},v=function(){var e=(0,r.useQueryClient)(),t=(0,c.$G)().t;return(0,r.useMutation)(p.delete,{onSuccess:function(){a.Am.success(t("common:successfully-deleted"))},onSettled:function(){e.invalidateQueries(i.P.QUESTIONS)}})}}}]);