"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1020],{31020:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(85893),a=n(37018),o=n(35109),i=n(70300),s=n(66639),u=n(25675),l=n(96872),c=n(18269),d=function(e){var t,n,a=e.shop,o=(0,i.$G)().t;return(0,r.jsx)(l.Z,{href:"/".concat(null===a||void 0===a?void 0:a.slug),children:(0,r.jsxs)("div",{className:"relative flex cursor-pointer items-center rounded border border-gray-200 bg-light p-5",children:[!1,(0,r.jsx)("div",{className:"relative flex h-16 w-16 flex-shrink-0 items-center justify-center overflow-hidden rounded-full border border-gray-100 bg-gray-300",children:(0,r.jsx)(u.default,{alt:o("common:text-logo"),src:null!==(n=null===a||void 0===a||null===(t=a.logo)||void 0===t?void 0:t.thumbnail)&&void 0!==n?n:"/product-placeholder-borderless.svg",layout:"fill",objectFit:"cover"})}),(0,r.jsxs)("div",{className:"ms-4 flex flex-col",children:[(0,r.jsx)("span",{className:"mb-2 text-lg font-semibold text-heading",children:null===a||void 0===a?void 0:a.name}),(0,r.jsx)("span",{children:(0,r.jsx)(c.Z,{textKey:(null===a||void 0===a?void 0:a.is_active)?"common:text-active":"common:text-inactive",color:(null===a||void 0===a?void 0:a.is_active)?"bg-accent":"bg-red-500"})})]})]})})},f=n(12685),m=n(6943),h=function(){var e,t,n=(0,i.$G)().t,u=(0,s.UE)(),l=u.data,c=u.isLoading,h=u.error,v=(0,m.WA)().permissions,p=(0,m.Ft)(m.M$,v);return c?(0,r.jsx)(o.Z,{text:n("common:text-loading")}):h?(0,r.jsx)(a.Z,{message:h.message}):(0,r.jsxs)(r.Fragment,{children:[p?(0,r.jsx)("div",{className:"mb-5 border-b border-dashed border-border-base pb-8 sm:mb-8",children:(0,r.jsx)("h1",{className:"text-lg font-semibold text-heading",children:n("common:sidebar-nav-item-my-shops")})}):"",(0,r.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 md:grid-cols-3 3xl:grid-cols-5",children:null===l||void 0===l||null===(e=l.shops)||void 0===e?void 0:e.map((function(e,t){return(0,r.jsx)(d,{shop:e},t)}))}),(null===l||void 0===l?void 0:l.managed_shop)||(null===l||void 0===l||null===(t=l.shops)||void 0===t?void 0:t.length)?null:(0,r.jsxs)("div",{className:"flex flex-col items-center w-full p-10",children:[(0,r.jsx)("div",{className:"relative h-auto min-h-[180px] w-[300px] sm:min-h-[370px] sm:w-[490px]",children:(0,r.jsx)(f.A,{})}),(0,r.jsx)("span",{className:"mt-6 text-lg font-semibold text-center text-body-dark sm:mt-10",children:n("common:text-no-shop")})]}),(null===l||void 0===l?void 0:l.managed_shop)?(0,r.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 3xl:grid-cols-5",children:(0,r.jsx)(d,{shop:null===l||void 0===l?void 0:l.managed_shop})}):null]})}},12685:function(e,t,n){n.d(t,{A:function(){return o}});var r=n(85893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 691.487 570.974"},e,{children:(0,r.jsx)("g",{"data-name":"Group 36290",children:(0,r.jsxs)("g",{"data-name":"Group 36289",children:[(0,r.jsxs)("g",{"data-name":"Group 36286",children:[(0,r.jsx)("path",{"data-name":"Path 22666",d:"M87.231 120.963A12.417 12.417 0 0198 110.563c4.914-.518 7.667.088 9.729-2.194s9.5-6.083 14.549-.306.552 9.248.574 18.751 4.406 33.812-14.833 33.812-21.7-11.8-21.387-22.51c.276-9.526.4-15.837.599-17.153z",fill:"#48585e"}),(0,r.jsx)("path",{"data-name":"Path 22667",d:"M90.171 119.004s22 .651 28-1.423c0 0 6.785 28.719-2.539 28.719-2.8 0-1.074-5.648-9.383-5.648-7.777 0-8.691 5.033-10.88 4.815-3.838-.382-5.882-1.486-6.4-7.851s1.202-18.612 1.202-18.612z",fill:"#f3ebe2"}),(0,r.jsx)("path",{"data-name":"Path 22668",d:"M108.024 160.621a28.861 28.861 0 01-11.447-1.988l-1.971 12.4c11.258 8.639 23.014 0 23.014 0l-1.763-12.292a15.218 15.218 0 01-7.833 1.88z",fill:"#f3ebe2"}),(0,r.jsx)("path",{"data-name":"Path 22669",d:"M161.878 215.103s-2.74-8.38-9.9-21.339-22.606-19-34.37-22.73c0 0-11.756 8.638-23.014 0-12.466 2.46-42.217 9.39-42.217 9.39L49.85 215l11.532 1.818-2.441 62.962h83.32l-2.417-43.118z",fill:"#dbdbdb"}),(0,r.jsx)("path",{"data-name":"Path 22670",d:"M91.644 116.914a13.068 13.068 0 00-12.189 17.779l-19.58 9.635.565 1.978 20.845-8.357v-.007a13.067 13.067 0 1010.362-21.028zm0 24.151a11.083 11.083 0 1111.083-11.083 11.083 11.083 0 01-11.083 11.083z",fill:"#48585e"}),(0,r.jsx)("path",{"data-name":"Path 22671",d:"M52.381 180.424c-6.358 1.494-12.508 2.791-12.508 2.791s22.065-29.993 25.478-30.893 8.027-2.355 9.616-5.025 4.821-11.7 3.106-12.385-2.071.491-2.071.491-11.231-7.7-11.122-2.958c0 0-3.871-1.279-3.641 1.361 0 0-4.124-1.354-4.11 1.848 0 0-3.868-1.718-3.224 2.966 0 0-40.715 41.5-40.516 53.333s37.182 13.226 37.182 13.226z",fill:"#f3ebe2"}),(0,r.jsx)("path",{"data-name":"Path 22672",d:"M161.881 215.104c6.132 15.359 9.1 23.539 9.1 23.539s45.879 1.971 52.835.392 30.42-12.034 30.545-10.263-12.783 8.336-12.783 8.336 17.765-3.292 23.754-6.165c0 0 2.952 12.2-12.982 16.291s-11.673 3.12-20.619 4.854-59.285 11.137-69.3 8.665-20.16-26.455-20.16-26.455z",fill:"#f3ebe2"}),(0,r.jsx)("path",{"data-name":"Path 22673",d:"M140.647 279.781l28.819 241.381h-52.343l-15.05-185.326-28.142 185.326h-51.3l39.5-241.381z",fill:"#969696"}),(0,r.jsx)("path",{"data-name":"Path 22674",d:"M83.667 310.4a.627.627 0 01-.627.627H72.553L44.316 520.803a.627.627 0 01-.621.544.62.62 0 01-.084-.006.628.628 0 01-.538-.706l28.215-209.608H60.97a.628.628 0 110-1.255h22.071a.628.628 0 01.626.628zm49.037.627h10.354a.628.628 0 100-1.255h-22.073a.628.628 0 000 1.255h10.458L148.7 521.213a.628.628 0 00.625.576h.052a.627.627 0 00.574-.677z",fill:"#48585e",stroke:"#48585e",strokeMiterlimit:"10"}),(0,r.jsx)("path",{"data-name":"Path 22675",d:"M130.18 521.162s-2.048 17.319-3.125 33.41h61.672s-.534-15.2-15.176-19.328-15.66-14.082-15.66-14.082z",fill:"#48585e"}),(0,r.jsx)("path",{"data-name":"Path 22676",d:"M127.055 554.573v6.44h15.916l4.443-3.883 2.72 3.883h38.593v-6.44z",fill:"#969696"}),(0,r.jsx)("path",{"data-name":"Path 22677",d:"M58.547 521.162s2.048 17.319 3.125 33.41H0s.534-15.2 15.176-19.328 15.66-14.082 15.66-14.082z",fill:"#48585e"}),(0,r.jsx)("path",{"data-name":"Path 22678",d:"M61.672 554.573v6.44H45.756l-4.443-3.883-2.72 3.883H0v-6.44z",fill:"#969696"}),(0,r.jsx)("path",{"data-name":"Path 22679",d:"M159.043 207.419l-18.563 18.252v10.992a.628.628 0 11-1.255 0v-24.576a.628.628 0 011.255 0v11.823l17.683-17.387a.63.63 0 11.88.9zm-99.1-25.771a.629.629 0 00-.69.558l-3.145 29.816a.627.627 0 00.558.69.613.613 0 00.067 0 .628.628 0 00.624-.562l3.145-29.816a.627.627 0 00-.561-.687zm82.328 97.507h-83.32a.628.628 0 100 1.255h83.32a.628.628 0 100-1.255z",fill:"#48585e",stroke:"#48585e",strokeMiterlimit:"10"})]}),(0,r.jsxs)("g",{"data-name":"Group 36288",children:[(0,r.jsxs)("g",{"data-name":"Group 36287",children:[(0,r.jsx)("path",{"data-name":"Path 22680",d:"M355.168 539.507l203.738 13.632a9.433 9.433 0 009.891-7.616L672.268 11.797A9.433 9.433 0 00661.778.649l-213.069 28a9.434 9.434 0 00-8.035 7.58l-94.137 492.092a9.433 9.433 0 008.631 11.186z",fill:"#727575",stroke:"#48585e",strokeMiterlimit:"10"}),(0,r.jsx)("path",{"data-name":"Path 22681",d:"M645.24 27.354l-188.3 24.748-90.017 470.551 179.964 12.041z",fill:"#dbdbdb"}),(0,r.jsx)("path",{"data-name":"Path 22682",d:"M355.168 539.507l203.739 13.632a9.432 9.432 0 009.89-7.617L672.265 11.795A9.433 9.433 0 00663.08.567c5.917-.268 29.9-.273 27.771 17.389-2.424 20.132-101.251 518.725-108.4 544.651-2.052 7.438-7.915 8.545-28.918 7.632-79.195-3.443-182.625-11.84-197.713-15.173-10.133-2.239-9.17-16.764-9.309-23.327a9.437 9.437 0 008.657 7.768z",fill:"#5a6568",stroke:"#48585e",strokeMiterlimit:"10"})]}),(0,r.jsx)("path",{"data-name":"Path 22683",d:"M566.112 279.036s.876 32.7 24 32.7 29.567-28.687 29.567-28.687l52.585-271.254C674.196-.551 663.078.567 663.078.567L453.797 28.933s-12.182.859-13.127 7.3l-42.626 222.822-1.554 8.251s-4.823 30.432 19.769 32.167 32.149-28.74 32.149-28.74l4.792.573s-4.823 30.432 19.769 32.167 32.149-28.74 32.149-28.74l4.919.875s-4.823 30.432 19.769 32.167 32.149-28.74 32.149-28.74z",fill:"#fff"}),(0,r.jsx)("path",{"data-name":"Path 22684",d:"M510.036 275.608l50.7-261.168 54.116-7.9-52.894 272.494s-7.9 29.785-32.148 28.74-19.774-32.166-19.774-32.166z",fill:"#969696"}),(0,r.jsx)("path",{"data-name":"Path 22685",d:"M496.456 23.2l-48.048 247.532s-9.535 31.47-32.149 28.739-19.3-24.07-19.769-32.167l44.18-231.073s.208-5.547 13.127-7.3z",fill:"#969696"}),(0,r.jsxs)("g",{"data-name":"Group 36291",fill:"none",stroke:"#5a6568",strokeLinecap:"round",strokeWidth:"4",children:[(0,r.jsx)("path",{"data-name":"Line 5",d:"M439.596 383.445l70.318 100.653",strokeWidth:"3.99844"}),(0,r.jsx)("path",{"data-name":"Line 6",d:"M532.57 393.198l-107.619 83.87",strokeWidth:"3.99844"})]})]})]})})}))}},18269:function(e,t,n){var r=n(85893),a=n(94184),o=n.n(a),i=n(70300);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t,n=(0,i.$G)().t,a=e.className,u=e.color,l=e.textColor,c=e.text,d=e.textKey,f=e.animate,m=void 0!==f&&f,h="px-3 py-1 rounded-full text-xs whitespace-nowrap relative",v="animate-pulse",p="bg-accent",g="text-light";return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:o()(h,(t={},s(t,p,!u),s(t,g,!l),s(t,v,m),t),u,l,a),children:d?n(d):c})})}},59338:function(e,t,n){n.d(t,{B:function(){return l}});var r=n(17785),a=n(14141);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l={me:function(){return a.eN.get(r.P.ME)},login:function(e){return a.eN.post(r.P.TOKEN,e)},logout:function(){return a.eN.post(r.P.LOGOUT,{})},register:function(e){return a.eN.post(r.P.REGISTER,e)},update:function(e){var t=e.id,n=e.input;return a.eN.put("".concat(r.P.USERS,"/").concat(t),n)},changePassword:function(e){return a.eN.post(r.P.CHANGE_PASSWORD,e)},forgetPassword:function(e){return a.eN.post(r.P.FORGET_PASSWORD,e)},verifyForgetPasswordToken:function(e){return a.eN.post(r.P.VERIFY_FORGET_PASSWORD_TOKEN,e)},resetPassword:function(e){return a.eN.post(r.P.RESET_PASSWORD,e)},makeAdmin:function(e){return a.eN.post(r.P.MAKE_ADMIN,e)},block:function(e){return a.eN.post(r.P.BLOCK_USER,e)},unblock:function(e){return a.eN.post(r.P.UNBLOCK_USER,e)},addWalletPoints:function(e){return a.eN.post(r.P.ADD_WALLET_POINTS,e)},fetchUsers:function(e){var t=e.name,n=u(e,["name"]);return a.eN.get(r.P.USERS,s({searchJoin:"and",with:"wallet"},n,{search:a.eN.formatSearchParams({name:t})}))},fetchAdmins:function(e){var t=i({},e);return a.eN.get(r.P.ADMIN_LIST,s({searchJoin:"and"},t))},fetchUser:function(e){var t=e.id;return a.eN.get("".concat(r.P.USERS,"/").concat(t))}}},66639:function(e,t,n){n.d(t,{UE:function(){return m},f0:function(){return h},_y:function(){return v},l4:function(){return p},kD:function(){return g},$h:function(){return x},xy:function(){return b},AV:function(){return P},gL:function(){return j},lJ:function(){return S},q3:function(){return y},xE:function(){return M},h3:function(){return O},bT:function(){return N},xY:function(){return E},Jc:function(){return w}});var r=n(13135),a=n(90551),o=n(31955),i=n(70300),s=n(11163),u=n(88767),l=n(40782),c=n(17785),d=n(59338),f=n(66889),m=function(){return(0,u.useQuery)([c.P.ME],d.B.me)};function h(){return(0,u.useMutation)(d.B.login)}var v=function(){var e=(0,s.useRouter)(),t=(0,i.$G)().t;return(0,u.useMutation)(d.B.logout,{onSuccess:function(){o.Z.remove(r.E$),e.replace(a.Z.login),l.Am.success(t("common:successfully-logout"))}})},p=function(){var e=(0,u.useQueryClient)(),t=(0,i.$G)().t;return(0,u.useMutation)(d.B.register,{onSuccess:function(){l.Am.success(t("common:successfully-register"))},onSettled:function(){e.invalidateQueries(c.P.REGISTER)}})},g=function(){var e=(0,i.$G)().t,t=(0,u.useQueryClient)();return(0,u.useMutation)(d.B.update,{onSuccess:function(){l.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(c.P.ME),t.invalidateQueries(c.P.USERS)}})},x=function(){return(0,u.useMutation)(d.B.changePassword)},b=function(){return(0,u.useMutation)(d.B.forgetPassword)},P=function(){return(0,u.useMutation)(d.B.verifyForgetPasswordToken)},j=function(){return(0,u.useMutation)(d.B.resetPassword)},S=function(){var e=(0,u.useQueryClient)(),t=(0,i.$G)().t;return(0,u.useMutation)(d.B.makeAdmin,{onSuccess:function(){l.Am.success(t("common:successfully-updated"))},onSettled:function(){e.invalidateQueries(c.P.USERS)}})},y=function(){var e=(0,u.useQueryClient)(),t=(0,i.$G)().t;return(0,u.useMutation)(d.B.block,{onSuccess:function(){l.Am.success(t("common:successfully-block"))},onSettled:function(){e.invalidateQueries(c.P.USERS),e.invalidateQueries(c.P.STAFFS)}})},M=function(){var e=(0,u.useQueryClient)(),t=(0,i.$G)().t;return(0,u.useMutation)(d.B.unblock,{onSuccess:function(){l.Am.success(t("common:successfully-unblock"))},onSettled:function(){e.invalidateQueries(c.P.USERS),e.invalidateQueries(c.P.STAFFS)}})},O=function(){var e=(0,i.$G)().t,t=(0,u.useQueryClient)();return(0,u.useMutation)(d.B.addWalletPoints,{onSuccess:function(){l.Am.success(e("common:successfully-updated"))},onSettled:function(){t.invalidateQueries(c.P.USERS)}})},N=function(e){var t=e.id;return(0,u.useQuery)([c.P.USERS,t],(function(){return d.B.fetchUser({id:t})}),{enabled:Boolean(t)})},E=function(e){var t,n=(0,u.useQuery)([c.P.USERS,e],(function(){return d.B.fetchUsers(e)}),{keepPreviousData:!0}),r=n.data,a=n.isLoading,o=n.error;return{users:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:[],paginatorInfo:(0,f.Q)(r),loading:a,error:o}},w=function(e){var t,n=(0,u.useQuery)([c.P.ADMIN_LIST,e],(function(){return d.B.fetchAdmins(e)}),{keepPreviousData:!0}),r=n.data,a=n.isLoading,o=n.error;return{admins:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:[],paginatorInfo:(0,f.Q)(r),loading:a,error:o}}}}]);