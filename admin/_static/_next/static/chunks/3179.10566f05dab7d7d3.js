"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3179],{79439:function(e,n,t){t.d(n,{c:function(){return c}});var r=t(85893);t(67294);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}var c=function(e){var n=o({},e);return(0,r.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330",fill:"currentColor"},n,{children:[(0,r.jsx)("path",{d:"M165 0C74.019 0 0 74.019 0 165s74.019 165 165 165 165-74.019 165-165S255.981 0 165 0zm0 300c-74.44 0-135-60.561-135-135S90.56 30 165 30s135 60.561 135 135-60.561 135-135 135z"}),(0,r.jsx)("path",{d:"M226.872 106.664l-84.854 84.853-38.89-38.891c-5.857-5.857-15.355-5.858-21.213-.001-5.858 5.858-5.858 15.355 0 21.213l49.496 49.498a15 15 0 0010.606 4.394h.001c3.978 0 7.793-1.581 10.606-4.393l95.461-95.459c5.858-5.858 5.858-15.355 0-21.213-5.858-5.858-15.355-5.859-21.213-.001z"})]}))}},23179:function(e,n,t){t.r(n);var r=t(34051),u=t.n(r),o=t(85893),c=t(41464),a=t(79439),i=t(96720),s=t(72950);function l(e,n,t,r,u,o,c){try{var a=e[o](c),i=a.value}catch(s){return void t(s)}a.done?n(i):Promise.resolve(i).then(r,u)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,u){var o=e.apply(n,t);function c(e){l(o,r,u,c,a,"next",e)}function a(e){l(o,r,u,c,a,"throw",e)}c(void 0)}))}}n.default=function(){var e=(0,s.mj)(),n=e.mutate,t=e.isLoading,r=(0,i.X9)().data,l=(0,i.SO)().closeModal;function p(){return(p=f(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({id:r},{onSettled:function(){l()}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.jsx)(c.Z,{onCancel:l,onDelete:function(){return p.apply(this,arguments)},deleteBtnLoading:t,deleteBtnText:"text-shop-approve-button",icon:(0,o.jsx)(a.c,{className:"m-auto mt-4 h-10 w-10 text-accent"}),deleteBtnClassName:"!bg-accent focus:outline-none hover:!bg-accent-hover focus:!bg-accent-hover",cancelBtnClassName:"!bg-red-600 focus:outline-none hover:!bg-red-700 focus:!bg-red-700",title:"text-shop-approve-description",description:""})}},72950:function(e,n,t){t.d(n,{bg:function(){return g},TC:function(){return O},mj:function(){return y},DZ:function(){return m},uL:function(){return S},D9:function(){return P}});var r=t(70300),u=t(90551),o=t(88767),c=t(17785),a=t(40782),i=t(14141);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function f(e,n){if(null==e)return{};var t,r,u=function(e,n){if(null==e)return{};var t,r,u={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(u[t]=e[t]);return u}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(u[t]=e[t])}return u}var p=l({},(0,t(14511).h)(c.P.SHOPS),{get:function(e){var n=e.slug;return i.eN.get("".concat(c.P.SHOPS,"/").concat(n))},paginated:function(e){var n=e.name,t=f(e,["name"]);return i.eN.get(c.P.SHOPS,l({searchJoin:"and"},t,{search:i.eN.formatSearchParams({name:n})}))},approve:function(e){return i.eN.post(c.P.APPROVE_SHOP,e)},disapprove:function(e){return i.eN.post(c.P.DISAPPROVE_SHOP,e)}}),d=t(66889),v=t(11163),b=t(6943),g=function(){var e=(0,r.$G)().t,n=(0,o.useQueryClient)();return(0,o.useMutation)(p.approve,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(c.P.SHOPS)}})},y=function(){var e=(0,r.$G)().t,n=(0,o.useQueryClient)();return(0,o.useMutation)(p.disapprove,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(c.P.SHOPS)}})},O=function(){var e=(0,o.useQueryClient)(),n=(0,v.useRouter)();return(0,o.useMutation)(p.create,{onSuccess:function(){var e=(0,b.WA)().permissions;if((0,b.Ft)(b.M$,e))return n.push(u.Z.adminMyShops);n.push(u.Z.dashboard)},onSettled:function(){e.invalidateQueries(c.P.SHOPS)}})},P=function(){var e=(0,r.$G)().t,n=(0,o.useQueryClient)();return(0,o.useMutation)(p.update,{onSuccess:function(){a.Am.success(e("common:successfully-updated"))},onSettled:function(){n.invalidateQueries(c.P.SHOPS)}})},m=function(e,n){var t=e.slug;return(0,o.useQuery)([c.P.SHOPS,{slug:t}],(function(){return p.get({slug:t})}),n)},S=function(e){var n,t=(0,o.useQuery)([c.P.SHOPS,e],(function(e){var n=e.queryKey,t=e.pageParam;return p.paginated(Object.assign({},n[1],t))}),{keepPreviousData:!0}),r=t.data,u=t.error,a=t.isLoading;return{shops:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:[],paginatorInfo:(0,d.Q)(r),error:u,loading:a}}}}]);